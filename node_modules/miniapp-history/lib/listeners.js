"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fireListeners = exports.addListener = void 0;
// Page id -> action callbacks
var listeners = {};
/**
 * Add history listener
 * @param {string} pageId page unique id
 * @param {function} callback history operate action callback
 * @return {Array} target page listener list
 */
function addListener(pageId, callback) {
    if (!listeners[pageId])
        listeners[pageId] = [];
    listeners[pageId].push(callback);
    return listeners[pageId];
}
exports.addListener = addListener;
/**
 * Fire history listeners
 * @param {object} location router location object
 * @param {string} action history operate action
 */
function fireListeners(location, action) {
    var pageId = location._pageId;
    if (listeners[pageId]) {
        for (var index in listeners[pageId]) {
            listeners[pageId][index]({ location: location, action: action });
        }
    }
}
exports.fireListeners = fireListeners;
