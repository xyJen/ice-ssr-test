{"version":3,"file":"Switch.js","names":["Switch","memo","props","defaultChecked","checked","onChange","size","disabled","rest","ck","setCk","useDefaultProp","onKeyDown","useCallback","e","keyCode","KEY_CODES","LEFT","RIGHT","mergeRestProps"],"sources":["../../../../src/form/switch/Switch.tsx"],"sourcesContent":["/* eslint-disable no-param-reassign */\nimport React, { memo, useCallback } from 'react';\nimport { SwitchButton, SwitchInner } from './styled';\nimport { KEY_CODES } from '../../common/consts';\nimport { mergeRestProps, MergePropsType } from '../../common';\nimport { useDefaultProp } from '../../common/react/useDefaultProp';\n\nexport type ISwitchProps = MergePropsType<{\n  /**\n   * 是否开启\n   */\n  checked?: boolean;\n  /**\n   * 默认是否开启\n   */\n  defaultChecked?: boolean;\n  /**\n   * 变化事件\n   */\n  onChange?: (e: boolean) => void;\n  /**\n   * 是否禁用\n   */\n  disabled?: boolean;\n  /**\n   * 尺寸\n   */\n  size?: 'normal' | 'small';\n}, React.ButtonHTMLAttributes<HTMLButtonElement>>;\n\nconst Switch = memo(((props: ISwitchProps) => {\n  const {\n    defaultChecked,\n    checked,\n    onChange,\n    size = 'normal',\n    disabled,\n    ...rest\n  } = props;\n\n  const [ck, setCk] = useDefaultProp(defaultChecked || false, checked, onChange);\n\n  const onKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLButtonElement>) => {\n      if (e.keyCode === KEY_CODES.LEFT) {\n        setCk(false);\n      } else if (e.keyCode === KEY_CODES.RIGHT) {\n        setCk(true);\n      }\n    },\n    [setCk]\n  );\n\n  return (\n    <SwitchButton\n      checked={ck}\n      size={size}\n      onClick={() => setCk(!ck)}\n      onKeyDown={onKeyDown}\n      disabled={disabled}\n      {...mergeRestProps(rest, 'wdn-switch')}\n    >\n      <SwitchInner size={size} checked={ck} />\n    </SwitchButton>\n  );\n}));\n\nexport { Switch };\n"],"mappings":";;;;;;;;AACA;AACA;AACA;AACA;AACA;AAAmE;AAAA;AALnE;AAAA,uBAC4B;AA6B5B,MAAMA,MAAM,gBAAG,IAAAC,WAAI,EAAGC,KAAmB,IAAK;EAC5C,MAAM;IACJC,cAAc;IACdC,OAAO;IACPC,QAAQ;IACRC,IAAI,GAAG,QAAQ;IACfC,QAAQ;IACR,GAAGC;EACL,CAAC,GAAGN,KAAK;EAET,MAAM,CAACO,EAAE,EAAEC,KAAK,CAAC,GAAG,IAAAC,8BAAc,EAACR,cAAc,IAAI,KAAK,EAAEC,OAAO,EAAEC,QAAQ,CAAC;EAE9E,MAAMO,SAAS,GAAG,IAAAC,kBAAW,EAC1BC,CAAyC,IAAK;IAC7C,IAAIA,CAAC,CAACC,OAAO,KAAKC,iBAAS,CAACC,IAAI,EAAE;MAChCP,KAAK,CAAC,KAAK,CAAC;IACd,CAAC,MAAM,IAAII,CAAC,CAACC,OAAO,KAAKC,iBAAS,CAACE,KAAK,EAAE;MACxCR,KAAK,CAAC,IAAI,CAAC;IACb;EACF,CAAC,EACD,CAACA,KAAK,CAAC,CACR;EAED,oBACE,eAAC,oBAAY;IACX,OAAO,EAAED,EAAG;IACZ,IAAI,EAAEH,IAAK;IACX,OAAO,EAAE,MAAMI,KAAK,CAAC,CAACD,EAAE,CAAE;IAC1B,SAAS,EAAEG,SAAU;IACrB,QAAQ,EAAEL;EAAS,GACf,IAAAY,sBAAc,EAACX,IAAI,EAAE,YAAY,CAAC,gBAEtC,eAAC,mBAAW;IAAC,IAAI,EAAEF,IAAK;IAAC,OAAO,EAAEG;EAAG,EAAG,CAC3B;AAEnB,CAAC,CAAE;AAAC"}