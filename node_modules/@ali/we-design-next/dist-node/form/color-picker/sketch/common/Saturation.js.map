{"version":3,"file":"Saturation.js","names":["Saturation","PureComponent","Component","constructor","props","handleChange","e","onChange","throttle","saturation","calculateChange","hsl","container","handleMouseDown","window","addEventListener","handleMouseUp","unbindEventListeners","debounce","fn","data","componentWillUnmount","removeEventListener","render","color","white","black","pointer","circle","style","styles","reactCSS","default","absolute","background","h","borderRadius","radius","boxShadow","shadow","position","top","hsv","v","left","s","cursor","width","height","transform","custom"],"sources":["../../../../../../src/form/color-picker/sketch/common/Saturation.js"],"sourcesContent":["import React, { Component, PureComponent } from 'react';\nimport reactCSS from 'reactcss';\nimport { debounce } from 'lodash-es';\nimport * as saturation from '../helpers/saturation';\n\nexport class Saturation extends (PureComponent || Component) {\n  constructor(props) {\n    super(props);\n\n    // todo\n    // this.throttle = throttle((fn, data, e) => {\n    //   fn(data, e);\n    // }, 50);\n    this.throttle = debounce((fn, data, e) => {\n      fn(data, e);\n    }, 5);\n  }\n\n  componentWillUnmount() {\n    // this.throttle.cancel();\n    this.unbindEventListeners();\n  }\n\n  handleChange = (e) => {\n    typeof this.props.onChange === 'function' &&\n      this.throttle(\n        this.props.onChange,\n        saturation.calculateChange(e, this.props.hsl, this.container),\n        e,\n      );\n  };\n\n  handleMouseDown = (e) => {\n    this.handleChange(e);\n    window.addEventListener('mousemove', this.handleChange);\n    window.addEventListener('mouseup', this.handleMouseUp);\n  };\n\n  handleMouseUp = () => {\n    this.unbindEventListeners();\n  };\n\n  unbindEventListeners() {\n    window.removeEventListener('mousemove', this.handleChange);\n    window.removeEventListener('mouseup', this.handleMouseUp);\n  }\n\n  render() {\n    const { color, white, black, pointer, circle } = this.props.style || {};\n    const styles = reactCSS(\n      {\n        default: {\n          color: {\n            absolute: '0px 0px 0px 0px',\n            background: `hsl(${this.props.hsl.h},100%, 50%)`,\n            borderRadius: this.props.radius,\n          },\n          white: {\n            absolute: '0px 0px 0px 0px',\n            borderRadius: this.props.radius,\n          },\n          black: {\n            absolute: '0px 0px 0px 0px',\n            boxShadow: this.props.shadow,\n            borderRadius: this.props.radius,\n          },\n          pointer: {\n            position: 'absolute',\n            top: `${-(this.props.hsv.v * 100) + 100}%`,\n            left: `${this.props.hsv.s * 100}%`,\n            cursor: 'default',\n          },\n          circle: {\n            width: '4px',\n            height: '4px',\n            boxShadow: `0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)`,\n            borderRadius: '50%',\n            cursor: 'hand',\n            transform: 'translate(-2px, -2px)',\n          },\n        },\n        custom: {\n          color,\n          white,\n          black,\n          pointer,\n          circle,\n        },\n      },\n      { custom: !!this.props.style },\n    );\n\n    return (\n      <div\n        style={styles.color}\n        ref={(container) => {\n          this.container = container;\n        }}\n        onMouseDown={this.handleMouseDown}\n        onTouchMove={this.handleChange}\n        onTouchStart={this.handleChange}\n      >\n        <style>\n          {`\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        `}\n        </style>\n        <div style={styles.white} className=\"saturation-white\">\n          <div style={styles.black} className=\"saturation-black\" />\n          <div style={styles.pointer}>\n            {this.props.pointer ? (\n              <this.props.pointer {...this.props} />\n            ) : (\n                <div style={styles.circle} />\n              )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Saturation;\n"],"mappings":"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"}