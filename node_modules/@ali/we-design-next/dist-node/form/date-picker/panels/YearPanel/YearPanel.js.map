{"version":3,"file":"YearPanel.js","names":["YEAR_DECADE_COUNT","YEAR_COL_COUNT","YEAR_ROW_COUNT","YearPanel","React","memo","props","viewDate","value","onPanelChange","onSelect","disabledDate","showNow","nowNode","yearNumber","DateController","getYear","startYear","Math","floor","endYear","baseYear","setYear","ceil","handleSelect","useCallback","onDecadeChange","diff","newDate","addYear","curDate","isSameYear","undefined"],"sources":["../../../../../../src/form/date-picker/panels/YearPanel/YearPanel.tsx"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport { Dayjs } from \"dayjs\";\nimport { PanelWrapper } from \"../DatePanel/styled\";\nimport { Header } from \"../Header\";\nimport { PanelBody } from \"../PanelBody\";\nimport { DateController, isSameYear } from \"../../date-util\";\nimport type { IYearPanelProps } from '../interface';\n\nconst YEAR_DECADE_COUNT = 10;\nconst YEAR_COL_COUNT = 3;\nconst YEAR_ROW_COUNT = 4;\n\nexport const YearPanel: React.FC<IYearPanelProps> = React.memo((props) => {\n  const { viewDate, value, onPanelChange, onSelect, disabledDate, showNow, nowNode } = props;\n\n  const yearNumber = DateController.getYear(viewDate);\n  const startYear =\n    Math.floor(yearNumber / YEAR_DECADE_COUNT) * YEAR_DECADE_COUNT;\n  const endYear = startYear + YEAR_DECADE_COUNT - 1;\n  const baseYear = DateController.setYear(\n    viewDate,\n    startYear -\n      Math.ceil((YEAR_COL_COUNT * YEAR_ROW_COUNT - YEAR_DECADE_COUNT) / 2)\n  );\n\n  const handleSelect = useCallback(\n    (value: Dayjs) => {\n      onSelect(value);\n      onPanelChange('year', \"date\");\n    },\n    [onSelect]\n  );\n\n  const onDecadeChange = useCallback((diff: number) => {\n    const newDate = DateController.addYear(viewDate, diff * 10);\n    onSelect(newDate);\n  }, [viewDate, onSelect]);\n\n  return (\n    <PanelWrapper showNow={showNow}>\n      <Header onPrev={() => onDecadeChange(-1)} onNext={() => onDecadeChange(1)}>\n        <span>\n          {startYear}-{endYear}\n        </span>\n      </Header>\n      <PanelBody\n        viewDate={viewDate}\n        rowNum={YEAR_ROW_COUNT}\n        colNum={YEAR_COL_COUNT}\n        baseDate={baseYear}\n        getCellDate={DateController.addYear}\n        getCellText={DateController.getYear}\n        onSelect={handleSelect}\n        disabledDate={disabledDate}\n        mode=\"year\"\n        getCellClassName={(curDate: Dayjs) => [\n          'year',\n          value && isSameYear(curDate, value) ? 'selected' : undefined,\n          DateController.getYear(curDate) < startYear || DateController.getYear(curDate) > endYear ? 'notCurrentPeriod' : undefined,\n        ]}\n      />\n      {nowNode}\n    </PanelWrapper>\n  );\n});\n"],"mappings":";;;;;;AAAA;AAEA;AACA;AACA;AACA;AAA6D;AAAA;AAAA,uBAJjC;AAO5B,MAAMA,iBAAiB,GAAG,EAAE;AAC5B,MAAMC,cAAc,GAAG,CAAC;AACxB,MAAMC,cAAc,GAAG,CAAC;AAEjB,MAAMC,SAAoC,gBAAGC,cAAK,CAACC,IAAI,CAAEC,KAAK,IAAK;EACxE,MAAM;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,aAAa;IAAEC,QAAQ;IAAEC,YAAY;IAAEC,OAAO;IAAEC;EAAQ,CAAC,GAAGP,KAAK;EAE1F,MAAMQ,UAAU,GAAGC,wBAAc,CAACC,OAAO,CAACT,QAAQ,CAAC;EACnD,MAAMU,SAAS,GACbC,IAAI,CAACC,KAAK,CAACL,UAAU,GAAGd,iBAAiB,CAAC,GAAGA,iBAAiB;EAChE,MAAMoB,OAAO,GAAGH,SAAS,GAAGjB,iBAAiB,GAAG,CAAC;EACjD,MAAMqB,QAAQ,GAAGN,wBAAc,CAACO,OAAO,CACrCf,QAAQ,EACRU,SAAS,GACPC,IAAI,CAACK,IAAI,CAAC,CAACtB,cAAc,GAAGC,cAAc,GAAGF,iBAAiB,IAAI,CAAC,CAAC,CACvE;EAED,MAAMwB,YAAY,GAAG,IAAAC,kBAAW,EAC7BjB,KAAY,IAAK;IAChBE,QAAQ,CAACF,KAAK,CAAC;IACfC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC;EAC/B,CAAC,EACD,CAACC,QAAQ,CAAC,CACX;EAED,MAAMgB,cAAc,GAAG,IAAAD,kBAAW,EAAEE,IAAY,IAAK;IACnD,MAAMC,OAAO,GAAGb,wBAAc,CAACc,OAAO,CAACtB,QAAQ,EAAEoB,IAAI,GAAG,EAAE,CAAC;IAC3DjB,QAAQ,CAACkB,OAAO,CAAC;EACnB,CAAC,EAAE,CAACrB,QAAQ,EAAEG,QAAQ,CAAC,CAAC;EAExB,oBACE,eAAC,oBAAY;IAAC,OAAO,EAAEE;EAAQ,gBAC7B,eAAC,cAAM;IAAC,MAAM,EAAE,MAAMc,cAAc,CAAC,CAAC,CAAC,CAAE;IAAC,MAAM,EAAE,MAAMA,cAAc,CAAC,CAAC;EAAE,gBACxE,6BACGT,SAAS,OAAGG,OAAO,CACf,CACA,eACT,eAAC,oBAAS;IACR,QAAQ,EAAEb,QAAS;IACnB,MAAM,EAAEL,cAAe;IACvB,MAAM,EAAED,cAAe;IACvB,QAAQ,EAAEoB,QAAS;IACnB,WAAW,EAAEN,wBAAc,CAACc,OAAQ;IACpC,WAAW,EAAEd,wBAAc,CAACC,OAAQ;IACpC,QAAQ,EAAEQ,YAAa;IACvB,YAAY,EAAEb,YAAa;IAC3B,IAAI,EAAC,MAAM;IACX,gBAAgB,EAAGmB,OAAc,IAAK,CACpC,MAAM,EACNtB,KAAK,IAAI,IAAAuB,oBAAU,EAACD,OAAO,EAAEtB,KAAK,CAAC,GAAG,UAAU,GAAGwB,SAAS,EAC5DjB,wBAAc,CAACC,OAAO,CAACc,OAAO,CAAC,GAAGb,SAAS,IAAIF,wBAAc,CAACC,OAAO,CAACc,OAAO,CAAC,GAAGV,OAAO,GAAG,kBAAkB,GAAGY,SAAS;EACzH,EACF,EACDnB,OAAO,CACK;AAEnB,CAAC,CAAC;AAAC"}