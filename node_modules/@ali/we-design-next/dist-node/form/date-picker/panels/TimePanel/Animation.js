"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Animation {
  constructor(options) {
    this.timer = 0;
    this.startTime = 0;
    this.duration = void 0;
    this.progress = void 0;
    this.done = void 0;
    this.handleProgress = () => {
      const p = (Date.now() - this.startTime) / this.duration;
      if (p >= 1) {
        this.done(1);
      } else {
        this.progress(p);
        this.timer = requestAnimationFrame(this.handleProgress);
      }
    };
    this.duration = options.duration;
    this.progress = options.progress;
    this.done = options.done;
  }
  start() {
    this.clear();
    this.startTime = Date.now();
    this.timer = requestAnimationFrame(this.handleProgress);
    return this;
  }
  clear() {
    if (this.timer) {
      cancelAnimationFrame(this.timer);
      this.timer = 0;
    }
    return this;
  }
}
exports.default = Animation;
//# sourceMappingURL=Animation.js.map