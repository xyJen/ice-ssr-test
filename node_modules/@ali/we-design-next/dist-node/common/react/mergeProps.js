"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mergeProps = exports.absorbProps = void 0;
var _mergeClassName = require("./mergeClassName");
const mergeProps = (target, source) => {
  const result = {
    ...target
  };
  for (const key in source) {
    result[key] = mergeProp(key, target[key], source[key]);
  }
  return cleanProps(result);
};
exports.mergeProps = mergeProps;
const absorbProps = (target, from) => {
  const result = {
    ...target
  };
  for (const key in result) {
    result[key] = mergeProp(key, target[key], from[key]);
  }
  return cleanProps(result);
};
exports.absorbProps = absorbProps;
const mergeProp = (key, target, source) => {
  if (typeof target === 'undefined') {
    return source;
  }
  if (typeof source === 'undefined') {
    return target;
  }
  if (key === 'className' && typeof target === 'string' && typeof source === 'string') {
    return (0, _mergeClassName.mergeClassName)(target, source);
  }
  if (key === 'style' && typeof target === 'object' && typeof source === 'object') {
    return {
      ...source,
      ...target
    };
  }
  if (typeof target === 'function' && typeof source === 'function') {
    return (...args) => {
      target(...args);
      source(...args);
    };
  }
  return target;
};
const cleanProps = props => {
  for (const key in props) {
    if (props[key] === undefined) {
      delete props[key];
    }
  }
  return props;
};
//# sourceMappingURL=mergeProps.js.map