{"version":3,"file":"Badge.js","names":["now","Date","checkExpired","expiration","valueOf","BadgeDot","memo","props","children","rest","expired","mergeRestProps","displayName","BadgeNew","BadgeBeta"],"sources":["../../../../src/basic/badge/Badge.tsx"],"sourcesContent":["import React, { memo, useMemo } from 'react';\nimport { mergeRestProps, IRestProps } from '../../common/react';\nimport { Dot, New, Beta, DotWrapper } from './styled';\n\ntype IBadgeProps = {\n  expiration?: Date | boolean,\n} & IRestProps & React.DOMAttributes<HTMLSpanElement>;\n\nconst now = Date.now();\n\nconst checkExpired = (expiration: Date | boolean = false): boolean => {\n  if (typeof expiration === 'boolean') {\n    return expiration;\n  } else {\n    return now >= (expiration.valueOf());\n  }\n}\n\n\nexport const BadgeDot = memo(\n  (props: IBadgeProps & { children?: React.ReactElement }) => {\n    const { expiration, children, ...rest } = props;\n    const expired = checkExpired(expiration);\n    if (expired) { return children || null }\n    return children ? <DotWrapper>{children}</DotWrapper> : <Dot {...mergeRestProps(rest, 'wdn-badge-dot')} />;\n  }\n);\n\nBadgeDot.displayName = 'BadgeDot';\n\nexport const BadgeNew = memo(\n  (props: IBadgeProps) => {\n    const { expiration, ...rest } = props;\n    const expired = checkExpired(expiration);\n    return expired ? null : <New {...mergeRestProps(rest, 'wdn-badge-new')} ><span>NEW</span></New>;\n  }\n);\n\nBadgeNew.displayName = 'BadgeNew';\n\nexport const BadgeBeta = memo(\n  (props: IBadgeProps) => {\n    const { expiration, ...rest } = props;\n    const expired = checkExpired(expiration);\n    return expired ? null : <Beta {...mergeRestProps(rest, 'wdn-badge-beta')} ><span>BETA</span></Beta>;\n  }\n);\n\nBadgeBeta.displayName = 'BadgeBeta';\n"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsD;AAAA;AAAA;AAAA,uBAD1B;AAO5B,MAAMA,GAAG,GAAGC,IAAI,CAACD,GAAG,EAAE;AAEtB,MAAME,YAAY,GAAG,CAACC,UAA0B,GAAG,KAAK,KAAc;EACpE,IAAI,OAAOA,UAAU,KAAK,SAAS,EAAE;IACnC,OAAOA,UAAU;EACnB,CAAC,MAAM;IACL,OAAOH,GAAG,IAAKG,UAAU,CAACC,OAAO,EAAG;EACtC;AACF,CAAC;AAGM,MAAMC,QAAQ,gBAAG,IAAAC,WAAI,EACzBC,KAAsD,IAAK;EAC1D,MAAM;IAAEJ,UAAU;IAAEK,QAAQ;IAAE,GAAGC;EAAK,CAAC,GAAGF,KAAK;EAC/C,MAAMG,OAAO,GAAGR,YAAY,CAACC,UAAU,CAAC;EACxC,IAAIO,OAAO,EAAE;IAAE,OAAOF,QAAQ,IAAI,IAAI;EAAC;EACvC,OAAOA,QAAQ,gBAAG,eAAC,kBAAU,QAAEA,QAAQ,CAAc,gBAAG,eAAC,WAAG,EAAK,IAAAG,sBAAc,EAACF,IAAI,EAAE,eAAe,CAAC,CAAI;AAC5G,CAAC,CACF;AAAC;AAEFJ,QAAQ,CAACO,WAAW,GAAG,UAAU;AAE1B,MAAMC,QAAQ,gBAAG,IAAAP,WAAI,EACzBC,KAAkB,IAAK;EACtB,MAAM;IAAEJ,UAAU;IAAE,GAAGM;EAAK,CAAC,GAAGF,KAAK;EACrC,MAAMG,OAAO,GAAGR,YAAY,CAACC,UAAU,CAAC;EACxC,OAAOO,OAAO,GAAG,IAAI,gBAAG,eAAC,WAAG,EAAK,IAAAC,sBAAc,EAACF,IAAI,EAAE,eAAe,CAAC,iCAAG,mCAAgB,EAAM;AACjG,CAAC,CACF;AAAC;AAEFI,QAAQ,CAACD,WAAW,GAAG,UAAU;AAE1B,MAAME,SAAS,gBAAG,IAAAR,WAAI,EAC1BC,KAAkB,IAAK;EACtB,MAAM;IAAEJ,UAAU;IAAE,GAAGM;EAAK,CAAC,GAAGF,KAAK;EACrC,MAAMG,OAAO,GAAGR,YAAY,CAACC,UAAU,CAAC;EACxC,OAAOO,OAAO,GAAG,IAAI,gBAAG,eAAC,YAAI,EAAK,IAAAC,sBAAc,EAACF,IAAI,EAAE,gBAAgB,CAAC,mCAAG,oCAAiB,EAAO;AACrG,CAAC,CACF;AAAC;AAEFK,SAAS,CAACF,WAAW,GAAG,WAAW"}