{"version":3,"file":"SplitButton.js","names":["SplitButton","memo","forwardRef","props","ref","secondary","children","icon","secondaryVisible","_secondaryVisible","onSecondaryVisibleChange","buttonProps","setSecondaryVisible","useDefaultProp","type","size","proxyRestProps","e","stopPropagation","displayName"],"sources":["../../../../src/basic/split-button/SplitButton.tsx"],"sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { ArrowUpDown12, useDefaultProp, proxyRestProps } from '../../common';\nimport { Popover } from '../../display/popover';\nimport type { IButtonProps } from '../button/Button';\nimport { Button, Main, Secondary } from './styled';\n\n\ntype ISplitButtonProps = {\n  secondary?: React.ReactNode;\n\n  secondaryVisible?: boolean;\n\n  onSecondaryVisibleChange?: (v: boolean) => void;\n\n} & IButtonProps;\n\n\nexport const SplitButton = memo(\n  forwardRef((props: ISplitButtonProps, ref: React.Ref<HTMLButtonElement>) => {\n\n    const {\n      secondary = <></>,\n      children,\n      icon,\n      secondaryVisible: _secondaryVisible,\n      onSecondaryVisibleChange: onSecondaryVisibleChange,\n      ...buttonProps\n    } = props;\n\n    const [secondaryVisible, setSecondaryVisible] = useDefaultProp(false, _secondaryVisible, onSecondaryVisibleChange);\n\n    const {\n      type = 'normal',\n      size = 'normal',\n    } = buttonProps;\n\n    return <Popover\n      content={secondary}\n      visible={secondaryVisible}\n      onVisibleChange={setSecondaryVisible}\n      placement=\"bottomRight\"\n      placementOffset={[4, 0]}\n    >\n      <Button {...buttonProps}>\n        <Main\n          size={size}\n          btnType={type}\n          {...proxyRestProps(buttonProps, 'main')}\n        >\n          {icon}\n          {children}\n        </Main>\n        <Secondary\n          size={size} \n          btnType={type}\n          onClick={(e) => { setSecondaryVisible(!secondaryVisible); e.stopPropagation(); }}\n          {...proxyRestProps(buttonProps, 'secondary')}\n        >\n          <ArrowUpDown12 dir={secondaryVisible ? 'up' : 'down'} />\n        </Secondary>\n      </Button>\n    </Popover>\n  })\n);\n\nSplitButton.displayName = 'SplitButton';"],"mappings":";;;;;;;;AAAA;AACA;AACA;AAEA;AAAmD;AAAA;AAAA,uBAHvB;AAgBrB,MAAMA,WAAW,gBAAG,IAAAC,WAAI,gBAC7B,IAAAC,iBAAU,EAAC,CAACC,KAAwB,EAAEC,GAAiC,KAAK;EAE1E,MAAM;IACJC,SAAS,gBAAG,6CAAK;IACjBC,QAAQ;IACRC,IAAI;IACJC,gBAAgB,EAAEC,iBAAiB;IACnCC,wBAAwB,EAAEA,wBAAwB;IAClD,GAAGC;EACL,CAAC,GAAGR,KAAK;EAET,MAAM,CAACK,gBAAgB,EAAEI,mBAAmB,CAAC,GAAG,IAAAC,sBAAc,EAAC,KAAK,EAAEJ,iBAAiB,EAAEC,wBAAwB,CAAC;EAElH,MAAM;IACJI,IAAI,GAAG,QAAQ;IACfC,IAAI,GAAG;EACT,CAAC,GAAGJ,WAAW;EAEf,oBAAO,eAAC,gBAAO;IACb,OAAO,EAAEN,SAAU;IACnB,OAAO,EAAEG,gBAAiB;IAC1B,eAAe,EAAEI,mBAAoB;IACrC,SAAS,EAAC,aAAa;IACvB,eAAe,EAAE,CAAC,CAAC,EAAE,CAAC;EAAE,gBAExB,eAAC,cAAM,EAAKD,WAAW,eACrB,eAAC,YAAI;IACH,IAAI,EAAEI,IAAK;IACX,OAAO,EAAED;EAAK,GACV,IAAAE,sBAAc,EAACL,WAAW,EAAE,MAAM,CAAC,GAEtCJ,IAAI,EACJD,QAAQ,CACJ,eACP,eAAC,iBAAS;IACR,IAAI,EAAES,IAAK;IACX,OAAO,EAAED,IAAK;IACd,OAAO,EAAGG,CAAC,IAAK;MAAEL,mBAAmB,CAAC,CAACJ,gBAAgB,CAAC;MAAES,CAAC,CAACC,eAAe,EAAE;IAAE;EAAE,GAC7E,IAAAF,sBAAc,EAACL,WAAW,EAAE,WAAW,CAAC,gBAE5C,eAAC,qBAAa;IAAC,GAAG,EAAEH,gBAAgB,GAAG,IAAI,GAAG;EAAO,EAAG,CAC9C,CACL,CACD;AACZ,CAAC,CAAC,CACH;AAAC;AAEFR,WAAW,CAACmB,WAAW,GAAG,aAAa"}