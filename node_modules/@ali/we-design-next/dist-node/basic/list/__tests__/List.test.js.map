{"version":3,"file":"List.test.js","names":["test","render","expect","screen","queryByText","toBeInTheDocument","toBeNull","queryByRole","title","items","map","s","key","k","content","fn","jest","not","toHaveBeenCalled","fireEvent","mouseEnter","getByText","toHaveBeenCalledTimes","toHaveBeenLastCalledWith","from","r","list","container","querySelector","keyDown","keyCode","KEY_CODES","DOWN","UP","item1","click","ENTER"],"sources":["../../../../../src/basic/list/__tests__/List.test.tsx"],"sourcesContent":["import * as React from 'react';\nimport { render, fireEvent, screen } from '@testing-library/react';\nimport '@testing-library/jest-dom';\n\nimport { List } from '../index';\nimport { KEY_CODES } from '../../../common';\n\ntest('List: should render items.', () => {\n  render(<List items={['Item1', 'Item2', 'Item3']} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item4')).toBeNull();\n});\n\ntest('List: should render divider.', () => {\n  render(<List items={['Item1', 'divider', 'Item3']} />);\n  expect(screen.queryByRole('separator')).toBeInTheDocument();\n});\n\ntest('List: should render group title.', () => {\n  render(<List items={[\n    'Item1',\n    {\n      title: 'Group1',\n      items: ['Item2', 'Item3']\n    },\n    'Item4'\n  ]} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Group1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n});\n\ntest('List: should render items (normalized).', () => {\n  render(<List items={['Item1', 'Item2', 'Item3'].map(s => ({ key: s, title: s }))} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item4')).toBeNull();\n});\n\ntest('List: should render custom items (normalized).', () => {\n  render(<List items={['Item1', 'Item2', 'Item3']} renderItem={k => <List.Item>{k.key + '-C'}</List.Item>} />);\n  expect(screen.queryByText('Item1-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item2-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item3-C')).toBeInTheDocument();\n});\n\ntest('List: should render custom items (content).', () => {\n  render(<List items={['Item1', 'Item2', 'Item3'].map(s => ({ key: s, content: <span>{s + '-C'}</span> }))} />);\n  expect(screen.queryByText('Item1-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item2-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item3-C')).toBeInTheDocument();\n});\n\ntest('List: should trigger active change when mouse enter.', async () => {\n  const fn = jest.fn();\n  render(<List onActiveChange={fn} items={['Item1', 'Item2', 'Item3']} />);\n  expect(fn).not.toHaveBeenCalled();\n\n  fireEvent.mouseEnter(screen.getByText('Item2'));\n  expect(fn).toHaveBeenCalled();\n  expect(fn).toHaveBeenCalledTimes(1);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item2', { from: 'mouse' });\n\n  fireEvent.mouseEnter(screen.getByText('Item1'));\n  expect(fn).toHaveBeenCalledTimes(2);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item1', { from: 'mouse' });\n});\n\ntest('List: should trigger active change for keyboard event.', async () => {\n  const fn = jest.fn();\n  const r = render(<List id={'list'} onActiveChange={fn} items={['Item1', 'Item2', 'Item3']} />);\n  expect(fn).not.toHaveBeenCalled();\n\n  fireEvent.mouseEnter(screen.getByText('Item1')); // make it active\n\n  const list = r.container.querySelector('.wdn-list')!;\n\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.DOWN });\n  expect(fn).toHaveBeenCalledTimes(2);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item2', { from: 'keyboard' });\n\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.DOWN });\n  expect(fn).toHaveBeenCalledTimes(3);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item3', { from: 'keyboard' });\n\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.DOWN });\n  expect(fn).toHaveBeenCalledTimes(3);\n\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.UP });\n  expect(fn).toHaveBeenCalledTimes(4);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item2', { from: 'keyboard' });\n});\n\n\ntest('List: should trigger on select for mouse click event.', async () => {\n\n  const fn = jest.fn();\n  render(<List id={'list'} onSelect={fn} items={['Item1', 'Item2', 'Item3']} />);\n\n  const item1 = screen.getByText('Item1');\n  fireEvent.click(item1);\n\n  expect(fn).toHaveBeenCalled();\n});\n\ntest('List: should trigger on select for keyboard event.', async () => {\n\n  const fn = jest.fn();\n  const r = render(<List id={'list'} onSelect={fn} items={['Item1', 'Item2', 'Item3']} />);\n\n  fireEvent.mouseEnter(screen.getByText('Item1')); // make it active\n\n  const list = r.container.querySelector('.wdn-list')!;\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.ENTER });\n\n  expect(fn).toHaveBeenCalled();\n\n});"],"mappings":";;AAAA;AACA;AACA;AAEA;AACA;AAA4C;AAAA;AAAA,uBAJhB;AAM5BA,IAAI,CAAC,4BAA4B,EAAE,MAAM;EACvC,IAAAC,cAAM,gBAAC,eAAC,WAAI;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE,EAAG,CAAC;EACpDC,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACvDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACvDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACvDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACE,QAAQ,EAAE;AAChD,CAAC,CAAC;AAEFN,IAAI,CAAC,8BAA8B,EAAE,MAAM;EACzC,IAAAC,cAAM,gBAAC,eAAC,WAAI;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO;EAAE,EAAG,CAAC;EACtDC,MAAM,CAACC,cAAM,CAACI,WAAW,CAAC,WAAW,CAAC,CAAC,CAACF,iBAAiB,EAAE;AAC7D,CAAC,CAAC;AAEFL,IAAI,CAAC,kCAAkC,EAAE,MAAM;EAC7C,IAAAC,cAAM,gBAAC,eAAC,WAAI;IAAC,KAAK,EAAE,CAClB,OAAO,EACP;MACEO,KAAK,EAAE,QAAQ;MACfC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO;IAC1B,CAAC,EACD,OAAO;EACP,EAAG,CAAC;EACNP,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACvDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACxDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACvDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;AACzD,CAAC,CAAC;AAEFL,IAAI,CAAC,yCAAyC,EAAE,MAAM;EACpD,IAAAC,cAAM,gBAAC,eAAC,WAAI;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAACS,GAAG,CAACC,CAAC,KAAK;MAAEC,GAAG,EAAED,CAAC;MAAEH,KAAK,EAAEG;IAAE,CAAC,CAAC;EAAE,EAAG,CAAC;EACrFT,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACvDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACvDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACvDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,OAAO,CAAC,CAAC,CAACE,QAAQ,EAAE;AAChD,CAAC,CAAC;AAEFN,IAAI,CAAC,gDAAgD,EAAE,MAAM;EAC3D,IAAAC,cAAM,gBAAC,eAAC,WAAI;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAE;IAAC,UAAU,EAAEY,CAAC,iBAAI,eAAC,WAAI,CAAC,IAAI,QAAEA,CAAC,CAACD,GAAG,GAAG,IAAI;EAAc,EAAG,CAAC;EAC5GV,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,SAAS,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACzDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,SAAS,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACzDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,SAAS,CAAC,CAAC,CAACC,iBAAiB,EAAE;AAC3D,CAAC,CAAC;AAEFL,IAAI,CAAC,6CAA6C,EAAE,MAAM;EACxD,IAAAC,cAAM,gBAAC,eAAC,WAAI;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAACS,GAAG,CAACC,CAAC,KAAK;MAAEC,GAAG,EAAED,CAAC;MAAEG,OAAO,eAAE,6BAAOH,CAAC,GAAG,IAAI;IAAS,CAAC,CAAC;EAAE,EAAG,CAAC;EAC7GT,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,SAAS,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACzDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,SAAS,CAAC,CAAC,CAACC,iBAAiB,EAAE;EACzDH,MAAM,CAACC,cAAM,CAACC,WAAW,CAAC,SAAS,CAAC,CAAC,CAACC,iBAAiB,EAAE;AAC3D,CAAC,CAAC;AAEFL,IAAI,CAAC,sDAAsD,EAAE,YAAY;EACvE,MAAMe,EAAE,GAAGC,IAAI,CAACD,EAAE,EAAE;EACpB,IAAAd,cAAM,gBAAC,eAAC,WAAI;IAAC,cAAc,EAAEc,EAAG;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE,EAAG,CAAC;EACxEb,MAAM,CAACa,EAAE,CAAC,CAACE,GAAG,CAACC,gBAAgB,EAAE;EAEjCC,iBAAS,CAACC,UAAU,CAACjB,cAAM,CAACkB,SAAS,CAAC,OAAO,CAAC,CAAC;EAC/CnB,MAAM,CAACa,EAAE,CAAC,CAACG,gBAAgB,EAAE;EAC7BhB,MAAM,CAACa,EAAE,CAAC,CAACO,qBAAqB,CAAC,CAAC,CAAC;EACnCpB,MAAM,CAACa,EAAE,CAAC,CAACQ,wBAAwB,CAAgB,OAAO,EAAE;IAAEC,IAAI,EAAE;EAAQ,CAAC,CAAC;EAE9EL,iBAAS,CAACC,UAAU,CAACjB,cAAM,CAACkB,SAAS,CAAC,OAAO,CAAC,CAAC;EAC/CnB,MAAM,CAACa,EAAE,CAAC,CAACO,qBAAqB,CAAC,CAAC,CAAC;EACnCpB,MAAM,CAACa,EAAE,CAAC,CAACQ,wBAAwB,CAAgB,OAAO,EAAE;IAAEC,IAAI,EAAE;EAAQ,CAAC,CAAC;AAChF,CAAC,CAAC;AAEFxB,IAAI,CAAC,wDAAwD,EAAE,YAAY;EACzE,MAAMe,EAAE,GAAGC,IAAI,CAACD,EAAE,EAAE;EACpB,MAAMU,CAAC,GAAG,IAAAxB,cAAM,gBAAC,eAAC,WAAI;IAAC,EAAE,EAAE,MAAO;IAAC,cAAc,EAAEc,EAAG;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE,EAAG,CAAC;EAC9Fb,MAAM,CAACa,EAAE,CAAC,CAACE,GAAG,CAACC,gBAAgB,EAAE;EAEjCC,iBAAS,CAACC,UAAU,CAACjB,cAAM,CAACkB,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;;EAEjD,MAAMK,IAAI,GAAGD,CAAC,CAACE,SAAS,CAACC,aAAa,CAAC,WAAW,CAAE;EAEpDT,iBAAS,CAACU,OAAO,CAACH,IAAI,EAAE;IAAEI,OAAO,EAAEC,iBAAS,CAACC;EAAK,CAAC,CAAC;EACpD9B,MAAM,CAACa,EAAE,CAAC,CAACO,qBAAqB,CAAC,CAAC,CAAC;EACnCpB,MAAM,CAACa,EAAE,CAAC,CAACQ,wBAAwB,CAAgB,OAAO,EAAE;IAAEC,IAAI,EAAE;EAAW,CAAC,CAAC;EAEjFL,iBAAS,CAACU,OAAO,CAACH,IAAI,EAAE;IAAEI,OAAO,EAAEC,iBAAS,CAACC;EAAK,CAAC,CAAC;EACpD9B,MAAM,CAACa,EAAE,CAAC,CAACO,qBAAqB,CAAC,CAAC,CAAC;EACnCpB,MAAM,CAACa,EAAE,CAAC,CAACQ,wBAAwB,CAAgB,OAAO,EAAE;IAAEC,IAAI,EAAE;EAAW,CAAC,CAAC;EAEjFL,iBAAS,CAACU,OAAO,CAACH,IAAI,EAAE;IAAEI,OAAO,EAAEC,iBAAS,CAACC;EAAK,CAAC,CAAC;EACpD9B,MAAM,CAACa,EAAE,CAAC,CAACO,qBAAqB,CAAC,CAAC,CAAC;EAEnCH,iBAAS,CAACU,OAAO,CAACH,IAAI,EAAE;IAAEI,OAAO,EAAEC,iBAAS,CAACE;EAAG,CAAC,CAAC;EAClD/B,MAAM,CAACa,EAAE,CAAC,CAACO,qBAAqB,CAAC,CAAC,CAAC;EACnCpB,MAAM,CAACa,EAAE,CAAC,CAACQ,wBAAwB,CAAgB,OAAO,EAAE;IAAEC,IAAI,EAAE;EAAW,CAAC,CAAC;AACnF,CAAC,CAAC;AAGFxB,IAAI,CAAC,uDAAuD,EAAE,YAAY;EAExE,MAAMe,EAAE,GAAGC,IAAI,CAACD,EAAE,EAAE;EACpB,IAAAd,cAAM,gBAAC,eAAC,WAAI;IAAC,EAAE,EAAE,MAAO;IAAC,QAAQ,EAAEc,EAAG;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE,EAAG,CAAC;EAE9E,MAAMmB,KAAK,GAAG/B,cAAM,CAACkB,SAAS,CAAC,OAAO,CAAC;EACvCF,iBAAS,CAACgB,KAAK,CAACD,KAAK,CAAC;EAEtBhC,MAAM,CAACa,EAAE,CAAC,CAACG,gBAAgB,EAAE;AAC/B,CAAC,CAAC;AAEFlB,IAAI,CAAC,oDAAoD,EAAE,YAAY;EAErE,MAAMe,EAAE,GAAGC,IAAI,CAACD,EAAE,EAAE;EACpB,MAAMU,CAAC,GAAG,IAAAxB,cAAM,gBAAC,eAAC,WAAI;IAAC,EAAE,EAAE,MAAO;IAAC,QAAQ,EAAEc,EAAG;IAAC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE,EAAG,CAAC;EAExFI,iBAAS,CAACC,UAAU,CAACjB,cAAM,CAACkB,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;;EAEjD,MAAMK,IAAI,GAAGD,CAAC,CAACE,SAAS,CAACC,aAAa,CAAC,WAAW,CAAE;EACpDT,iBAAS,CAACU,OAAO,CAACH,IAAI,EAAE;IAAEI,OAAO,EAAEC,iBAAS,CAACK;EAAM,CAAC,CAAC;EAErDlC,MAAM,CAACa,EAAE,CAAC,CAACG,gBAAgB,EAAE;AAE/B,CAAC,CAAC"}