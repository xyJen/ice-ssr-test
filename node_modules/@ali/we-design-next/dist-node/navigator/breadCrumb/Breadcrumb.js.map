{"version":3,"file":"Breadcrumb.js","names":["defaultRenderItem","route","routes","options","index","indexOf","isLastItem","length","isEllipsis","ellipisisIndex","renderLastItem","maxWidth","ellipisisWidth","ellipsisStyle","display","overflow","textOverflow","handleClick","e","preventDefault","onBreadcrumbItemClick","path","hasOverlay","name","Breadcrumb","separator","children","renderItem","getOrCreateRef","restProps","useContext","SingleLineRowContext","crumbs","paths","map","push","overlay","child","toArray","element","cloneElement","key","breadcrumbClassName"],"sources":["../../../../src/navigator/breadCrumb/Breadcrumb.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cloneElement, useContext } from 'react';\nimport { toArray } from 'lodash-es';\nimport BreadcrumbItem from './BreadcrumbItem';\nimport { Container, OverlayWrap } from './styles';\nimport { SingleLineRowContext } from './contexts';\nimport { Tooltip } from '../../display/tooltip';\n\nexport interface Route {\n  path: string;\n  name: string;\n  children?: Array<Omit<Route, 'children'>>;\n}\n \nexport interface BreadcrumbProps {\n  routes?: Route[];\n  separator?: React.ReactNode;\n  renderItem?: (\n    route: Route,\n    routes: Route[],\n    options?: Record<string, any>,\n  ) => React.ReactNode;\n  renderLastItem?: (\n    route: Route,\n    options: {\n      maxWidth: number\n    }\n  ) => React.ReactNode;\n  children?: React.ReactNode;\n  getOrCreateRef?: (id: number, ref: React.MutableRefObject<HTMLLIElement | null>) => void;\n  onBreadcrumbItemClick?: (path: string) => void;\n}\n\nfunction defaultRenderItem(route: Route, routes: Route[], options: any) {\n  const index =  routes.indexOf(route);\n  const isLastItem = index === routes.length - 1;\n  const isEllipsis = options?.ellipisisIndex === index;\n  \n  if ( isLastItem && options?.renderLastItem ) {\n    return options?.renderLastItem(route, { maxWidth: isEllipsis ? options?.ellipisisWidth: -1 });\n  }\n  \n  const ellipsisStyle = isEllipsis \n    ? { \n      maxWidth: options?.ellipisisWidth,\n      display: 'inline-block',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      }\n    : {}\n\n    const handleClick = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => { \n      e.preventDefault();\n      options?.onBreadcrumbItemClick(route?.path); \n    }\n\n  return isLastItem || options?.hasOverlay || route.path === ''\n    ? (\n      isEllipsis\n       ? (\n        <Tooltip title={route?.name} placement={'top'}>\n         <span style={ellipsisStyle}>\n            {route?.name}\n          </span>  \n        </Tooltip>\n      )\n      : (\n          <span style={ellipsisStyle}>\n            {route?.name}\n          </span> \n      )\n    ) \n    : (\n      isEllipsis\n       ? (\n        <Tooltip title={isEllipsis ? route?.name : ''} placement={'top'}>\n          <a href=\"!#\" onClick={handleClick} style={ellipsisStyle}>\n            {route?.name}\n          </a>\n        </Tooltip>\n       )\n       :(\n        <a  href=\"!#\" onClick={handleClick}  style={ellipsisStyle}>\n          {route?.name}\n        </a> \n       )\n    );\n}\n\nexport const Breadcrumb: React.FC<BreadcrumbProps> = ({\n  separator = '/',\n  routes,\n  children,\n  renderItem = defaultRenderItem,\n  onBreadcrumbItemClick,\n  renderLastItem,\n  getOrCreateRef = null,\n  ...restProps\n}) => {\n\n  const { ellipisisIndex, ellipisisWidth } = useContext(SingleLineRowContext);\n\n  let crumbs;\n  if (routes && routes.length > 0) {\n    // generated by route\n    const paths: string[] = [];\n    crumbs = routes.map((route, index) => {\n      const path = route.path;\n\n      if (path) {\n        paths.push(path);\n      }\n      // generated overlay by route.children\n      let overlay;\n      const hasOverlay = route.children && route.children.length; \n      if (route.children && route.children.length) {\n        overlay = (\n          <OverlayWrap>\n            <Container>\n              <ol>\n                {route.children.map((child: any) => (\n                  <BreadcrumbItem \n                    separator={separator} \n                    key={path || child.name}\n                  >\n                    {renderItem(child, routes, { renderLastItem, onBreadcrumbItemClick })}\n                  </BreadcrumbItem> \n                ))}\n              </ol>\n            </Container>\n          </OverlayWrap>\n        );\n      }\n\n      return (\n        getOrCreateRef \n          ?(\n            <BreadcrumbItem \n              getOrCreateRef={getOrCreateRef}\n              overlay={overlay} \n              separator={separator} \n              key={path || route.name}\n              index={index}\n            >\n              {renderItem(route, routes, { renderLastItem })}\n            </BreadcrumbItem>\n          ):(\n            <BreadcrumbItem \n              overlay={overlay} \n              separator={separator} \n              key={path || route.name}\n            >\n              {renderItem(route, routes, { ellipisisIndex, ellipisisWidth, hasOverlay, renderLastItem, onBreadcrumbItemClick })}\n            </BreadcrumbItem> \n          )\n      );\n    });\n  } else if (children) {\n    crumbs = toArray(children).map((element: any, index) => {\n      if (!element) {\n        return element;\n      }\n\n      return cloneElement(element, {\n        separator,\n        // eslint-disable-next-line react/no-array-index-key\n        key: `separator-${index}`,\n      });\n    });\n  }\n\n  const breadcrumbClassName = 'bread';\n\n  return (\n    <nav className={breadcrumbClassName} {...restProps}>\n      <ol>{crumbs}</ol>\n    </nav>\n  );\n};"],"mappings":"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"}