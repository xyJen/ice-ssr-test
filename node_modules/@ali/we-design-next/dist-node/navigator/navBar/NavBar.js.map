{"version":3,"file":"NavBar.js","names":["NavigationBarMobile","React","memo","forwardRef","props","ref","children","rest","mergedProps","mergeRestProps","length","elements","filter","child","isValidElement","type","NavigationBarMobileItem","leftElements","rightElements","centerElements","forEach","align","push","centerElement"],"sources":["../../../../src/navigator/navBar/NavBar.tsx"],"sourcesContent":["import React, { DOMAttributes, ReactElement } from 'react';\nimport { IRestProps, mergeRestProps } from '../../common/react/mergeRestProps';\nimport { NavigationBarMobileItem } from './NavBarItem';\nimport { NavBarBox } from './styled';\n\ntype NavBarItemElement = ReactElement<React.ComponentProps<typeof NavigationBarMobileItem>> & { key: string };\ntype AlignNavBarItemElement = NavBarItemElement & { props: { align: string } };\n\nexport interface INavBarProps extends IRestProps, DOMAttributes<HTMLDivElement> {\n  /**\n   * 子节点\n   */\n  children?: React.ReactChild[];\n}\n\nexport const NavigationBarMobile = React.memo(\n  React.forwardRef<HTMLDivElement, INavBarProps>(\n    (props, ref) => {\n      const { children, ...rest } = props;\n\n      const mergedProps = mergeRestProps(rest, 'wdn-navbar');\n\n      if (!children || !children.length) return <NavBarBox ref={ref} {...mergedProps} />\n\n      // 过滤非 NavBarItem 的元素\n      const elements = children.filter((child) => (React.isValidElement(child) && (child.type === NavigationBarMobileItem)));\n\n      const leftElements: React.ReactNode[] = [];\n      const rightElements: React.ReactNode[] = [];\n      const centerElements: React.ReactNode[] = [];\n\n      elements.forEach((child) => {\n        const { align } = (child as AlignNavBarItemElement).props;\n\n        if (align === 'center') {\n          centerElements.push(child);\n        } else if (align === 'right') {\n          rightElements.push(child);\n        } else {\n          leftElements.push(child);\n        }\n      });\n\n      // 居中元素只能有且只有一个\n      const centerElement = centerElements[0] || <NavigationBarMobileItem key=\"wdn-navbat-item-center\" align='center'  />\n\n      return (\n        <NavBarBox ref={ref} {...mergeRestProps(rest, 'wdn-navbar')}>\n          { [...leftElements, centerElement, ...rightElements] }\n        </NavBarBox>\n      );\n    },\n  ),\n);\n"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AAAqC;AAAA,uBAFT;AAcrB,MAAMA,mBAAmB,gBAAGC,cAAK,CAACC,IAAI,eAC3CD,cAAK,CAACE,UAAU,CACd,CAACC,KAAK,EAAEC,GAAG,KAAK;EACd,MAAM;IAAEC,QAAQ;IAAE,GAAGC;EAAK,CAAC,GAAGH,KAAK;EAEnC,MAAMI,WAAW,GAAG,IAAAC,8BAAc,EAACF,IAAI,EAAE,YAAY,CAAC;EAEtD,IAAI,CAACD,QAAQ,IAAI,CAACA,QAAQ,CAACI,MAAM,EAAE,oBAAO,eAAC,iBAAS;IAAC,GAAG,EAAEL;EAAI,GAAKG,WAAW,EAAI;;EAElF;EACA,MAAMG,QAAQ,GAAGL,QAAQ,CAACM,MAAM,CAAEC,KAAK,IAAM,aAAAZ,cAAK,CAACa,cAAc,CAACD,KAAK,CAAC,IAAKA,KAAK,CAACE,IAAI,KAAKC,mCAAyB,CAAC;EAEtH,MAAMC,YAA+B,GAAG,EAAE;EAC1C,MAAMC,aAAgC,GAAG,EAAE;EAC3C,MAAMC,cAAiC,GAAG,EAAE;EAE5CR,QAAQ,CAACS,OAAO,CAAEP,KAAK,IAAK;IAC1B,MAAM;MAAEQ;IAAM,CAAC,GAAIR,KAAK,CAA4BT,KAAK;IAEzD,IAAIiB,KAAK,KAAK,QAAQ,EAAE;MACtBF,cAAc,CAACG,IAAI,CAACT,KAAK,CAAC;IAC5B,CAAC,MAAM,IAAIQ,KAAK,KAAK,OAAO,EAAE;MAC5BH,aAAa,CAACI,IAAI,CAACT,KAAK,CAAC;IAC3B,CAAC,MAAM;MACLI,YAAY,CAACK,IAAI,CAACT,KAAK,CAAC;IAC1B;EACF,CAAC,CAAC;;EAEF;EACA,MAAMU,aAAa,GAAGJ,cAAc,CAAC,CAAC,CAAC,mEAAI,eAAC,mCAAuB;IAAC,GAAG,EAAC,wBAAwB;IAAC,KAAK,EAAC;EAAQ,EAAI;EAEnH,oBACE,eAAC,iBAAS;IAAC,GAAG,EAAEd;EAAI,GAAK,IAAAI,8BAAc,EAACF,IAAI,EAAE,YAAY,CAAC,GACvD,CAAC,GAAGU,YAAY,EAAEM,aAAa,EAAE,GAAGL,aAAa,CAAC,CAC1C;AAEhB,CAAC,CACF,CACF;AAAC"}