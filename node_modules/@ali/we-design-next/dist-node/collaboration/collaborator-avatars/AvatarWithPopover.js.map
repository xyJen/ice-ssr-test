{"version":3,"file":"AvatarWithPopover.js","names":["PopoverWrapper","styled","div","ProfileInfoWrapper","ProfileInfoInnerLeft","ProfileInfoInnerCenter","ProfileInfoInnerRight","NickText","span","COLORS","LIGHT","LEVEL1_BASE_COLOR","StatusText","LEVEL3_BASE_COLOR","SplitLine","ProfileInfo","props","avatar","src","name","color","description","AVATAR_SIZE","background","AvatarWithPopover","renderMenu","isPopoverVisible","onPopoverVisibleChange","rest","menu"],"sources":["../../../../src/collaboration/collaborator-avatars/AvatarWithPopover.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { Popover } from '../../display/popover';\nimport { Dot } from './styled';\nimport { Avatar as BaseAvatar } from '../../display/avatar';\nimport { Avatar } from './Avatar';\nimport type { IAvatarProps } from './Avatar';\nimport { AVATAR_SIZE } from './constants';\nimport { COLORS } from '../../common';\n\nexport type IAvatarCollaborator = {\n  key: string;\n  /**\n   * 描述\n   */\n  description?: string;\n  avatar?: string;\n} & Omit<IAvatarProps, 'src'>;\n\ntype IAvatarPopover = {\n  isPopoverVisible: boolean;\n  onPopoverVisibleChange: (isVisible: boolean) => void;\n  renderMenu?: () => React.ReactElement;\n} & IAvatarCollaborator;\n\ntype IProfileInfo = Omit<IAvatarCollaborator, 'key'>;\n\nconst PopoverWrapper = styled.div`\n  min-width: 100px;\n`;\n\nconst ProfileInfoWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 12px;\n`;\n\nconst ProfileInfoInnerLeft = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-right: 8px;\n`;\n\nconst ProfileInfoInnerCenter = styled.div`\n  display: flex;\n  min-width: 105px;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst ProfileInfoInnerRight = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nconst NickText = styled.span`\n  flex: 1;\n  width: 50%;\n  max-width: 96px;\n  font-weight: 400;\n  font-size: 13px;\n  color: ${COLORS.LIGHT.LEVEL1_BASE_COLOR};\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  margin-right: 8px;\n`;\n\nconst StatusText = styled.span`\n  font-weight: 400;\n  font-size: 12px;\n  margin-right: 4px;\n  color:${COLORS.LIGHT.LEVEL3_BASE_COLOR};\n`;\n\nconst SplitLine = styled.div`\n  height: 1px;\n  margin: 0 4px;\n  background: rgba(126, 134, 142, 0.16);\n`;\n\nconst ProfileInfo: React.FC<IProfileInfo> = (props) => {\n  const { avatar: src, name, color, description } = props;\n  return (\n    <ProfileInfoWrapper>\n      <ProfileInfoInnerLeft>\n        {\n          <BaseAvatar name={name} src={src} size={AVATAR_SIZE} />\n        }\n      </ProfileInfoInnerLeft>\n      <ProfileInfoInnerCenter>\n        <NickText>{name}</NickText>\n        {\n          description && <StatusText>{description}</StatusText>\n        }\n      </ProfileInfoInnerCenter>\n      <ProfileInfoInnerRight>\n        {\n          <Dot style={{ background: color }} />\n        }\n      </ProfileInfoInnerRight>\n    </ProfileInfoWrapper>\n  )\n}\n\nexport const AvatarWithPopover: React.FC<IAvatarPopover> = (props) => {\n  const { renderMenu, color, description, name, avatar: src, isPopoverVisible, onPopoverVisibleChange, ...rest } = props;\n\n  const menu = (isPopoverVisible && renderMenu) ? renderMenu() : null;\n\n  return (\n    <Popover\n      visible={isPopoverVisible}\n      onVisibleChange={onPopoverVisibleChange}\n      animation\n      content={\n        <PopoverWrapper>\n          <ProfileInfo\n            color={color}\n            description={description}\n            name={name}\n            avatar={src}\n          />\n          {\n            menu ?\n              <>\n                <SplitLine />\n                {menu}\n              </>\n              : null\n          }\n        </PopoverWrapper>\n      }\n      trigger=\"mouse-enter\"\n      placement=\"bottomLeft\"\n      placementOffset={[3, 0]}\n    >\n      <Avatar\n        name={name}\n        src={src}\n        color={color}\n        {...rest}\n      />\n    </Popover>\n  );\n};\n\n"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAsC;AAAA,uBAPV;AA0B5B,MAAMA,cAAc,gBAAGC,yBAAM,CAACC,GAAG,sBAEhC;AAED,MAAMC,kBAAkB,gBAAGF,yBAAM,CAACC,GAAG,kEAIpC;AAED,MAAME,oBAAoB,gBAAGH,yBAAM,CAACC,GAAG,kFAKtC;AAED,MAAMG,sBAAsB,gBAAGJ,yBAAM,CAACC,GAAG,oFAKxC;AAED,MAAMI,qBAAqB,gBAAGL,yBAAM,CAACC,GAAG,+DAIvC;AAED,MAAMK,QAAQ,gBAAGN,yBAAM,CAACO,IAAI,4JAMjBC,cAAM,CAACC,KAAK,CAACC,iBAAiB,CAKxC;AAED,MAAMC,UAAU,gBAAGX,yBAAM,CAACO,IAAI,kEAIpBC,cAAM,CAACC,KAAK,CAACG,iBAAiB,CACvC;AAED,MAAMC,SAAS,gBAAGb,yBAAM,CAACC,GAAG,gEAI3B;AAED,MAAMa,WAAmC,GAAIC,KAAK,IAAK;EACrD,MAAM;IAAEC,MAAM,EAAEC,GAAG;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAY,CAAC,GAAGL,KAAK;EACvD,oBACE,eAAC,kBAAkB,qBACjB,eAAC,oBAAoB,qBAEjB,eAAC,cAAU;IAAC,IAAI,EAAEG,IAAK;IAAC,GAAG,EAAED,GAAI;IAAC,IAAI,EAAEI;EAAY,EAAG,CAEpC,eACvB,eAAC,sBAAsB,qBACrB,eAAC,QAAQ,QAAEH,IAAI,CAAY,EAEzBE,WAAW,iBAAI,eAAC,UAAU,QAAEA,WAAW,CAAc,CAEhC,eACzB,eAAC,qBAAqB,qBAElB,eAAC,WAAG;IAAC,KAAK,EAAE;MAAEE,UAAU,EAAEH;IAAM;EAAE,EAAG,CAEjB,CACL;AAEzB,CAAC;AAEM,MAAMI,iBAA2C,GAAIR,KAAK,IAAK;EACpE,MAAM;IAAES,UAAU;IAAEL,KAAK;IAAEC,WAAW;IAAEF,IAAI;IAAEF,MAAM,EAAEC,GAAG;IAAEQ,gBAAgB;IAAEC,sBAAsB;IAAE,GAAGC;EAAK,CAAC,GAAGZ,KAAK;EAEtH,MAAMa,IAAI,GAAIH,gBAAgB,IAAID,UAAU,GAAIA,UAAU,EAAE,GAAG,IAAI;EAEnE,oBACE,eAAC,gBAAO;IACN,OAAO,EAAEC,gBAAiB;IAC1B,eAAe,EAAEC,sBAAuB;IACxC,SAAS;IACT,OAAO,eACL,eAAC,cAAc,qBACb,eAAC,WAAW;MACV,KAAK,EAAEP,KAAM;MACb,WAAW,EAAEC,WAAY;MACzB,IAAI,EAAEF,IAAK;MACX,MAAM,EAAED;IAAI,EACZ,EAEAW,IAAI,gBACF,uFACE,eAAC,SAAS,OAAG,GACZA,IAAI,CACJ,GACD,IAAI,CAGb;IACD,OAAO,EAAC,aAAa;IACrB,SAAS,EAAC,YAAY;IACtB,eAAe,EAAE,CAAC,CAAC,EAAE,CAAC;EAAE,gBAExB,eAAC,cAAM;IACL,IAAI,EAAEV,IAAK;IACX,GAAG,EAAED,GAAI;IACT,KAAK,EAAEE;EAAM,GACTQ,IAAI,EACR,CACM;AAEd,CAAC;AAAC"}