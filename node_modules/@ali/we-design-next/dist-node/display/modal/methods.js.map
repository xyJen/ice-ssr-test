{"version":3,"file":"methods.js","names":["iconInfo","iconWarning","iconSuccess","ModalMethod","React","memo","props","type","message","title","options","confirmText","cancelText","onConfirm","onCancel","mask","width","display","marginTop","paddingLeft","length","map","opt","undefined","destory","method","ReactDOM","render","ensureContainer","id","divEle","document","querySelector","ele","createElement","style","position","top","left","body","appendChild","info","warn","success","confirm"],"sources":["../../../../src/display/modal/methods.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Button } from '../../basic/button';\nimport { Modal } from './Modal';\nimport { ModalFooter } from './ModalFooter';\nimport { H1, Text } from '../../basic/text';\n\nconst iconInfo = <svg width=\"44\" height=\"44\" viewBox=\"0 0 44 44\" fill=\"none\" stroke=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <circle cx=\"22\" cy=\"22\" r=\"20\" fill=\"#0089FF\" />\n  <path d=\"M20 22C20 20.8954 20.8954 20 22 20C23.1046 20 24 20.8954 24 22V32C24 33.1046 23.1046 34 22 34C20.8954 34 20 33.1046 20 32V22Z\" fill=\"white\" />\n  <circle cx=\"22\" cy=\"14\" r=\"3\" fill=\"white\" />\n</svg>;\n\n\nconst iconWarning = <svg width=\"44\" height=\"44\" viewBox=\"0 0 44 44\" fill=\"none\" stroke=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <circle cx=\"22\" cy=\"22\" r=\"20\" fill=\"#FF9200\" />\n  <path d=\"M20 13C20 11.8954 20.8954 11 22 11C23.1046 11 24 11.8954 24 13V23C24 24.1046 23.1046 25 22 25C20.8954 25 20 24.1046 20 23V13Z\" fill=\"white\" />\n  <circle cx=\"22\" cy=\"31\" r=\"3\" fill=\"white\" />\n</svg>;\n\nconst iconSuccess = <svg width=\"44\" height=\"44\" viewBox=\"0 0 44 44\" fill=\"none\" stroke=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <circle cx=\"22\" cy=\"22\" r=\"20\" fill=\"#00B042\" />\n  <path d=\"M31 17L20 28L14 22\" stroke=\"white\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n</svg>;\n\ntype IModalMethodProps = {\n  type: 'info' | 'success' | 'warning' | 'confirm';\n  message: string;\n  title?: string;\n  options?: string[];\n  confirmText?: string;\n  cancelText?: string;\n  onConfirm?: () => void;\n  onCancel?: () => void;\n  mask?: boolean | 'transparent';\n};\n\nconst ModalMethod = React.memo(\n  (props: IModalMethodProps) => {\n\n    const {\n      type,\n      message,\n      title,\n      options = [],\n      confirmText,\n      cancelText,\n      onConfirm,\n      onCancel,\n      mask,\n    } = props;\n\n    return <Modal\n      style={{ width: 360 }}\n      visible\n      header={null}\n      content={\n        <div style={{ display: 'flex' }}>\n          <div style={{ width: '40px', marginTop: 10 }}>\n            {\n              (type === 'info' || type === 'confirm') ? iconInfo :\n                type === 'success' ? iconSuccess :\n                  type === 'warning' ? iconWarning :\n                    null\n            }\n          </div>\n          <div style={{ paddingLeft: '16px' }}>\n            {\n              title ? <H1>{title}</H1> : null\n            }\n            <Text>{message}</Text>\n            {\n              options.length > 0 ? <div>\n                {\n                  options.map(opt => <div>\n\n                  </div>)\n                }\n              </div> : null\n            }\n          </div>\n        </div>\n      }\n      footer={\n        <ModalFooter\n          cancel={\n            type === 'confirm' || type === 'warning' ?\n              <Button\n                children={cancelText || undefined}\n                onClick={() => { onCancel && onCancel(); destory(); }}\n              /> :\n              null\n          }\n          confirm={\n            <Button\n              children={confirmText || undefined}\n              onClick={() => { onConfirm && onConfirm(); destory(); }}\n            />\n          }\n        />\n      }\n      mask={mask}\n    ></Modal>;\n  }\n);\n\n\nconst method = (options: IModalMethodProps) => {\n  ReactDOM.render(\n    <ModalMethod {...options} />,\n    ensureContainer()\n  );\n};\n\n\nconst destory = () => {\n  ReactDOM.render(<></>, ensureContainer());\n};\n\nconst ensureContainer = (): HTMLDivElement => {\n\n  const id = 'wdn-modal-method-root';\n\n  const divEle = document.querySelector(`div#${id}`);\n\n  if (!divEle) {\n    const ele = document.createElement('div');\n    ele.id = id;\n    ele.style.position = 'absolute';\n    ele.style.width = '100%';\n    ele.style.top = '0px';\n    ele.style.left = '0px';\n    document.body.appendChild(ele);\n  }\n\n  return document.querySelector(`div#${id}`)!;\n};\n\n\ntype IConfirmOptions = Omit<IModalMethodProps, 'type' | 'message'>;\n\ntype IAlertOptions = Omit<IConfirmOptions, 'cancelText' | 'onCancel'>;\n\nexport const info = (message: string, options: IAlertOptions = {}) => method({ type: 'info', message, ...options });\n\nexport const warn = (message: string, options: IConfirmOptions = {}) => method({ type: 'warning', message, ...options });\n\nexport const success = (message: string, options: IAlertOptions = {}) => method({ type: 'success', message, ...options });\n\nexport const confirm = (message: string, options: IConfirmOptions = {}) => method({ type: 'confirm', message, ...options });\n\n\n"],"mappings":"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"}