{"version":3,"file":"Tabs.js","names":["TabsWrapper","styled","div","getTabBarTabList","panes","tabList","React","Children","forEach","child","isValidElement","type","displayName","title","onClose","disabled","prefix","props","push","key","Tabs","memo","forwardRef","ref","children","onActiveTabChange","activeKey","activeKeyProp","defaultActiveKey","animated","keepMounted","rest","tabs","useMemo","setActive","useDefaultProp"],"sources":["../../../../src/display/tabs/Tabs.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { TabsBar } from './TabsBar';\nimport { TabsContent } from './TabsContent';\nimport { useDefaultProp } from '../../common';\nimport type { ITabPanelProps } from './TabPanel';\nimport type { IRestProps } from '../../common/';\n\nexport type Size = 'normal' | 'small' | 'large';\n\nexport type ITabsProps = {\n  /**\n   * 保持被隐藏的节点不被卸载，默认为 true\n   */\n  keepMounted?: boolean;\n  /**\n   * activeKey发生变化时的回调函数\n   */\n  onActiveTabChange?: (activeKey: string) => void;\n  /**\n   * TODO:\n   * 'large' | 'normal' | 'small'，默认：normal\n   */\n  size?: Size;\n  /**\n   * 激活的 tabKey，默认：undefined\n   */\n  activeKey?: string;\n  /**\n   * 默认激活的 tabKey，默认：undefined，如果有activeKey，则忽略\n   */\n  defaultActiveKey?: string;\n  /**\n   * TODO: 支持键盘左右键进行切换tab，默认：true\n   */\n  keyboard?: boolean;\n  /**\n   * 变化Tab的时候是否有动画效果，默认：false\n   */\n  animated?: boolean;\n} & IRestProps & React.DOMAttributes<HTMLDivElement>;\n\nconst TabsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst getTabBarTabList = (panes: React.ReactNode) => {\n  const tabList: ITabPanelProps[] = [];\n  React.Children.forEach(\n    panes as React.ReactElement[],\n    (child: React.ReactElement<ITabPanelProps>) => {\n      if (child && React.isValidElement(child) && (child.type as any).displayName === 'TabPanel') {\n        const { title, onClose, disabled, prefix } = child.props;\n        tabList.push({\n          key: child.key as string,\n          title,\n          onClose,\n          disabled,\n          prefix,\n        });\n      }\n    },\n  );\n  return tabList;\n};\n\nexport const Tabs = React.memo(React.forwardRef<HTMLDivElement, ITabsProps>((props, ref) => {\n  const { children, onActiveTabChange, activeKey: activeKeyProp, defaultActiveKey, animated, keepMounted = true, ...rest } = props;\n  const tabs = React.useMemo(() => getTabBarTabList(children), [children]);\n  const [activeKey, setActive] = useDefaultProp(defaultActiveKey || tabs[0]?.key, activeKeyProp, onActiveTabChange);\n\n  return (\n    <TabsWrapper ref={ref} {...rest}>\n      <TabsBar\n        tabs={tabs}\n        onActiveTabChange={setActive}\n        activeKey={activeKey}\n        defaultActiveKey={defaultActiveKey}\n        animated={animated}\n      />\n      <TabsContent\n        activeKey={activeKey}\n        animated={animated}\n        destroyInactiveTabPanel={!keepMounted}\n      >\n        {\n          children\n        }\n      </TabsContent>\n    </TabsWrapper>\n  )\n}));\n"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAA8C,uBAHlB;AAyC5B,MAAMA,WAAW,gBAAGC,yBAAM,CAACC,GAAG,yCAG7B;AAED,MAAMC,gBAAgB,GAAIC,KAAsB,IAAK;EACnD,MAAMC,OAAyB,GAAG,EAAE;EACpCC,cAAK,CAACC,QAAQ,CAACC,OAAO,CACpBJ,KAAK,EACJK,KAAyC,IAAK;IAC7C,IAAIA,KAAK,iBAAIH,cAAK,CAACI,cAAc,CAACD,KAAK,CAAC,IAAKA,KAAK,CAACE,IAAI,CAASC,WAAW,KAAK,UAAU,EAAE;MAC1F,MAAM;QAAEC,KAAK;QAAEC,OAAO;QAAEC,QAAQ;QAAEC;MAAO,CAAC,GAAGP,KAAK,CAACQ,KAAK;MACxDZ,OAAO,CAACa,IAAI,CAAC;QACXC,GAAG,EAAEV,KAAK,CAACU,GAAa;QACxBN,KAAK;QACLC,OAAO;QACPC,QAAQ;QACRC;MACF,CAAC,CAAC;IACJ;EACF,CAAC,CACF;EACD,OAAOX,OAAO;AAChB,CAAC;AAEM,MAAMe,IAAI,gBAAGd,cAAK,CAACe,IAAI,eAACf,cAAK,CAACgB,UAAU,CAA6B,CAACL,KAAK,EAAEM,GAAG,KAAK;EAAA;EAC1F,MAAM;IAAEC,QAAQ;IAAEC,iBAAiB;IAAEC,SAAS,EAAEC,aAAa;IAAEC,gBAAgB;IAAEC,QAAQ;IAAEC,WAAW,GAAG,IAAI;IAAE,GAAGC;EAAK,CAAC,GAAGd,KAAK;EAChI,MAAMe,IAAI,GAAG1B,cAAK,CAAC2B,OAAO,CAAC,MAAM9B,gBAAgB,CAACqB,QAAQ,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EACxE,MAAM,CAACE,SAAS,EAAEQ,SAAS,CAAC,GAAG,IAAAC,sBAAc,EAACP,gBAAgB,eAAII,IAAI,CAAC,CAAC,CAAC,2CAAP,OAASb,GAAG,GAAEQ,aAAa,EAAEF,iBAAiB,CAAC;EAEjH,oBACE,eAAC,WAAW;IAAC,GAAG,EAAEF;EAAI,GAAKQ,IAAI,gBAC7B,eAAC,gBAAO;IACN,IAAI,EAAEC,IAAK;IACX,iBAAiB,EAAEE,SAAU;IAC7B,SAAS,EAAER,SAAU;IACrB,gBAAgB,EAAEE,gBAAiB;IACnC,QAAQ,EAAEC;EAAS,EACnB,eACF,eAAC,wBAAW;IACV,SAAS,EAAEH,SAAU;IACrB,QAAQ,EAAEG,QAAS;IACnB,uBAAuB,EAAE,CAACC;EAAY,GAGpCN,QAAQ,CAEE,CACF;AAElB,CAAC,CAAC,CAAC;AAAC"}