{"version":3,"file":"Menu.test.js","names":["test","render","expect","screen","queryByText","toBeInTheDocument","toBeNull","k","key","title","subMenu","fireEvent","mouseEnter","getByText","m","menu","container","querySelector","keyDown","keyCode","KEY_CODES","DOWN","RIGHT","LEFT","ENTER","Promise","resolve","setTimeout"],"sources":["../../../../../src/display/menu/__tests__/Menu.test.tsx"],"sourcesContent":["import * as React from 'react';\nimport { render, fireEvent, screen } from '@testing-library/react';\nimport '@testing-library/jest-dom';\n\nimport { Menu } from '../index';\n\nimport { KEY_CODES } from '../../../common';\n\n\ntest('Menu: should render items.', async () => {\n  render(<Menu items={['Item1', 'Item2', 'Item3']} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item4')).toBeNull();\n});\n\ntest('Menu: should render custom items (normalized).', async () => {\n  render(<Menu items={['Item1', 'Item2', 'Item3']} renderItem={k => <Menu.Item>{k.key + '-C'}</Menu.Item>} />);\n  expect(screen.queryByText('Item1-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item2-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item3-C')).toBeInTheDocument();\n});\n\ntest('Menu: should expand Menu when mouse hover', async () => {\n\n  render(<Menu items={['Item1', { key: 'Item2', title: 'Item2', subMenu: ['Item21', 'Item22'] }, 'Item3']} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n  fireEvent.mouseEnter(screen.getByText('Item2'));\n\n  expect(screen.queryByText('Item21')).toBeInTheDocument();\n  expect(screen.queryByText('Item22')).toBeInTheDocument();\n\n  fireEvent.mouseEnter(screen.getByText('Item1'));\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n});\n\n\ntest('Menu: should expand Menu for keyborad entering arrow right', async () => {\n\n  const m = render(<Menu items={['Item1', { key: 'Item2', title: 'Item2', subMenu: ['Item21', 'Item22'] }, 'Item3']} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n  fireEvent.mouseEnter(screen.getByText('Item1'));\n\n  const menu = m.container.querySelector('.wdn-menu')!;\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.DOWN });\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.RIGHT });\n  expect(screen.queryByText('Item21')).toBeInTheDocument();\n  expect(screen.queryByText('Item22')).toBeInTheDocument();\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.LEFT });\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.ENTER });\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  expect(screen.queryByText('Item21')).toBeInTheDocument();\n  expect(screen.queryByText('Item22')).toBeInTheDocument();\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.LEFT });\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n});\n\n\n"],"mappings":"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"}