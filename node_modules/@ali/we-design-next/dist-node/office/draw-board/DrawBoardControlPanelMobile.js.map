{"version":3,"file":"DrawBoardControlPanelMobile.js","names":["DrawboardControlPanelMobile","React","memo","forwardRef","props","ref","drawBoardRef","useRef","useImperativeHandle","attach","drawBoard","current","onChange","undoAble","redoAble","clearAble","setUndoAble","setRedoAble","setClearAble","useState","undo","undefined","redo","clear","IconsWrap","styled","div","IconWrap","disabled","COLORS","LIGHT","LEVEL4_BASE_COLOR","LEVEL1_BASE_COLOR"],"sources":["../../../../src/office/draw-board/DrawBoardControlPanelMobile.tsx"],"sourcesContent":["\nimport React, { useRef, useState, useImperativeHandle } from 'react';\nimport styled from 'styled-components';\nimport { COLORS } from '../../common/consts/colors';\nimport { IconUndoMobile, IconRedoMobile, IconDeleteMobile } from '../../basic/icon';\nimport { DrawBoardMobile } from './DrawBoardMobile';\n\ntype IDrawBoardControlPanelHandlers = {\n  attach: (drawboard: React.ComponentRef<typeof DrawBoardMobile>) => () => void;\n};\n\nexport const DrawboardControlPanelMobile = React.memo(\n\n  React.forwardRef<IDrawBoardControlPanelHandlers, {}>(\n    (props, ref) => {\n\n      const drawBoardRef = useRef<React.ComponentRef<typeof DrawBoardMobile> | null>(null);\n\n      useImperativeHandle(ref, () => ({\n        attach: (drawBoard) => {\n          drawBoardRef.current = drawBoard;\n          return drawBoard.onChange(\n            ({ undoAble, redoAble, clearAble }) => {\n              setUndoAble(undoAble);\n              setRedoAble(redoAble);\n              setClearAble(clearAble);\n            }\n          );\n        }\n      }));\n\n      const [undoAble, setUndoAble] = useState<boolean>(false);\n      const [redoAble, setRedoAble] = useState<boolean>(false);\n      const [clearAble, setClearAble] = useState<boolean>(false);\n\n      return <IconsWrap>\n        <IconWrap onTouchStart={undoAble ? () => drawBoardRef.current?.undo() : undefined} disabled={!undoAble}>\n          <IconUndoMobile />\n        </IconWrap>\n        <IconWrap onTouchStart={redoAble ? () => drawBoardRef.current?.redo() : undefined} disabled={!redoAble}>\n          <IconRedoMobile />\n        </IconWrap>\n        <IconWrap onTouchStart={clearAble ? () => drawBoardRef.current?.clear() : undefined} disabled={!clearAble}>\n          <IconDeleteMobile />\n        </IconWrap>\n      </IconsWrap>;\n    }\n  )\n);\n\nconst IconsWrap = styled.div`\n  display: flex;\n  padding: 0 10px;\n`;\n\nconst IconWrap = styled.div<{ disabled: boolean }>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40px;\n  height: 48px;\n  color: ${({ disabled }) => disabled ? COLORS.LIGHT.LEVEL4_BASE_COLOR : COLORS.LIGHT.LEVEL1_BASE_COLOR};\n  & > svg{\n    vertical-align: middle;\n  }\n`;\n"],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AAAoF;AAAA;AAAA;AAAA,uBAHxD;AAUrB,MAAMA,2BAA2B,gBAAGC,cAAK,CAACC,IAAI,eAEnDD,cAAK,CAACE,UAAU,CACd,CAACC,KAAK,EAAEC,GAAG,KAAK;EAEd,MAAMC,YAAY,GAAG,IAAAC,aAAM,EAAoD,IAAI,CAAC;EAEpF,IAAAC,0BAAmB,EAACH,GAAG,EAAE,OAAO;IAC9BI,MAAM,EAAGC,SAAS,IAAK;MACrBJ,YAAY,CAACK,OAAO,GAAGD,SAAS;MAChC,OAAOA,SAAS,CAACE,QAAQ,CACvB,CAAC;QAAEC,QAAQ;QAAEC,QAAQ;QAAEC;MAAU,CAAC,KAAK;QACrCC,WAAW,CAACH,QAAQ,CAAC;QACrBI,WAAW,CAACH,QAAQ,CAAC;QACrBI,YAAY,CAACH,SAAS,CAAC;MACzB,CAAC,CACF;IACH;EACF,CAAC,CAAC,CAAC;EAEH,MAAM,CAACF,QAAQ,EAAEG,WAAW,CAAC,GAAG,IAAAG,eAAQ,EAAU,KAAK,CAAC;EACxD,MAAM,CAACL,QAAQ,EAAEG,WAAW,CAAC,GAAG,IAAAE,eAAQ,EAAU,KAAK,CAAC;EACxD,MAAM,CAACJ,SAAS,EAAEG,YAAY,CAAC,GAAG,IAAAC,eAAQ,EAAU,KAAK,CAAC;EAE1D,oBAAO,eAAC,SAAS,qBACf,eAAC,QAAQ;IAAC,YAAY,EAAEN,QAAQ,GAAG;MAAA;MAAA,gCAAMP,YAAY,CAACK,OAAO,0DAApB,sBAAsBS,IAAI,EAAE;IAAA,IAAGC,SAAU;IAAC,QAAQ,EAAE,CAACR;EAAS,sDACrG,eAAC,oBAAc,OAAG,EACT,eACX,eAAC,QAAQ;IAAC,YAAY,EAAEC,QAAQ,GAAG;MAAA;MAAA,iCAAMR,YAAY,CAACK,OAAO,2DAApB,uBAAsBW,IAAI,EAAE;IAAA,IAAGD,SAAU;IAAC,QAAQ,EAAE,CAACP;EAAS,sDACrG,eAAC,oBAAc,OAAG,EACT,eACX,eAAC,QAAQ;IAAC,YAAY,EAAEC,SAAS,GAAG;MAAA;MAAA,iCAAMT,YAAY,CAACK,OAAO,2DAApB,uBAAsBY,KAAK,EAAE;IAAA,IAAGF,SAAU;IAAC,QAAQ,EAAE,CAACN;EAAU,0DACxG,eAAC,sBAAgB,OAAG,EACX,CACD;AACd,CAAC,CACF,CACF;AAAC;AAEF,MAAMS,SAAS,gBAAGC,yBAAM,CAACC,GAAG,kCAG3B;AAED,MAAMC,QAAQ,gBAAGF,yBAAM,CAACC,GAAG,+HAMhB,CAAC;EAAEE;AAAS,CAAC,KAAKA,QAAQ,GAAGC,cAAM,CAACC,KAAK,CAACC,iBAAiB,GAAGF,cAAM,CAACC,KAAK,CAACE,iBAAiB,CAItG"}