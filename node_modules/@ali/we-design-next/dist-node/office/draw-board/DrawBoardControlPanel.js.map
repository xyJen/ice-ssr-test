{"version":3,"file":"DrawBoardControlPanel.js","names":["DrawboardControlPanel","React","memo","forwardRef","props","ref","rest","drawBoardRef","useRef","useImperativeHandle","attach","drawBoard","current","onChange","undoAble","redoAble","clearAble","setUndoAble","setRedoAble","setClearAble","useState","mergeRestProps","undo","undefined","redo","clear","IconsWrap","styled","div","IconWrap","span","disabled","COLORS","LIGHT","LEVEL4_BASE_COLOR","LEVEL1_BASE_COLOR","COMMON","LINE_LIGHT_COLOR"],"sources":["../../../../src/office/draw-board/DrawBoardControlPanel.tsx"],"sourcesContent":["\nimport React, { useRef, useState, useImperativeHandle, DOMAttributes } from 'react';\nimport styled from 'styled-components';\nimport { COLORS } from '../../common/consts/colors';\nimport { IconUndo, IconRedo, IconDelete } from '../../index';\nimport { DrawBoard } from './DrawBoard';\nimport { IRestProps, mergeRestProps } from '../../common/react/mergeRestProps';\n\ntype IDrawBoardControlPanelHandlers = {\n  attach: (drawboard: React.ComponentRef<typeof DrawBoard>) => () => void;\n};\n\ntype IDrawBoardControlPanelProps = IRestProps & DOMAttributes<HTMLDivElement>;\n\nexport const DrawboardControlPanel = React.memo(\n\n  React.forwardRef<IDrawBoardControlPanelHandlers, IDrawBoardControlPanelProps>(\n    (props, ref) => {\n\n      const { ...rest } = props;\n\n      const drawBoardRef = useRef<React.ComponentRef<typeof DrawBoard> | null>(null);\n\n      useImperativeHandle(ref, () => ({\n        attach: (drawBoard) => {\n          drawBoardRef.current = drawBoard;\n          return drawBoard.onChange(\n            ({ undoAble, redoAble, clearAble }) => {\n              setUndoAble(undoAble);\n              setRedoAble(redoAble);\n              setClearAble(clearAble);\n            }\n          );\n        }\n      }));\n\n      const [undoAble, setUndoAble] = useState<boolean>(false);\n      const [redoAble, setRedoAble] = useState<boolean>(false);\n      const [clearAble, setClearAble] = useState<boolean>(false);\n\n      return <IconsWrap {...mergeRestProps(rest, 'wdn-drawboard-control-panel')}>\n        <IconWrap disabled={!undoAble}>\n          <IconUndo onClick={undoAble ? () => drawBoardRef.current?.undo() : undefined} />\n        </IconWrap>\n        <IconWrap disabled={!redoAble}>\n          <IconRedo onClick={redoAble ? () => drawBoardRef.current?.redo() : undefined} />\n        </IconWrap>\n        <IconWrap disabled={!clearAble}>\n          <IconDelete onClick={clearAble ? () => drawBoardRef.current?.clear() : undefined} />\n        </IconWrap>\n      </IconsWrap>;\n    }\n  )\n);\n\nconst IconsWrap = styled.div`\n  overflow: hidden;\n  border-radius: 4px;\n  height: 28px;\n`;\n\nconst IconWrap = styled.span<{ disabled: boolean }>`\n  color: ${({ disabled }) => disabled ? COLORS.LIGHT.LEVEL4_BASE_COLOR : COLORS.LIGHT.LEVEL1_BASE_COLOR};\n  display: inline-block;\n  width: 28px;\n  height: 28px;\n  margin-left: 1px;\n  :first-child {\n    margin-left: 0;\n  }\n  padding: 4px;\n  background: ${COLORS.COMMON.LINE_LIGHT_COLOR};\n  ${({ disabled }) => !disabled ? 'transition: background 0.2s ease-out;' : ''}\n  ${({ disabled }) => disabled ? 'cursor: not-allowed;' : ''}\n  ${({ disabled }) => !disabled ? '&: hover{ background: rgba(228, 230, 233, 1); }' : ''}\n`;\n"],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AAEA;AAA+E;AAAA;AAAA,uBALnD;AAarB,MAAMA,qBAAqB,gBAAGC,cAAK,CAACC,IAAI,eAE7CD,cAAK,CAACE,UAAU,CACd,CAACC,KAAK,EAAEC,GAAG,KAAK;EAEd,MAAM;IAAE,GAAGC;EAAK,CAAC,GAAGF,KAAK;EAEzB,MAAMG,YAAY,GAAG,IAAAC,aAAM,EAA8C,IAAI,CAAC;EAE9E,IAAAC,0BAAmB,EAACJ,GAAG,EAAE,OAAO;IAC9BK,MAAM,EAAGC,SAAS,IAAK;MACrBJ,YAAY,CAACK,OAAO,GAAGD,SAAS;MAChC,OAAOA,SAAS,CAACE,QAAQ,CACvB,CAAC;QAAEC,QAAQ;QAAEC,QAAQ;QAAEC;MAAU,CAAC,KAAK;QACrCC,WAAW,CAACH,QAAQ,CAAC;QACrBI,WAAW,CAACH,QAAQ,CAAC;QACrBI,YAAY,CAACH,SAAS,CAAC;MACzB,CAAC,CACF;IACH;EACF,CAAC,CAAC,CAAC;EAEH,MAAM,CAACF,QAAQ,EAAEG,WAAW,CAAC,GAAG,IAAAG,eAAQ,EAAU,KAAK,CAAC;EACxD,MAAM,CAACL,QAAQ,EAAEG,WAAW,CAAC,GAAG,IAAAE,eAAQ,EAAU,KAAK,CAAC;EACxD,MAAM,CAACJ,SAAS,EAAEG,YAAY,CAAC,GAAG,IAAAC,eAAQ,EAAU,KAAK,CAAC;EAE1D,oBAAO,eAAC,SAAS,EAAK,IAAAC,8BAAc,EAACf,IAAI,EAAE,6BAA6B,CAAC,eACvE,eAAC,QAAQ;IAAC,QAAQ,EAAE,CAACQ;EAAS,gBAC5B,eAAC,eAAQ;IAAC,OAAO,EAAEA,QAAQ,GAAG;MAAA;MAAA,gCAAMP,YAAY,CAACK,OAAO,0DAApB,sBAAsBU,IAAI,EAAE;IAAA,IAAGC;EAAU,EAAG,CACvE,eACX,eAAC,QAAQ;IAAC,QAAQ,EAAE,CAACR;EAAS,gBAC5B,eAAC,eAAQ;IAAC,OAAO,EAAEA,QAAQ,GAAG;MAAA;MAAA,iCAAMR,YAAY,CAACK,OAAO,2DAApB,uBAAsBY,IAAI,EAAE;IAAA,IAAGD;EAAU,EAAG,CACvE,eACX,eAAC,QAAQ;IAAC,QAAQ,EAAE,CAACP;EAAU,gBAC7B,eAAC,iBAAU;IAAC,OAAO,EAAEA,SAAS,GAAG;MAAA;MAAA,iCAAMT,YAAY,CAACK,OAAO,2DAApB,uBAAsBa,KAAK,EAAE;IAAA,IAAGF;EAAU,EAAG,CAC3E,CACD;AACd,CAAC,CACF,CACF;AAAC;AAEF,MAAMG,SAAS,gBAAGC,yBAAM,CAACC,GAAG,oDAI3B;AAED,MAAMC,QAAQ,gBAAGF,yBAAM,CAACG,IAAI,oJACjB,CAAC;EAAEC;AAAS,CAAC,KAAKA,QAAQ,GAAGC,cAAM,CAACC,KAAK,CAACC,iBAAiB,GAAGF,cAAM,CAACC,KAAK,CAACE,iBAAiB,EASvFH,cAAM,CAACI,MAAM,CAACC,gBAAgB,EAC1C,CAAC;EAAEN;AAAS,CAAC,KAAK,CAACA,QAAQ,GAAG,uCAAuC,GAAG,EAAE,EAC1E,CAAC;EAAEA;AAAS,CAAC,KAAKA,QAAQ,GAAG,sBAAsB,GAAG,EAAE,EACxD,CAAC;EAAEA;AAAS,CAAC,KAAK,CAACA,QAAQ,GAAG,iDAAiD,GAAG,EAAE,CACvF"}