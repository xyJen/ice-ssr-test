{"version":3,"file":"Animation.js","names":["Animation","options","timer","startTime","duration","progress","done","handleProgress","p","Date","now","requestAnimationFrame","start","clear","cancelAnimationFrame"],"sources":["../../../../../../src/form/date-picker/panels/TimePanel/Animation.ts"],"sourcesContent":["interface IOptions {\n  duration: number;\n  progress: (e: number) => void;\n  done: (e: number) => void;\n}\n\nexport default class Animation {\n  private timer = 0;\n\n  private startTime = 0;\n\n  private readonly duration: number;\n\n  private readonly progress: (e: number) => void;\n\n  private readonly done: (e: number) => void;\n\n  constructor(options: IOptions) {\n    this.duration = options.duration;\n    this.progress = options.progress;\n    this.done = options.done;\n  }\n\n  private readonly handleProgress = (): void => {\n    const p = (Date.now() - this.startTime) / this.duration;\n    if (p >= 1) {\n      this.done(1);\n    } else {\n      this.progress(p);\n      this.timer = requestAnimationFrame(this.handleProgress);\n    }\n  };\n\n  start(): Animation {\n    this.clear();\n    this.startTime = Date.now();\n    this.timer = requestAnimationFrame(this.handleProgress);\n    return this;\n  }\n\n  clear(): Animation {\n    if (this.timer) {\n      cancelAnimationFrame(this.timer);\n      this.timer = 0;\n    }\n    return this;\n  }\n}\n"],"mappings":"IAMqBA,SAAS;EAW5B,mBAAYC,OAAiB,EAAE;IAAA;IAAA,KAVvBC,KAAK,GAAG,CAAC;IAAA,KAETC,SAAS,GAAG,CAAC;IAAA,KAEJC,QAAQ;IAAA,KAERC,QAAQ;IAAA,KAERC,IAAI;IAAA,KAQJC,cAAc,GAAG,YAAY;MAC5C,IAAMC,CAAC,GAAG,CAACC,IAAI,CAACC,GAAG,EAAE,GAAG,KAAI,CAACP,SAAS,IAAI,KAAI,CAACC,QAAQ;MACvD,IAAII,CAAC,IAAI,CAAC,EAAE;QACV,KAAI,CAACF,IAAI,CAAC,CAAC,CAAC;MACd,CAAC,MAAM;QACL,KAAI,CAACD,QAAQ,CAACG,CAAC,CAAC;QAChB,KAAI,CAACN,KAAK,GAAGS,qBAAqB,CAAC,KAAI,CAACJ,cAAc,CAAC;MACzD;IACF,CAAC;IAbC,IAAI,CAACH,QAAQ,GAAGH,OAAO,CAACG,QAAQ;IAChC,IAAI,CAACC,QAAQ,GAAGJ,OAAO,CAACI,QAAQ;IAChC,IAAI,CAACC,IAAI,GAAGL,OAAO,CAACK,IAAI;EAC1B;EAAC;EAAA,OAYDM,KAAK,GAAL,iBAAmB;IACjB,IAAI,CAACC,KAAK,EAAE;IACZ,IAAI,CAACV,SAAS,GAAGM,IAAI,CAACC,GAAG,EAAE;IAC3B,IAAI,CAACR,KAAK,GAAGS,qBAAqB,CAAC,IAAI,CAACJ,cAAc,CAAC;IACvD,OAAO,IAAI;EACb,CAAC;EAAA,OAEDM,KAAK,GAAL,iBAAmB;IACjB,IAAI,IAAI,CAACX,KAAK,EAAE;MACdY,oBAAoB,CAAC,IAAI,CAACZ,KAAK,CAAC;MAChC,IAAI,CAACA,KAAK,GAAG,CAAC;IAChB;IACA,OAAO,IAAI;EACb,CAAC;EAAA;AAAA;AAAA,SAxCkBF,SAAS"}