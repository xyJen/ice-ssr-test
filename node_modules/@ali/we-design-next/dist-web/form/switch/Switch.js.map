{"version":3,"file":"Switch.js","names":["React","memo","useCallback","SwitchButton","SwitchInner","KEY_CODES","mergeRestProps","useDefaultProp","Switch","props","defaultChecked","checked","onChange","size","disabled","rest","ck","setCk","onKeyDown","e","keyCode","LEFT","RIGHT"],"sources":["../../../../src/form/switch/Switch.tsx"],"sourcesContent":["/* eslint-disable no-param-reassign */\nimport React, { memo, useCallback } from 'react';\nimport { SwitchButton, SwitchInner } from './styled';\nimport { KEY_CODES } from '../../common/consts';\nimport { mergeRestProps, MergePropsType } from '../../common';\nimport { useDefaultProp } from '../../common/react/useDefaultProp';\n\nexport type ISwitchProps = MergePropsType<{\n  /**\n   * 是否开启\n   */\n  checked?: boolean;\n  /**\n   * 默认是否开启\n   */\n  defaultChecked?: boolean;\n  /**\n   * 变化事件\n   */\n  onChange?: (e: boolean) => void;\n  /**\n   * 是否禁用\n   */\n  disabled?: boolean;\n  /**\n   * 尺寸\n   */\n  size?: 'normal' | 'small';\n}, React.ButtonHTMLAttributes<HTMLButtonElement>>;\n\nconst Switch = memo(((props: ISwitchProps) => {\n  const {\n    defaultChecked,\n    checked,\n    onChange,\n    size = 'normal',\n    disabled,\n    ...rest\n  } = props;\n\n  const [ck, setCk] = useDefaultProp(defaultChecked || false, checked, onChange);\n\n  const onKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLButtonElement>) => {\n      if (e.keyCode === KEY_CODES.LEFT) {\n        setCk(false);\n      } else if (e.keyCode === KEY_CODES.RIGHT) {\n        setCk(true);\n      }\n    },\n    [setCk]\n  );\n\n  return (\n    <SwitchButton\n      checked={ck}\n      size={size}\n      onClick={() => setCk(!ck)}\n      onKeyDown={onKeyDown}\n      disabled={disabled}\n      {...mergeRestProps(rest, 'wdn-switch')}\n    >\n      <SwitchInner size={size} checked={ck} />\n    </SwitchButton>\n  );\n}));\n\nexport { Switch };\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,IAAI,EAAEC,WAAW,QAAQ,OAAO;AAAC,qBAArB;AAC5B,SAASC,YAAY,EAAEC,WAAW;AAClC,SAASC,SAAS;AAClB,SAASC,cAAc;AACvB,SAASC,cAAc;AAyBvB,IAAMC,MAAM,gBAAGP,IAAI,CAAE,UAACQ,KAAmB,EAAK;EAC5C,IACEC,cAAc,GAMZD,KAAK,CANPC,cAAc;IACdC,OAAO,GAKLF,KAAK,CALPE,OAAO;IACPC,QAAQ,GAINH,KAAK,CAJPG,QAAQ;IAAA,cAINH,KAAK,CAHPI,IAAI;IAAJA,IAAI,4BAAG,QAAQ;IACfC,QAAQ,GAENL,KAAK,CAFPK,QAAQ;IACLC,IAAI,iCACLN,KAAK;EAET,sBAAoBF,cAAc,CAACG,cAAc,IAAI,KAAK,EAAEC,OAAO,EAAEC,QAAQ,CAAC;IAAvEI,EAAE;IAAEC,KAAK;EAEhB,IAAMC,SAAS,GAAGhB,WAAW,CAC3B,UAACiB,CAAyC,EAAK;IAC7C,IAAIA,CAAC,CAACC,OAAO,KAAKf,SAAS,CAACgB,IAAI,EAAE;MAChCJ,KAAK,CAAC,KAAK,CAAC;IACd,CAAC,MAAM,IAAIE,CAAC,CAACC,OAAO,KAAKf,SAAS,CAACiB,KAAK,EAAE;MACxCL,KAAK,CAAC,IAAI,CAAC;IACb;EACF,CAAC,EACD,CAACA,KAAK,CAAC,CACR;EAED,oBACE,eAAC,YAAY;IACX,OAAO,EAAED,EAAG;IACZ,IAAI,EAAEH,IAAK;IACX,OAAO,EAAE;MAAA,OAAMI,KAAK,CAAC,CAACD,EAAE,CAAC;IAAA,CAAC;IAC1B,SAAS,EAAEE,SAAU;IACrB,QAAQ,EAAEJ;EAAS,GACfR,cAAc,CAACS,IAAI,EAAE,YAAY,CAAC,gBAEtC,eAAC,WAAW;IAAC,IAAI,EAAEF,IAAK;IAAC,OAAO,EAAEG;EAAG,EAAG,CAC3B;AAEnB,CAAC,CAAE;AAEH,SAASR,MAAM"}