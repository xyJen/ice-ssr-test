{"version":3,"file":"Select.js","names":["React","useMemo","useState","useLayoutEffect","useRef","cloneElement","Popover","useDefaultProp","mergeRestProps","proxyRestProps","KEY_CODES","useFocusTarget","renderReactNode","List","flattenNested","isNormalized","Input","SuffixWrap","ErrorTip","SelectNormal","SelectNormalValue","SelectNormalValuePlaceholder","InputWrap","visibleStyle","errorStyle","ArrowUpDown12","IconSelected","Select","memo","forwardRef","props","ref","options","_value","value","defaultValue","onChange","_visible","visible","defaultVisible","onVisibleChange","size","mode","placeholder","disabled","error","bordered","getContainer","children","renderValue","renderOption","autoWidth","keyboard","rest","flattenOptions","setValue","undefined","inputValue","setInputValue","active","setActive","setVisible","wrapRef","listRef","current","style","minWidth","clientWidth","focusTargetId","focusTarget","focusOwner","onOptionClick","k","updateValueByInputValue","res","filter","find","op","title","toString","includes","key","handleEsc","handleKeyDown","e","which","ENTER","nativeEvent","stopImmediatePropagation","DOWN","ESC","handleValueChange","target","currentOpt","renderListItem","p","ele","suffix","maxHeight","fn","document","body","Option","Item"],"sources":["../../../../src/form/select/Select.tsx"],"sourcesContent":["import React, { useMemo, useState, useLayoutEffect, useRef, ReactElement, cloneElement } from 'react';\nimport { Popover } from '../../display/popover';\nimport { useDefaultProp, IRestProps, mergeRestProps, proxyRestProps, KEY_CODES, useFocusTarget, renderReactNode, IRenderReactNode } from '../../common';\nimport { List } from '../../basic/list';\nimport { IListItemNormalized, IListItemCustomized, INestedItems, flattenNested, isNormalized } from '../../basic/list/nested';\nimport { Input } from '../../form/input';\nimport { SuffixWrap, ErrorTip, SelectNormal, SelectNormalValue, SelectNormalValuePlaceholder, InputWrap, visibleStyle, errorStyle } from './styled';\nimport { ArrowUpDown12 } from '../../common/';\nimport { IconSelected } from '../../basic/icon';\n\nexport type ISelectOptionNormalized = IListItemNormalized;\n\nexport type ISelectOptionCustomized = IListItemCustomized;\n\nexport type ISelectOption = ISelectOptionNormalized | ISelectOptionCustomized;\n\nexport type ISelectProps = {\n  /**\n   * 选中值\n   */\n  value?: string;\n  /**\n   * 默认值\n   */\n  defaultValue?: string;\n  /**\n   * 选中值变化时的回调\n   */\n  onChange?: (value: string) => void;\n  /**\n   * 下拉列表的选项\n   */\n  options?: INestedItems<ISelectOption>;\n  /**\n   * 自定义渲染\n   */\n  renderValue?: IRenderReactNode<{ key: string }>; // (value: ISelectOptionNormalized | string) => React.ReactElement | null;\n  /**\n   * 自定义渲染\n   */\n  renderOption?: IRenderReactNode<{ key: string }>;\n  /**\n   * 模式，默认为不可输入\n   */\n  mode?: 'normal' | 'input';\n  /**\n   * 下拉弹层可见性\n   */\n  visible?: boolean;\n  /**\n   * 下拉弹层默认可见性\n   */\n  defaultVisible?: boolean;\n  /**\n   * 弹层可见性变化时的回调\n   */\n  onVisibleChange?: (visible: boolean) => void;\n  /**\n   * 禁用态\n   */\n  disabled?: boolean;\n  /**\n   * 占位提示\n   */\n  placeholder?: string;\n  /**\n   * 组件尺寸，默认为small 28px\n   */\n  size?: 'small' | 'normal';\n  /**\n   * 弹层挂载的容器元素\n   */\n  getContainer?: () => HTMLElement;\n  /**\n   * 错误提示\n   */\n  error?: string;\n  /**\n   * 是否有边框，默认为 true\n   */\n  bordered?: boolean;\n  /**\n   * 如果为 true，那么下拉面板中的内容将自适应宽度；否则将至少与输入框同宽。\n   */\n  autoWidth?: boolean;\n  /**\n   * 是否响应键盘事件\n   */\n  keyboard?: boolean;\n} & IRestProps;\n\nexport const Select = React.memo(\n\n  React.forwardRef<HTMLInputElement, ISelectProps>(\n    (props, ref) => {\n      const {\n        options = [],\n        value: _value,\n        defaultValue = '',\n        onChange,\n        visible: _visible,\n        defaultVisible = false,\n        onVisibleChange,\n        size = 'small',\n        mode = 'normal',\n        placeholder,\n        disabled,\n        error,\n        bordered = true,\n        getContainer,\n        children,\n        renderValue,\n        renderOption,\n        autoWidth = false,\n        keyboard = true,\n        ...rest\n      } = props;\n\n      const flattenOptions = useMemo(() => flattenNested(options), [options]);\n\n      const [value, setValue] = useDefaultProp<string>(defaultValue, _value, onChange);\n      const [inputValue, setInputValue] = useState<string | undefined>(undefined);\n      const [active, setActive] = useState<string | null>(null);\n      const [visible, setVisible] = useDefaultProp<boolean>(defaultVisible, _visible, onVisibleChange);\n\n      const wrapRef = useRef<HTMLDivElement>(null);\n      const listRef = useRef<HTMLDivElement>(null);\n\n      // 需要在dom更新后，渲染之前更新宽度，否则会影响dom align获取content的宽度\n      useLayoutEffect(() => {\n        if (visible && wrapRef.current && listRef.current) {\n          listRef.current.style.minWidth = autoWidth ? 'auto' : wrapRef.current.clientWidth + 'px';\n        }\n      }, [visible, autoWidth]);\n\n      const [focusTargetId, focusTarget, focusOwner] = useFocusTarget(wrapRef);\n\n      const onOptionClick = (k: string) => {\n        setValue(k);\n        setInputValue(undefined);\n        setVisible(false);\n      };\n\n      const updateValueByInputValue = () => {\n        if (typeof inputValue === 'string') {\n          const res = flattenOptions.filter(isNormalized).find(op => op.title?.toString().includes(inputValue));\n          if (res) {\n            setValue(res.key);\n          } else {\n            setValue(inputValue);\n          }\n          setInputValue(undefined);\n        }\n      };\n\n      const handleEsc = () => {\n        focusOwner(() => {\n          setActive(null);\n          setVisible(false);\n        });\n      };\n\n      const handleKeyDown = keyboard ? (e: React.KeyboardEvent<HTMLInputElement>) => {\n        switch (e.which) {\n          case KEY_CODES.ENTER:\n            !visible && setVisible(true);\n            mode === 'input' && updateValueByInputValue();\n            e.nativeEvent.stopImmediatePropagation();\n            break;\n          case KEY_CODES.DOWN:\n            break;\n          case KEY_CODES.ESC:\n            handleEsc();\n            break;\n          default: break;\n        }\n      } : undefined;\n\n      const handleValueChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setInputValue(e.target.value);\n      };\n\n      const currentOpt = flattenOptions.find(k => k.key === value);\n\n      const renderListItem: React.ComponentProps<typeof List>['renderItem'] = ({ key }) => (p: ReactElement) => {\n        const props = p.props as any;\n        const ele = key === value ? cloneElement(p as ReactElement, { suffix: <IconSelected /> }) :\n          !props.suffix ? cloneElement(p as ReactElement, { suffix: null }) :\n            p;\n        return renderReactNode(\n          renderOption,\n          ele,\n          { key }\n        );\n      };\n\n      return <Popover\n        placement=\"bottomLeft\"\n        placementOffset={[4, 0]}\n        animation\n        content={\n          <List\n            items={options}\n            id={focusTargetId}\n            style={{ minWidth: 'auto', maxHeight: 400 }}\n            keyboard={keyboard}\n            active={active}\n            onActiveChange={setActive}\n            onSelect={onOptionClick}\n            renderItem={renderListItem}\n            {...proxyRestProps(rest, 'list')}\n            ref={listRef}\n          />\n        }\n        visible={visible}\n        trigger={disabled ? undefined : \"click\"}\n        onVisibleChange={(e) => {\n          if (e) {\n            if (!visible) {\n              const fn = () => setVisible(e);\n              if (keyboard && mode === 'normal') {\n                focusTarget(fn);\n              } else {\n                fn();\n              }\n            }\n          } else {\n            visible && setVisible(e);\n            setActive(null);\n          }\n        }}\n        getContainer={getContainer || (() => wrapRef.current || document.body)}\n        onKeyDown={(e) => { e.which === KEY_CODES.ESC && handleEsc() }}\n        data-testid={`overlay-${props['data-testid']}`}\n      >\n        <InputWrap\n          ref={wrapRef}\n          size={size}\n          onKeyDown={handleKeyDown}\n          {...mergeRestProps(rest, 'wdn-select')}\n        >\n          {mode === 'normal' ?\n            <SelectNormal\n              ref={ref}\n              className='wdn-select-normal'\n              tabIndex={-1}\n              hasError={!!error}\n              disabled={!!disabled}\n              size={size}\n              bordered={bordered}\n              visible={visible}\n              onClick={() => visible && setVisible(false)}\n            >\n              <SelectNormalValue>\n                {\n                  (() => {\n\n                    if (currentOpt) {\n                      if (isNormalized(currentOpt)) {\n                        return renderReactNode(\n                          renderValue,\n                          currentOpt.title,\n                          { key: currentOpt.key }\n                        );\n                      } else {\n                        return currentOpt.key;\n                      }\n                    } else {\n                      return (\n                        value\n                          ? renderReactNode(renderValue, value, { key: value })\n                          : <SelectNormalValuePlaceholder>{placeholder}</SelectNormalValuePlaceholder>\n                      );\n                    }\n                  })()\n                }\n              </SelectNormalValue>\n              <SuffixWrap>\n                <ArrowUpDown12 dir={visible ? 'up' : 'down'} />\n              </SuffixWrap>\n            </SelectNormal>\n            :\n            <Input\n              ref={ref}\n              className='wdn-select-input'\n              size={size}\n              value={typeof inputValue === 'string' ? inputValue : currentOpt ? isNormalized(currentOpt) ? currentOpt.title?.toString() : currentOpt.key : value}\n              disabled={!!disabled}\n              bordered={!!bordered}\n              placeholder={placeholder}\n              onBlur={updateValueByInputValue}\n              onChange={handleValueChange}\n              style={visible && bordered ? visibleStyle : (error ? errorStyle : undefined)}\n              suffix={\n                <SuffixWrap>\n                  {<ArrowUpDown12 dir={visible ? 'up' : 'down'} />}\n                </SuffixWrap>\n              }\n            />}\n          {error && <ErrorTip>{error}</ErrorTip>}\n        </InputWrap>\n      </Popover>;\n    })\n);\n\nexport const Option = List.Item;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,OAAO,EAAEC,QAAQ,EAAEC,eAAe,EAAEC,MAAM,EAAgBC,YAAY,QAAQ,OAAO;AAAC,qBAC1E;AAA5B,SAASC,OAAO;AAChB,SAASC,cAAc,EAAcC,cAAc,EAAEC,cAAc,EAAEC,SAAS,EAAEC,cAAc,EAAEC,eAAe;AAC/G,SAASC,IAAI;AACb,SAAiEC,aAAa,EAAEC,YAAY;AAC5F,SAASC,KAAK;AACd,SAASC,UAAU,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,iBAAiB,EAAEC,4BAA4B,EAAEC,SAAS,EAAEC,YAAY,EAAEC,UAAU;AACjI,SAASC,aAAa;AACtB,SAASC,YAAY;AAmFrB,OAAO,IAAMC,MAAM,gBAAG3B,KAAK,CAAC4B,IAAI,eAE9B5B,KAAK,CAAC6B,UAAU,CACd,UAACC,KAAK,EAAEC,GAAG,EAAK;EAAA;EACd,qBAqBID,KAAK,CApBPE,OAAO;IAAPA,OAAO,+BAAG,EAAE;IACLC,MAAM,GAmBXH,KAAK,CAnBPI,KAAK;IAAA,sBAmBHJ,KAAK,CAlBPK,YAAY;IAAZA,YAAY,oCAAG,EAAE;IACjBC,QAAQ,GAiBNN,KAAK,CAjBPM,QAAQ;IACCC,QAAQ,GAgBfP,KAAK,CAhBPQ,OAAO;IAAA,wBAgBLR,KAAK,CAfPS,cAAc;IAAdA,cAAc,sCAAG,KAAK;IACtBC,eAAe,GAcbV,KAAK,CAdPU,eAAe;IAAA,cAcbV,KAAK,CAbPW,IAAI;IAAJA,IAAI,4BAAG,OAAO;IAAA,cAaZX,KAAK,CAZPY,IAAI;IAAJA,IAAI,4BAAG,QAAQ;IACfC,WAAW,GAWTb,KAAK,CAXPa,WAAW;IACXC,QAAQ,GAUNd,KAAK,CAVPc,QAAQ;IACRC,KAAK,GASHf,KAAK,CATPe,KAAK;IAAA,kBASHf,KAAK,CARPgB,QAAQ;IAARA,QAAQ,gCAAG,IAAI;IACfC,YAAY,GAOVjB,KAAK,CAPPiB,YAAY;IACZC,QAAQ,GAMNlB,KAAK,CANPkB,QAAQ;IACRC,WAAW,GAKTnB,KAAK,CALPmB,WAAW;IACXC,YAAY,GAIVpB,KAAK,CAJPoB,YAAY;IAAA,mBAIVpB,KAAK,CAHPqB,SAAS;IAATA,SAAS,iCAAG,KAAK;IAAA,kBAGfrB,KAAK,CAFPsB,QAAQ;IAARA,QAAQ,gCAAG,IAAI;IACZC,IAAI,iCACLvB,KAAK;EAET,IAAMwB,cAAc,GAAGrD,OAAO,CAAC;IAAA,OAAMa,aAAa,CAACkB,OAAO,CAAC;EAAA,GAAE,CAACA,OAAO,CAAC,CAAC;EAEvE,sBAA0BzB,cAAc,CAAS4B,YAAY,EAAEF,MAAM,EAAEG,QAAQ,CAAC;IAAzEF,KAAK;IAAEqB,QAAQ;EACtB,gBAAoCrD,QAAQ,CAAqBsD,SAAS,CAAC;IAApEC,UAAU;IAAEC,aAAa;EAChC,iBAA4BxD,QAAQ,CAAgB,IAAI,CAAC;IAAlDyD,MAAM;IAAEC,SAAS;EACxB,uBAA8BrD,cAAc,CAAUgC,cAAc,EAAEF,QAAQ,EAAEG,eAAe,CAAC;IAAzFF,OAAO;IAAEuB,UAAU;EAE1B,IAAMC,OAAO,GAAG1D,MAAM,CAAiB,IAAI,CAAC;EAC5C,IAAM2D,OAAO,GAAG3D,MAAM,CAAiB,IAAI,CAAC;;EAE5C;EACAD,eAAe,CAAC,YAAM;IACpB,IAAImC,OAAO,IAAIwB,OAAO,CAACE,OAAO,IAAID,OAAO,CAACC,OAAO,EAAE;MACjDD,OAAO,CAACC,OAAO,CAACC,KAAK,CAACC,QAAQ,GAAGf,SAAS,GAAG,MAAM,GAAGW,OAAO,CAACE,OAAO,CAACG,WAAW,GAAG,IAAI;IAC1F;EACF,CAAC,EAAE,CAAC7B,OAAO,EAAEa,SAAS,CAAC,CAAC;EAExB,sBAAiDxC,cAAc,CAACmD,OAAO,CAAC;IAAjEM,aAAa;IAAEC,WAAW;IAAEC,UAAU;EAE7C,IAAMC,aAAa,GAAG,SAAhBA,aAAa,CAAIC,CAAS,EAAK;IACnCjB,QAAQ,CAACiB,CAAC,CAAC;IACXd,aAAa,CAACF,SAAS,CAAC;IACxBK,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,IAAMY,uBAAuB,GAAG,SAA1BA,uBAAuB,GAAS;IACpC,IAAI,OAAOhB,UAAU,KAAK,QAAQ,EAAE;MAClC,IAAMiB,GAAG,GAAGpB,cAAc,CAACqB,MAAM,CAAC5D,YAAY,CAAC,CAAC6D,IAAI,CAAC,UAAAC,EAAE;QAAA;QAAA,oBAAIA,EAAE,CAACC,KAAK,qBAAR,UAAUC,QAAQ,EAAE,CAACC,QAAQ,CAACvB,UAAU,CAAC;MAAA,EAAC;MACrG,IAAIiB,GAAG,EAAE;QACPnB,QAAQ,CAACmB,GAAG,CAACO,GAAG,CAAC;MACnB,CAAC,MAAM;QACL1B,QAAQ,CAACE,UAAU,CAAC;MACtB;MACAC,aAAa,CAACF,SAAS,CAAC;IAC1B;EACF,CAAC;EAED,IAAM0B,SAAS,GAAG,SAAZA,SAAS,GAAS;IACtBZ,UAAU,CAAC,YAAM;MACfV,SAAS,CAAC,IAAI,CAAC;MACfC,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACJ,CAAC;EAED,IAAMsB,aAAa,GAAG/B,QAAQ,GAAG,UAACgC,CAAwC,EAAK;IAC7E,QAAQA,CAAC,CAACC,KAAK;MACb,KAAK3E,SAAS,CAAC4E,KAAK;QAClB,CAAChD,OAAO,IAAIuB,UAAU,CAAC,IAAI,CAAC;QAC5BnB,IAAI,KAAK,OAAO,IAAI+B,uBAAuB,EAAE;QAC7CW,CAAC,CAACG,WAAW,CAACC,wBAAwB,EAAE;QACxC;MACF,KAAK9E,SAAS,CAAC+E,IAAI;QACjB;MACF,KAAK/E,SAAS,CAACgF,GAAG;QAChBR,SAAS,EAAE;QACX;MACF;QAAS;IAAM;EAEnB,CAAC,GAAG1B,SAAS;EAEb,IAAMmC,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIP,CAAsC,EAAK;IACpE1B,aAAa,CAAC0B,CAAC,CAACQ,MAAM,CAAC1D,KAAK,CAAC;EAC/B,CAAC;EAED,IAAM2D,UAAU,GAAGvC,cAAc,CAACsB,IAAI,CAAC,UAAAJ,CAAC;IAAA,OAAIA,CAAC,CAACS,GAAG,KAAK/C,KAAK;EAAA,EAAC;EAE5D,IAAM4D,cAA+D,GAAG,SAAlEA,cAA+D;IAAA,IAAMb,GAAG,QAAHA,GAAG;IAAA,OAAO,UAACc,CAAe,EAAK;MACxG,IAAMjE,KAAK,GAAGiE,CAAC,CAACjE,KAAY;MAC5B,IAAMkE,GAAG,GAAGf,GAAG,KAAK/C,KAAK,gBAAG7B,YAAY,CAAC0F,CAAC,EAAkB;QAAEE,MAAM,iDAAE,eAAC,YAAY,OAAG;MAAC,CAAC,CAAC,GACvF,CAACnE,KAAK,CAACmE,MAAM,gBAAG5F,YAAY,CAAC0F,CAAC,EAAkB;QAAEE,MAAM,EAAE;MAAK,CAAC,CAAC,GAC/DF,CAAC;MACL,OAAOnF,eAAe,CACpBsC,YAAY,EACZ8C,GAAG,EACH;QAAEf,GAAG,EAAHA;MAAI,CAAC,CACR;IACH,CAAC;EAAA;EAED,oBAAO,eAAC,OAAO;IACb,SAAS,EAAC,YAAY;IACtB,eAAe,EAAE,CAAC,CAAC,EAAE,CAAC,CAAE;IACxB,SAAS;IACT,OAAO,eACL,eAAC,IAAI;MACH,KAAK,EAAEjD,OAAQ;MACf,EAAE,EAAEoC,aAAc;MAClB,KAAK,EAAE;QAAEF,QAAQ,EAAE,MAAM;QAAEgC,SAAS,EAAE;MAAI,CAAE;MAC5C,QAAQ,EAAE9C,QAAS;MACnB,MAAM,EAAEO,MAAO;MACf,cAAc,EAAEC,SAAU;MAC1B,QAAQ,EAAEW,aAAc;MACxB,UAAU,EAAEuB;IAAe,GACvBrF,cAAc,CAAC4C,IAAI,EAAE,MAAM,CAAC;MAChC,GAAG,EAAEU;IAAQ,GAEhB;IACD,OAAO,EAAEzB,OAAQ;IACjB,OAAO,EAAEM,QAAQ,GAAGY,SAAS,GAAG,OAAQ;IACxC,eAAe,EAAE,yBAAC4B,CAAC,EAAK;MACtB,IAAIA,CAAC,EAAE;QACL,IAAI,CAAC9C,OAAO,EAAE;UACZ,IAAM6D,EAAE,GAAG,SAALA,EAAE;YAAA,OAAStC,UAAU,CAACuB,CAAC,CAAC;UAAA;UAC9B,IAAIhC,QAAQ,IAAIV,IAAI,KAAK,QAAQ,EAAE;YACjC2B,WAAW,CAAC8B,EAAE,CAAC;UACjB,CAAC,MAAM;YACLA,EAAE,EAAE;UACN;QACF;MACF,CAAC,MAAM;QACL7D,OAAO,IAAIuB,UAAU,CAACuB,CAAC,CAAC;QACxBxB,SAAS,CAAC,IAAI,CAAC;MACjB;IACF,CAAE;IACF,YAAY,EAAEb,YAAY,IAAK;MAAA,OAAMe,OAAO,CAACE,OAAO,IAAIoC,QAAQ,CAACC,IAAI;IAAA,CAAE;IACvE,SAAS,EAAE,mBAACjB,CAAC,EAAK;MAAEA,CAAC,CAACC,KAAK,KAAK3E,SAAS,CAACgF,GAAG,IAAIR,SAAS,EAAE;IAAC,CAAE;IAC/D,4BAAwBpD,KAAK,CAAC,aAAa;EAAI,gBAE/C,eAAC,SAAS;IACR,GAAG,EAAEgC,OAAQ;IACb,IAAI,EAAErB,IAAK;IACX,SAAS,EAAE0C;EAAc,GACrB3E,cAAc,CAAC6C,IAAI,EAAE,YAAY,CAAC,GAErCX,IAAI,KAAK,QAAQ,gBAChB,eAAC,YAAY;IACX,GAAG,EAAEX,GAAI;IACT,SAAS,EAAC,mBAAmB;IAC7B,QAAQ,EAAE,CAAC,CAAE;IACb,QAAQ,EAAE,CAAC,CAACc,KAAM;IAClB,QAAQ,EAAE,CAAC,CAACD,QAAS;IACrB,IAAI,EAAEH,IAAK;IACX,QAAQ,EAAEK,QAAS;IACnB,OAAO,EAAER,OAAQ;IACjB,OAAO,EAAE;MAAA,OAAMA,OAAO,IAAIuB,UAAU,CAAC,KAAK,CAAC;IAAA;EAAC,gBAE5C,eAAC,iBAAiB,QAEb,YAAM;IAEL,IAAIgC,UAAU,EAAE;MACd,IAAI9E,YAAY,CAAC8E,UAAU,CAAC,EAAE;QAC5B,OAAOjF,eAAe,CACpBqC,WAAW,EACX4C,UAAU,CAACf,KAAK,EAChB;UAAEG,GAAG,EAAEY,UAAU,CAACZ;QAAI,CAAC,CACxB;MACH,CAAC,MAAM;QACL,OAAOY,UAAU,CAACZ,GAAG;MACvB;IACF,CAAC,MAAM;MACL,OACE/C,KAAK,GACDtB,eAAe,CAACqC,WAAW,EAAEf,KAAK,EAAE;QAAE+C,GAAG,EAAE/C;MAAM,CAAC,CAAC,kEACnD,eAAC,4BAA4B,QAAES,WAAW,CAAgC;IAElF;EACF,CAAC,EAAG,CAEY,eACpB,eAAC,UAAU,qBACT,eAAC,aAAa;IAAC,GAAG,EAAEL,OAAO,GAAG,IAAI,GAAG;EAAO,EAAG,CACpC,CACA,gBAEf,eAAC,KAAK;IACJ,GAAG,EAAEP,GAAI;IACT,SAAS,EAAC,kBAAkB;IAC5B,IAAI,EAAEU,IAAK;IACX,KAAK,EAAE,OAAOgB,UAAU,KAAK,QAAQ,GAAGA,UAAU,GAAGoC,UAAU,GAAG9E,YAAY,CAAC8E,UAAU,CAAC,wBAAGA,UAAU,CAACf,KAAK,qBAAhB,kBAAkBC,QAAQ,EAAE,GAAGc,UAAU,CAACZ,GAAG,GAAG/C,KAAM;IACnJ,QAAQ,EAAE,CAAC,CAACU,QAAS;IACrB,QAAQ,EAAE,CAAC,CAACE,QAAS;IACrB,WAAW,EAAEH,WAAY;IACzB,MAAM,EAAE8B,uBAAwB;IAChC,QAAQ,EAAEkB,iBAAkB;IAC5B,KAAK,EAAErD,OAAO,IAAIQ,QAAQ,GAAGvB,YAAY,GAAIsB,KAAK,GAAGrB,UAAU,GAAGgC,SAAW;IAC7E,MAAM,eACJ,eAAC,UAAU,qBACR,eAAC,aAAa;MAAC,GAAG,EAAElB,OAAO,GAAG,IAAI,GAAG;IAAO,EAAG;EAEnD,EACD,EACHO,KAAK,iBAAI,eAAC,QAAQ,QAAEA,KAAK,CAAY,CAC5B,CACJ;AACZ,CAAC,CAAC,CACL;AAED,OAAO,IAAMyD,MAAM,GAAGzF,IAAI,CAAC0F,IAAI"}