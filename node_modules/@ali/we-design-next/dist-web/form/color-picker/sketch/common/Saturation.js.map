{"version":3,"file":"Saturation.js","names":["React","Component","PureComponent","reactCSS","debounce","saturation","Saturation","props","handleChange","e","onChange","throttle","calculateChange","hsl","container","handleMouseDown","window","addEventListener","handleMouseUp","unbindEventListeners","fn","data","componentWillUnmount","removeEventListener","render","style","color","white","black","pointer","circle","styles","absolute","background","h","borderRadius","radius","boxShadow","shadow","position","top","hsv","v","left","s","cursor","width","height","transform","custom"],"sources":["../../../../../../src/form/color-picker/sketch/common/Saturation.js"],"sourcesContent":["import React, { Component, PureComponent } from 'react';\nimport reactCSS from 'reactcss';\nimport { debounce } from 'lodash-es';\nimport * as saturation from '../helpers/saturation';\n\nexport class Saturation extends (PureComponent || Component) {\n  constructor(props) {\n    super(props);\n\n    // todo\n    // this.throttle = throttle((fn, data, e) => {\n    //   fn(data, e);\n    // }, 50);\n    this.throttle = debounce((fn, data, e) => {\n      fn(data, e);\n    }, 5);\n  }\n\n  componentWillUnmount() {\n    // this.throttle.cancel();\n    this.unbindEventListeners();\n  }\n\n  handleChange = (e) => {\n    typeof this.props.onChange === 'function' &&\n      this.throttle(\n        this.props.onChange,\n        saturation.calculateChange(e, this.props.hsl, this.container),\n        e,\n      );\n  };\n\n  handleMouseDown = (e) => {\n    this.handleChange(e);\n    window.addEventListener('mousemove', this.handleChange);\n    window.addEventListener('mouseup', this.handleMouseUp);\n  };\n\n  handleMouseUp = () => {\n    this.unbindEventListeners();\n  };\n\n  unbindEventListeners() {\n    window.removeEventListener('mousemove', this.handleChange);\n    window.removeEventListener('mouseup', this.handleMouseUp);\n  }\n\n  render() {\n    const { color, white, black, pointer, circle } = this.props.style || {};\n    const styles = reactCSS(\n      {\n        default: {\n          color: {\n            absolute: '0px 0px 0px 0px',\n            background: `hsl(${this.props.hsl.h},100%, 50%)`,\n            borderRadius: this.props.radius,\n          },\n          white: {\n            absolute: '0px 0px 0px 0px',\n            borderRadius: this.props.radius,\n          },\n          black: {\n            absolute: '0px 0px 0px 0px',\n            boxShadow: this.props.shadow,\n            borderRadius: this.props.radius,\n          },\n          pointer: {\n            position: 'absolute',\n            top: `${-(this.props.hsv.v * 100) + 100}%`,\n            left: `${this.props.hsv.s * 100}%`,\n            cursor: 'default',\n          },\n          circle: {\n            width: '4px',\n            height: '4px',\n            boxShadow: `0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)`,\n            borderRadius: '50%',\n            cursor: 'hand',\n            transform: 'translate(-2px, -2px)',\n          },\n        },\n        custom: {\n          color,\n          white,\n          black,\n          pointer,\n          circle,\n        },\n      },\n      { custom: !!this.props.style },\n    );\n\n    return (\n      <div\n        style={styles.color}\n        ref={(container) => {\n          this.container = container;\n        }}\n        onMouseDown={this.handleMouseDown}\n        onTouchMove={this.handleChange}\n        onTouchStart={this.handleChange}\n      >\n        <style>\n          {`\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        `}\n        </style>\n        <div style={styles.white} className=\"saturation-white\">\n          <div style={styles.black} className=\"saturation-black\" />\n          <div style={styles.pointer}>\n            {this.props.pointer ? (\n              <this.props.pointer {...this.props} />\n            ) : (\n                <div style={styles.circle} />\n              )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Saturation;\n"],"mappings":"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"}