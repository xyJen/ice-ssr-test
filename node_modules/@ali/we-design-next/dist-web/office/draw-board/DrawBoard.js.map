{"version":3,"file":"DrawBoard.js","names":["React","useEffect","useImperativeHandle","useRef","useState","noop","BoardWrapper","BoardPlaceholderWrapper","BoardPlaceholder","Canvas","useEventCallback","mergeRestProps","isIOS","getCroppedImage","canvas","vCanvas","padding","getLeftBorder","data","width","height","i","j","index","hasColor","getRightBorder","getTopBorder","getBottomBorder","imageData","ctx","getContext","getImageData","fns","map","fn","left","right","top","bottom","w","h","newImageData","vCtx","putImageData","dataUrl","toDataURL","BOARD_WIDTH","BOARD_HEIGHT","PAINT_COLOR","LINE_CAP","DPR","window","devicePixelRatio","MAX_UNDO_STEP","DrawBoard","memo","forwardRef","props","ref","paintColor","backgroundColor","placeholder","onPaint","rest","hasStartedPainting","setHasStartedPainting","canvasRef","controllerRef","undo","redo","clear","destroy","exportToImage","current","ele","removeEventListener","addEventListener","onChangeFnsRef","onPaintCallback","style","Math","floor","controller","createController","opt","onChange","push","indexOf","splice","options","scale","lineCap","strokeStyle","fillStyle","fillRect","isPainting","points","lastSpeed","lastLineWidth","undoStack","redoStack","document","createElement","change","undoAble","length","redoAble","clearAble","toPoint","event","e","touches","getBoundingClientRect","x","clientX","y","clientY","t","Date","now","clearRect","snapshot","restoreSnapshot","handleStart","draw","getMidPoint","p1","p2","getTransferredSpeed","startPoint","endPoint","x1","y1","t1","x2","y2","t2","trueSpeed","pow","transferredSpeed","getLineWidthBySpeed","speed","currLineWidth","max","transferredLineWidth","p3","currentLineWidth","lineWidth","beginPath","moveTo","quadraticCurveTo","stroke","closePath","handleMove","preventDefault","shift","handleEnd","sh","attachHandlers","attachHandlersWithTouch","attachHandlersWithPointer","detachHandlers","detachHandlersWithTouch","detachHandlersWithPointer","sp","pop","type","cropPadding"],"sources":["../../../../src/office/draw-board/DrawBoard.tsx"],"sourcesContent":["import React, { useEffect, useImperativeHandle, useRef, useState, ReactNode, DOMAttributes } from 'react';\nimport { noop } from 'lodash-es';\nimport { BoardWrapper, BoardPlaceholderWrapper, BoardPlaceholder, Canvas } from './styled';\nimport { useEventCallback } from '../../common/react/useEventCallback';\nimport { mergeRestProps, IRestProps } from '../../common/react/mergeRestProps';\nimport { isIOS } from '../../common/env/isMobile';\n\nexport type IDrawBoardProps = {\n  /**\n   * 宽度，默认为 500px\n   */\n  width?: number;\n  /**\n   * 高度, 默认为 309px\n   */\n  height?: number;\n  /**\n   * 画笔颜色，默认为黑色\n   */\n  paintColor?: string;\n  /**\n   * 背景颜色，默认为透明色（此颜色会成为导出图片的背景色）\n   */\n  backgroundColor?: string;\n  /**\n   * 自定义 placeholder 文案\n   */\n  placeholder?: ReactNode;\n  /**\n   * 每次画完一笔后回调\n   */\n  onPaint?: () => void;\n} & IRestProps & DOMAttributes<HTMLDivElement>;\n\n// 获取 canvas 最小有效图像\nconst getCroppedImage = (canvas: HTMLCanvasElement, vCanvas: HTMLCanvasElement, padding = 0) => {\n  const getLeftBorder = (\n    data: Uint8ClampedArray,\n    width: number,\n    height: number,\n  ) => {\n    for (let i = 0; i < width; i++) {\n      for (let j = 0; j < height; j++) {\n        const index = j * width + i;\n        const hasColor = data[index * 4 + 3] > 0;\n        if (hasColor) {\n          return i + 1;\n        }\n      }\n    }\n    return 0;\n  };\n\n  const getRightBorder = (\n    data: Uint8ClampedArray,\n    width: number,\n    height: number,\n  ) => {\n    for (let i = width - 1; i >= 0; i--) {\n      for (let j = 0; j < height; j++) {\n        const index = j * width + i;\n        const hasColor = data[index * 4 + 3] > 0;\n        if (hasColor) {\n          return i + 1;\n        }\n      }\n    }\n    return 0;\n  };\n\n  const getTopBorder = (\n    data: Uint8ClampedArray,\n    width: number,\n    height: number,\n  ) => {\n    for (let i = 0; i < height; i++) {\n      for (let j = 0; j < width; j++) {\n        const index = i * width + j;\n        const hasColor = data[index * 4 + 3] > 0;\n        if (hasColor) {\n          return i + 1;\n        }\n      }\n    }\n    return 0;\n  };\n\n  const getBottomBorder = (\n    imageData: Uint8ClampedArray,\n    width: number,\n    height: number,\n  ) => {\n    for (let i = height - 1; i >= 0; i--) {\n      for (let j = 0; j < width; j++) {\n        const index = i * width + j;\n        const hasColor = imageData[index * 4 + 3] > 0;\n        if (hasColor) {\n          return i + 1;\n        }\n      }\n    }\n    return 0;\n  };\n\n  const ctx = canvas.getContext('2d')!;\n  const width = canvas.width;\n  const height = canvas.height;\n  const { data } = ctx.getImageData(0, 0, width, height);\n\n  const fns = [getLeftBorder, getRightBorder, getTopBorder, getBottomBorder];\n  const [left, right, top, bottom] = fns.map((fn) =>\n    fn(data, width, height)\n  );\n\n  const w = right - left + 1;\n  const h = bottom - top + 1;\n\n  const newImageData = ctx.getImageData(left, top, w, h);\n\n  vCanvas.width = w + padding * 2;\n  vCanvas.height = h + padding * 2;\n  const vCtx = vCanvas.getContext('2d')!;\n  vCtx.putImageData(newImageData, padding, padding);\n  const dataUrl = vCanvas.toDataURL('image/png', 1);\n  return { dataUrl, width: vCanvas.width, height: vCanvas.height };\n};\n\ntype IDrawBoardHandlers = Omit<IController, 'destroy'> & {\n  onChange: (fn: (option: IChangeOption) => void) => () => void,\n};\n\nconst BOARD_WIDTH = 500;\nconst BOARD_HEIGHT = 309;\nconst PAINT_COLOR = '#000000';\nconst LINE_CAP =  'round';\nconst DPR = window.devicePixelRatio;\nconst MAX_UNDO_STEP = 10;\n\nexport const DrawBoard = React.memo(\n  React.forwardRef<IDrawBoardHandlers, IDrawBoardProps>(\n    (props, ref) => {\n      const {\n        width = BOARD_WIDTH,\n        height = BOARD_HEIGHT,\n        paintColor = PAINT_COLOR,\n        backgroundColor,\n        placeholder,\n        onPaint,\n        ...rest\n      } = props;\n\n      const [hasStartedPainting, setHasStartedPainting] = useState<boolean>(false);\n\n      const canvasRef = useRef<HTMLCanvasElement>(null);\n      const controllerRef = useRef<IController>({\n        undo: noop,\n        redo: noop,\n        clear: noop,\n        destroy: noop,\n        exportToImage: () => null,\n      });\n\n      useEffect(() => {\n        if (canvasRef.current) {\n          const ele = canvasRef.current;\n          const fn = () => {\n            setHasStartedPainting(true);\n            ele.removeEventListener('pointerdown', fn);\n          }\n          ele.addEventListener('pointerdown', fn);\n        }\n      }, [canvasRef.current]);\n\n      const onChangeFnsRef = useRef<Array<(option: IChangeOption) => void>>([]);\n\n      const onPaintCallback = useEventCallback(() => onPaint && onPaint());\n\n      useEffect(() => {\n        if (canvasRef.current) {\n          const ele = canvasRef.current;\n\n          ele.style.width = width + 'px';\n          ele.style.height = height + 'px';\n\n          ele.width = Math.floor(width * DPR);\n          ele.height = Math.floor(height * DPR);\n\n          const controller = createController(\n            canvasRef.current,\n            (opt) => {\n              for (const fn of onChangeFnsRef.current) {\n                fn(opt)\n              }\n              onPaintCallback();\n            },\n            {\n              paintColor,\n              backgroundColor,\n            }\n          );\n          controllerRef.current = controller;\n          return () => {\n            onChangeFnsRef.current = [];\n            controller.destroy();\n          }\n        }\n      }, []);\n\n      useImperativeHandle(ref, () => ({\n        onChange: (fn: (option: IChangeOption) => void) => {\n          onChangeFnsRef.current.push(fn);\n          return () => {\n            const i = onChangeFnsRef.current.indexOf(fn);\n            if (i !== -1) {\n              onChangeFnsRef.current.splice(i, 1);\n            }\n          }\n        },\n        undo: () => controllerRef.current.undo(),\n        redo: () => controllerRef.current.redo(),\n        clear: () => controllerRef.current.clear(),\n        exportToImage: controllerRef.current.exportToImage,\n      }));\n\n      return (\n        <BoardWrapper {...mergeRestProps(rest, 'wdn-drawboard', { width, height })}>\n          {\n            !hasStartedPainting && placeholder ?\n              <BoardPlaceholderWrapper style={{ width, height }}>\n                <BoardPlaceholder>{placeholder}</BoardPlaceholder>\n              </BoardPlaceholderWrapper> :\n              null\n          }\n          <Canvas style={{ backgroundColor }} ref={canvasRef} />\n        </BoardWrapper>\n      );\n    }\n  )\n);\n\n\ntype IDrawPoint = {\n  x: number;\n  y: number;\n  t: number;\n}\n\ntype IChangeOption = { undoAble: boolean, redoAble: boolean, clearAble: boolean };\ntype IController = {\n  undo: () => void,\n  redo: () => void,\n  clear: () => void,\n  exportToImage: (type?: 'dataUrl', options?: { cropPadding?: number }) => {\n    dataUrl: string;\n    width: number;\n    height: number;\n  } | null,\n  destroy: () => void;\n}\n\nconst createController = (\n  canvas: HTMLCanvasElement,\n  onChange: (options: IChangeOption) => void,\n  options: {\n    paintColor: string,\n    backgroundColor?: string,\n  }\n): IController => {\n  \n  const { paintColor, backgroundColor } = options;\n\n  const ctx = canvas.getContext('2d')!;\n\n  ctx.scale(DPR, DPR);\n  ctx.lineCap = LINE_CAP;\n  ctx.strokeStyle = paintColor;\n  if (backgroundColor) {\n    ctx.fillStyle = backgroundColor;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n  }\n\n  let isPainting = false;\n  let points: IDrawPoint[] = [];\n  let lastSpeed = 0;\n  let lastLineWidth = 5;\n\n  let undoStack: Array<ImageData | null> = [];\n  let redoStack: Array<ImageData | null> = [];\n\n  const vCanvas = document.createElement('canvas');\n\n  const change = () => onChange({\n    undoAble: undoStack.length > 1,\n    redoAble: redoStack.length > 0,\n    clearAble: undoStack[undoStack.length - 1] !== null\n  });\n\n  const toPoint = (event: MouseEvent | TouchEvent): IDrawPoint => {\n\n    const e = 'clientX' in event ? event : event.touches[0];\n    const { left, top } = canvas.getBoundingClientRect();\n\n    return {\n      x: e.clientX - left,\n      y: e.clientY - top,\n      t: Date.now(),\n    };\n  };\n\n  const clear = () => {\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    if (backgroundColor) {\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n\n  };\n\n  const snapshot = () => {\n    return ctx.getImageData(0, 0, canvas.width, canvas.height);\n  };\n\n  const restoreSnapshot = (imageData: ImageData | null) => {\n    if (imageData === null) {\n      clear();\n    } else {\n      clear();\n      ctx.putImageData(imageData, 0, 0);\n    }\n  };\n\n  const handleStart = (event: MouseEvent | TouchEvent) => {\n    isPainting = true;\n    points.push(toPoint(event));\n  };\n\n  const draw = () => {\n\n    if (points.length < 3) {\n      return;\n    }\n\n    const getMidPoint = (p1: IDrawPoint, p2: IDrawPoint): IDrawPoint => {\n      return {\n        x: (p1.x + p2.x) / 2,\n        y: (p1.y + p2.y) / 2,\n        t: (p1.t + p2.t) / 2,\n      };\n    };\n\n    const getTransferredSpeed = (startPoint: IDrawPoint, endPoint: IDrawPoint) => {\n      const { x: x1, y: y1, t: t1 } = startPoint;\n      const { x: x2, y: y2, t: t2 } = endPoint;\n      const trueSpeed = (Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)) / (t2 - t1);\n      const transferredSpeed =\n        0.7 * trueSpeed +\n        (1 - 0.7) * lastSpeed;\n      lastSpeed = transferredSpeed;\n      return transferredSpeed;\n    };\n\n    const getLineWidthBySpeed = (speed: number) => {\n      const currLineWidth = Math.max(5 - speed, 2);\n      const transferredLineWidth = (lastLineWidth + currLineWidth) / 2;\n      lastLineWidth = transferredLineWidth;\n      return transferredLineWidth;\n    };\n\n    const [p1, p2, p3] = points;\n    const startPoint = getMidPoint(p1, p2);\n    const endPoint = getMidPoint(p2, p3);\n\n    const { x: x2, y: y2 } = p2;\n\n    if (startPoint.x === endPoint.x && startPoint.y === endPoint.y) return;\n\n    const speed = getTransferredSpeed(startPoint, endPoint);\n    const currentLineWidth = getLineWidthBySpeed(speed);\n\n    ctx.lineWidth = currentLineWidth;\n    ctx.beginPath();\n    ctx.moveTo(startPoint.x, startPoint.y);\n\n    // p2 作为控制点, p1 与 p2 的中点作为起始点, p2 与 p3 的中点作为终止点\n    ctx.quadraticCurveTo(x2, y2, endPoint.x, endPoint.y);\n    ctx.stroke();\n    ctx.closePath();\n  };\n\n  const handleMove = (event: MouseEvent | TouchEvent) => {\n    // 解决移动端滚动穿透问题\n    event.preventDefault();\n\n    if (isPainting) {\n      if (points.length === 3) {\n        points.shift();\n      }\n      points.push(toPoint(event));\n\n      draw();\n    }\n  };\n\n  const handleEnd = () => {\n    if (isPainting) {\n      isPainting = false;\n      points = [];\n      lastSpeed = 0;\n      lastLineWidth = 5;\n\n      const sh = snapshot();\n      if (sh) {\n        while (undoStack.length > MAX_UNDO_STEP) {\n          undoStack.shift();\n        }\n        undoStack.push(sh);\n        redoStack = [];\n        change();\n      }\n    }\n  };\n\n  const attachHandlers = () => {\n    if (isIOS) {\n      attachHandlersWithTouch();\n    } else {\n      attachHandlersWithPointer();\n    }\n  };\n\n  const attachHandlersWithTouch = () => {\n    canvas.addEventListener('touchstart', handleStart);\n    canvas.addEventListener('touchmove', handleMove);\n    canvas.addEventListener('touchend', handleEnd);\n    canvas.addEventListener('touchcancel', handleEnd);\n  }\n\n  const attachHandlersWithPointer = () => {\n    canvas.addEventListener('pointerdown', handleStart);\n    canvas.addEventListener('pointermove', handleMove);\n    canvas.addEventListener('pointerup', handleEnd);\n    canvas.addEventListener('pointercancel', handleEnd);\n  }\n\n  const detachHandlers = () => {\n    if (isIOS) {\n      detachHandlersWithTouch();\n    } else {\n      detachHandlersWithPointer();\n    }\n  };\n\n  const detachHandlersWithTouch = () => {\n    canvas.removeEventListener('touchstart', handleStart);\n    canvas.removeEventListener('touchmove', handleMove);\n    canvas.removeEventListener('touchend', handleEnd);\n    canvas.removeEventListener('touchcancel', handleEnd);\n  }\n\n  const detachHandlersWithPointer = () => {\n    canvas.removeEventListener('pointerdown', handleStart);\n    canvas.removeEventListener('pointermove', handleMove);\n    canvas.removeEventListener('pointerup', handleEnd);\n    canvas.removeEventListener('pointercancel', handleEnd);\n  }\n\n  attachHandlers();\n\n  undoStack.push(null);\n\n  return {\n\n    undo: () => {\n      if (undoStack.length > 1) {\n        const sp = undoStack.pop()!;\n        redoStack.push(sp);\n        restoreSnapshot(undoStack[undoStack.length - 1]);\n        change();\n      }\n    },\n\n    redo: () => {\n      if (redoStack.length > 0) {\n        const sp = redoStack.pop()!;\n        restoreSnapshot(sp);\n        undoStack.push(sp);\n        change();\n      }\n    },\n\n    clear: () => {\n      clear();\n\n      undoStack.push(null);\n      redoStack = [];\n\n      change();\n    },\n\n    exportToImage: (type = 'dataUrl', options) => {\n      if (!canvas) return null;\n      if (type === 'dataUrl') {\n        const { cropPadding } = options || {};\n        if (cropPadding) {\n          return getCroppedImage(canvas, vCanvas, cropPadding);\n        }\n        return {\n          dataUrl: canvas.toDataURL('image/png', 1),\n          width: canvas.width,\n          height: canvas.height\n        };\n      }\n      return null;\n    },\n\n    destroy: () => {\n      detachHandlers();\n    }\n  }\n};\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,mBAAmB,EAAEC,MAAM,EAAEC,QAAQ,QAAkC,OAAO;AAAC,qBAC9E;AAA5B,SAASC,IAAI,QAAQ,WAAW;AAChC,SAASC,YAAY,EAAEC,uBAAuB,EAAEC,gBAAgB,EAAEC,MAAM;AACxE,SAASC,gBAAgB;AACzB,SAASC,cAAc;AACvB,SAASC,KAAK;AA6Bd;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAe,CAAIC,MAAyB,EAAEC,OAA0B,EAAEC,OAAO,EAAS;EAAA,IAAhBA,OAAO;IAAPA,OAAO,GAAG,CAAC;EAAA;EACzF,IAAMC,aAAa,GAAG,SAAhBA,aAAa,CACjBC,IAAuB,EACvBC,KAAa,EACbC,MAAc,EACX;IACH,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,KAAK,EAAEE,CAAC,EAAE,EAAE;MAC9B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,EAAEE,CAAC,EAAE,EAAE;QAC/B,IAAMC,KAAK,GAAGD,CAAC,GAAGH,KAAK,GAAGE,CAAC;QAC3B,IAAMG,QAAQ,GAAGN,IAAI,CAACK,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;QACxC,IAAIC,QAAQ,EAAE;UACZ,OAAOH,CAAC,GAAG,CAAC;QACd;MACF;IACF;IACA,OAAO,CAAC;EACV,CAAC;EAED,IAAMI,cAAc,GAAG,SAAjBA,cAAc,CAClBP,IAAuB,EACvBC,KAAa,EACbC,MAAc,EACX;IACH,KAAK,IAAIC,CAAC,GAAGF,KAAK,GAAG,CAAC,EAAEE,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MACnC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,EAAEE,CAAC,EAAE,EAAE;QAC/B,IAAMC,KAAK,GAAGD,CAAC,GAAGH,KAAK,GAAGE,CAAC;QAC3B,IAAMG,QAAQ,GAAGN,IAAI,CAACK,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;QACxC,IAAIC,QAAQ,EAAE;UACZ,OAAOH,CAAC,GAAG,CAAC;QACd;MACF;IACF;IACA,OAAO,CAAC;EACV,CAAC;EAED,IAAMK,YAAY,GAAG,SAAfA,YAAY,CAChBR,IAAuB,EACvBC,KAAa,EACbC,MAAc,EACX;IACH,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,MAAM,EAAEC,CAAC,EAAE,EAAE;MAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,EAAEG,CAAC,EAAE,EAAE;QAC9B,IAAMC,KAAK,GAAGF,CAAC,GAAGF,KAAK,GAAGG,CAAC;QAC3B,IAAME,QAAQ,GAAGN,IAAI,CAACK,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;QACxC,IAAIC,QAAQ,EAAE;UACZ,OAAOH,CAAC,GAAG,CAAC;QACd;MACF;IACF;IACA,OAAO,CAAC;EACV,CAAC;EAED,IAAMM,eAAe,GAAG,SAAlBA,eAAe,CACnBC,SAA4B,EAC5BT,KAAa,EACbC,MAAc,EACX;IACH,KAAK,IAAIC,CAAC,GAAGD,MAAM,GAAG,CAAC,EAAEC,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MACpC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,EAAEG,CAAC,EAAE,EAAE;QAC9B,IAAMC,KAAK,GAAGF,CAAC,GAAGF,KAAK,GAAGG,CAAC;QAC3B,IAAME,QAAQ,GAAGI,SAAS,CAACL,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;QAC7C,IAAIC,QAAQ,EAAE;UACZ,OAAOH,CAAC,GAAG,CAAC;QACd;MACF;IACF;IACA,OAAO,CAAC;EACV,CAAC;EAED,IAAMQ,GAAG,GAAGf,MAAM,CAACgB,UAAU,CAAC,IAAI,CAAE;EACpC,IAAMX,KAAK,GAAGL,MAAM,CAACK,KAAK;EAC1B,IAAMC,MAAM,GAAGN,MAAM,CAACM,MAAM;EAC5B,wBAAiBS,GAAG,CAACE,YAAY,CAAC,CAAC,EAAE,CAAC,EAAEZ,KAAK,EAAEC,MAAM,CAAC;IAA9CF,IAAI,qBAAJA,IAAI;EAEZ,IAAMc,GAAG,GAAG,CAACf,aAAa,EAAEQ,cAAc,EAAEC,YAAY,EAAEC,eAAe,CAAC;EAC1E,eAAmCK,GAAG,CAACC,GAAG,CAAC,UAACC,EAAE;MAAA,OAC5CA,EAAE,CAAChB,IAAI,EAAEC,KAAK,EAAEC,MAAM,CAAC;IAAA,EACxB;IAFMe,IAAI;IAAEC,KAAK;IAAEC,GAAG;IAAEC,MAAM;EAI/B,IAAMC,CAAC,GAAGH,KAAK,GAAGD,IAAI,GAAG,CAAC;EAC1B,IAAMK,CAAC,GAAGF,MAAM,GAAGD,GAAG,GAAG,CAAC;EAE1B,IAAMI,YAAY,GAAGZ,GAAG,CAACE,YAAY,CAACI,IAAI,EAAEE,GAAG,EAAEE,CAAC,EAAEC,CAAC,CAAC;EAEtDzB,OAAO,CAACI,KAAK,GAAGoB,CAAC,GAAGvB,OAAO,GAAG,CAAC;EAC/BD,OAAO,CAACK,MAAM,GAAGoB,CAAC,GAAGxB,OAAO,GAAG,CAAC;EAChC,IAAM0B,IAAI,GAAG3B,OAAO,CAACe,UAAU,CAAC,IAAI,CAAE;EACtCY,IAAI,CAACC,YAAY,CAACF,YAAY,EAAEzB,OAAO,EAAEA,OAAO,CAAC;EACjD,IAAM4B,OAAO,GAAG7B,OAAO,CAAC8B,SAAS,CAAC,WAAW,EAAE,CAAC,CAAC;EACjD,OAAO;IAAED,OAAO,EAAPA,OAAO;IAAEzB,KAAK,EAAEJ,OAAO,CAACI,KAAK;IAAEC,MAAM,EAAEL,OAAO,CAACK;EAAO,CAAC;AAClE,CAAC;AAMD,IAAM0B,WAAW,GAAG,GAAG;AACvB,IAAMC,YAAY,GAAG,GAAG;AACxB,IAAMC,WAAW,GAAG,SAAS;AAC7B,IAAMC,QAAQ,GAAI,OAAO;AACzB,IAAMC,GAAG,GAAGC,MAAM,CAACC,gBAAgB;AACnC,IAAMC,aAAa,GAAG,EAAE;AAExB,OAAO,IAAMC,SAAS,gBAAGtD,KAAK,CAACuD,IAAI,eACjCvD,KAAK,CAACwD,UAAU,CACd,UAACC,KAAK,EAAEC,GAAG,EAAK;EACd,mBAQID,KAAK,CAPPtC,KAAK;IAALA,KAAK,6BAAG2B,WAAW;IAAA,gBAOjBW,KAAK,CANPrC,MAAM;IAANA,MAAM,8BAAG2B,YAAY;IAAA,oBAMnBU,KAAK,CALPE,UAAU;IAAVA,UAAU,kCAAGX,WAAW;IACxBY,eAAe,GAIbH,KAAK,CAJPG,eAAe;IACfC,WAAW,GAGTJ,KAAK,CAHPI,WAAW;IACXC,OAAO,GAELL,KAAK,CAFPK,OAAO;IACJC,IAAI,iCACLN,KAAK;EAET,gBAAoDrD,QAAQ,CAAU,KAAK,CAAC;IAArE4D,kBAAkB;IAAEC,qBAAqB;EAEhD,IAAMC,SAAS,GAAG/D,MAAM,CAAoB,IAAI,CAAC;EACjD,IAAMgE,aAAa,GAAGhE,MAAM,CAAc;IACxCiE,IAAI,EAAE/D,IAAI;IACVgE,IAAI,EAAEhE,IAAI;IACViE,KAAK,EAAEjE,IAAI;IACXkE,OAAO,EAAElE,IAAI;IACbmE,aAAa,EAAE;MAAA,OAAM,IAAI;IAAA;EAC3B,CAAC,CAAC;EAEFvE,SAAS,CAAC,YAAM;IACd,IAAIiE,SAAS,CAACO,OAAO,EAAE;MACrB,IAAMC,GAAG,GAAGR,SAAS,CAACO,OAAO;MAC7B,IAAMvC,GAAE,GAAG,SAALA,GAAE,GAAS;QACf+B,qBAAqB,CAAC,IAAI,CAAC;QAC3BS,GAAG,CAACC,mBAAmB,CAAC,aAAa,EAAEzC,GAAE,CAAC;MAC5C,CAAC;MACDwC,GAAG,CAACE,gBAAgB,CAAC,aAAa,EAAE1C,GAAE,CAAC;IACzC;EACF,CAAC,EAAE,CAACgC,SAAS,CAACO,OAAO,CAAC,CAAC;EAEvB,IAAMI,cAAc,GAAG1E,MAAM,CAAyC,EAAE,CAAC;EAEzE,IAAM2E,eAAe,GAAGpE,gBAAgB,CAAC;IAAA,OAAMoD,OAAO,IAAIA,OAAO,EAAE;EAAA,EAAC;EAEpE7D,SAAS,CAAC,YAAM;IACd,IAAIiE,SAAS,CAACO,OAAO,EAAE;MACrB,IAAMC,GAAG,GAAGR,SAAS,CAACO,OAAO;MAE7BC,GAAG,CAACK,KAAK,CAAC5D,KAAK,GAAGA,KAAK,GAAG,IAAI;MAC9BuD,GAAG,CAACK,KAAK,CAAC3D,MAAM,GAAGA,MAAM,GAAG,IAAI;MAEhCsD,GAAG,CAACvD,KAAK,GAAG6D,IAAI,CAACC,KAAK,CAAC9D,KAAK,GAAG+B,GAAG,CAAC;MACnCwB,GAAG,CAACtD,MAAM,GAAG4D,IAAI,CAACC,KAAK,CAAC7D,MAAM,GAAG8B,GAAG,CAAC;MAErC,IAAMgC,UAAU,GAAGC,gBAAgB,CACjCjB,SAAS,CAACO,OAAO,EACjB,UAACW,GAAG,EAAK;QACP,qDAAiBP,cAAc,CAACJ,OAAO,wCAAE;UAAA,IAA9BvC,IAAE;UACXA,IAAE,CAACkD,GAAG,CAAC;QACT;QACAN,eAAe,EAAE;MACnB,CAAC,EACD;QACEnB,UAAU,EAAVA,UAAU;QACVC,eAAe,EAAfA;MACF,CAAC,CACF;MACDO,aAAa,CAACM,OAAO,GAAGS,UAAU;MAClC,OAAO,YAAM;QACXL,cAAc,CAACJ,OAAO,GAAG,EAAE;QAC3BS,UAAU,CAACX,OAAO,EAAE;MACtB,CAAC;IACH;EACF,CAAC,EAAE,EAAE,CAAC;EAENrE,mBAAmB,CAACwD,GAAG,EAAE;IAAA,OAAO;MAC9B2B,QAAQ,EAAE,kBAACnD,EAAmC,EAAK;QACjD2C,cAAc,CAACJ,OAAO,CAACa,IAAI,CAACpD,EAAE,CAAC;QAC/B,OAAO,YAAM;UACX,IAAMb,CAAC,GAAGwD,cAAc,CAACJ,OAAO,CAACc,OAAO,CAACrD,EAAE,CAAC;UAC5C,IAAIb,CAAC,KAAK,CAAC,CAAC,EAAE;YACZwD,cAAc,CAACJ,OAAO,CAACe,MAAM,CAACnE,CAAC,EAAE,CAAC,CAAC;UACrC;QACF,CAAC;MACH,CAAC;MACD+C,IAAI,EAAE;QAAA,OAAMD,aAAa,CAACM,OAAO,CAACL,IAAI,EAAE;MAAA;MACxCC,IAAI,EAAE;QAAA,OAAMF,aAAa,CAACM,OAAO,CAACJ,IAAI,EAAE;MAAA;MACxCC,KAAK,EAAE;QAAA,OAAMH,aAAa,CAACM,OAAO,CAACH,KAAK,EAAE;MAAA;MAC1CE,aAAa,EAAEL,aAAa,CAACM,OAAO,CAACD;IACvC,CAAC;EAAA,CAAC,CAAC;EAEH,oBACE,eAAC,YAAY,EAAK7D,cAAc,CAACoD,IAAI,EAAE,eAAe,EAAE;IAAE5C,KAAK,EAALA,KAAK;IAAEC,MAAM,EAANA;EAAO,CAAC,CAAC,EAEtE,CAAC4C,kBAAkB,IAAIH,WAAW,gBAChC,eAAC,uBAAuB;IAAC,KAAK,EAAE;MAAE1C,KAAK,EAALA,KAAK;MAAEC,MAAM,EAANA;IAAO;EAAE,gBAChD,eAAC,gBAAgB,QAAEyC,WAAW,CAAoB,CAC1B,GAC1B,IAAI,eAER,eAAC,MAAM;IAAC,KAAK,EAAE;MAAED,eAAe,EAAfA;IAAgB,CAAE;IAAC,GAAG,EAAEM;EAAU,EAAG,CACzC;AAEnB,CAAC,CACF,CACF;AAsBD,IAAMiB,gBAAgB,GAAG,SAAnBA,gBAAgB,CACpBrE,MAAyB,EACzBuE,QAA0C,EAC1CI,OAGC,EACe;EAEhB,IAAQ9B,UAAU,GAAsB8B,OAAO,CAAvC9B,UAAU;IAAEC,eAAe,GAAK6B,OAAO,CAA3B7B,eAAe;EAEnC,IAAM/B,GAAG,GAAGf,MAAM,CAACgB,UAAU,CAAC,IAAI,CAAE;EAEpCD,GAAG,CAAC6D,KAAK,CAACxC,GAAG,EAAEA,GAAG,CAAC;EACnBrB,GAAG,CAAC8D,OAAO,GAAG1C,QAAQ;EACtBpB,GAAG,CAAC+D,WAAW,GAAGjC,UAAU;EAC5B,IAAIC,eAAe,EAAE;IACnB/B,GAAG,CAACgE,SAAS,GAAGjC,eAAe;IAC/B/B,GAAG,CAACiE,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEhF,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACM,MAAM,CAAC;EACjD;EAEA,IAAI2E,UAAU,GAAG,KAAK;EACtB,IAAIC,MAAoB,GAAG,EAAE;EAC7B,IAAIC,SAAS,GAAG,CAAC;EACjB,IAAIC,aAAa,GAAG,CAAC;EAErB,IAAIC,SAAkC,GAAG,EAAE;EAC3C,IAAIC,SAAkC,GAAG,EAAE;EAE3C,IAAMrF,OAAO,GAAGsF,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAEhD,IAAMC,MAAM,GAAG,SAATA,MAAM;IAAA,OAASlB,QAAQ,CAAC;MAC5BmB,QAAQ,EAAEL,SAAS,CAACM,MAAM,GAAG,CAAC;MAC9BC,QAAQ,EAAEN,SAAS,CAACK,MAAM,GAAG,CAAC;MAC9BE,SAAS,EAAER,SAAS,CAACA,SAAS,CAACM,MAAM,GAAG,CAAC,CAAC,KAAK;IACjD,CAAC,CAAC;EAAA;EAEF,IAAMG,OAAO,GAAG,SAAVA,OAAO,CAAIC,KAA8B,EAAiB;IAE9D,IAAMC,CAAC,GAAG,SAAS,IAAID,KAAK,GAAGA,KAAK,GAAGA,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC;IACvD,4BAAsBjG,MAAM,CAACkG,qBAAqB,EAAE;MAA5C7E,IAAI,yBAAJA,IAAI;MAAEE,GAAG,yBAAHA,GAAG;IAEjB,OAAO;MACL4E,CAAC,EAAEH,CAAC,CAACI,OAAO,GAAG/E,IAAI;MACnBgF,CAAC,EAAEL,CAAC,CAACM,OAAO,GAAG/E,GAAG;MAClBgF,CAAC,EAAEC,IAAI,CAACC,GAAG;IACb,CAAC;EACH,CAAC;EAED,IAAMjD,MAAK,GAAG,SAARA,KAAK,GAAS;IAElBzC,GAAG,CAAC2F,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE1G,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACM,MAAM,CAAC;IAEhD,IAAIwC,eAAe,EAAE;MACnB/B,GAAG,CAACgE,SAAS,GAAGjC,eAAe;MAC/B/B,GAAG,CAACiE,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEhF,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACM,MAAM,CAAC;IACjD;EAEF,CAAC;EAED,IAAMqG,QAAQ,GAAG,SAAXA,QAAQ,GAAS;IACrB,OAAO5F,GAAG,CAACE,YAAY,CAAC,CAAC,EAAE,CAAC,EAAEjB,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACM,MAAM,CAAC;EAC5D,CAAC;EAED,IAAMsG,eAAe,GAAG,SAAlBA,eAAe,CAAI9F,SAA2B,EAAK;IACvD,IAAIA,SAAS,KAAK,IAAI,EAAE;MACtB0C,MAAK,EAAE;IACT,CAAC,MAAM;MACLA,MAAK,EAAE;MACPzC,GAAG,CAACc,YAAY,CAACf,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;IACnC;EACF,CAAC;EAED,IAAM+F,WAAW,GAAG,SAAdA,WAAW,CAAId,KAA8B,EAAK;IACtDd,UAAU,GAAG,IAAI;IACjBC,MAAM,CAACV,IAAI,CAACsB,OAAO,CAACC,KAAK,CAAC,CAAC;EAC7B,CAAC;EAED,IAAMe,IAAI,GAAG,SAAPA,IAAI,GAAS;IAEjB,IAAI5B,MAAM,CAACS,MAAM,GAAG,CAAC,EAAE;MACrB;IACF;IAEA,IAAMoB,WAAW,GAAG,SAAdA,WAAW,CAAIC,EAAc,EAAEC,EAAc,EAAiB;MAClE,OAAO;QACLd,CAAC,EAAE,CAACa,EAAE,CAACb,CAAC,GAAGc,EAAE,CAACd,CAAC,IAAI,CAAC;QACpBE,CAAC,EAAE,CAACW,EAAE,CAACX,CAAC,GAAGY,EAAE,CAACZ,CAAC,IAAI,CAAC;QACpBE,CAAC,EAAE,CAACS,EAAE,CAACT,CAAC,GAAGU,EAAE,CAACV,CAAC,IAAI;MACrB,CAAC;IACH,CAAC;IAED,IAAMW,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIC,UAAsB,EAAEC,QAAoB,EAAK;MAC5E,IAAWC,EAAE,GAAmBF,UAAU,CAAlChB,CAAC;QAASmB,EAAE,GAAYH,UAAU,CAA3Bd,CAAC;QAASkB,EAAE,GAAKJ,UAAU,CAApBZ,CAAC;MACvB,IAAWiB,EAAE,GAAmBJ,QAAQ,CAAhCjB,CAAC;QAASsB,EAAE,GAAYL,QAAQ,CAAzBf,CAAC;QAASqB,EAAE,GAAKN,QAAQ,CAAlBb,CAAC;MACvB,IAAMoB,SAAS,GAAG,CAACzD,IAAI,CAAC0D,GAAG,CAACJ,EAAE,GAAGH,EAAE,EAAE,CAAC,CAAC,GAAGnD,IAAI,CAAC0D,GAAG,CAACH,EAAE,GAAGH,EAAE,EAAE,CAAC,CAAC,KAAKI,EAAE,GAAGH,EAAE,CAAC;MAC3E,IAAMM,gBAAgB,GACpB,GAAG,GAAGF,SAAS,GACf,CAAC,CAAC,GAAG,GAAG,IAAIxC,SAAS;MACvBA,SAAS,GAAG0C,gBAAgB;MAC5B,OAAOA,gBAAgB;IACzB,CAAC;IAED,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIC,KAAa,EAAK;MAC7C,IAAMC,aAAa,GAAG9D,IAAI,CAAC+D,GAAG,CAAC,CAAC,GAAGF,KAAK,EAAE,CAAC,CAAC;MAC5C,IAAMG,oBAAoB,GAAG,CAAC9C,aAAa,GAAG4C,aAAa,IAAI,CAAC;MAChE5C,aAAa,GAAG8C,oBAAoB;MACpC,OAAOA,oBAAoB;IAC7B,CAAC;IAED,cAAqBhD,MAAM;MAApB8B,EAAE;MAAEC,EAAE;MAAEkB,EAAE;IACjB,IAAMhB,UAAU,GAAGJ,WAAW,CAACC,EAAE,EAAEC,EAAE,CAAC;IACtC,IAAMG,QAAQ,GAAGL,WAAW,CAACE,EAAE,EAAEkB,EAAE,CAAC;IAEpC,IAAWX,EAAE,GAAYP,EAAE,CAAnBd,CAAC;MAASsB,EAAE,GAAKR,EAAE,CAAZZ,CAAC;IAEhB,IAAIc,UAAU,CAAChB,CAAC,KAAKiB,QAAQ,CAACjB,CAAC,IAAIgB,UAAU,CAACd,CAAC,KAAKe,QAAQ,CAACf,CAAC,EAAE;IAEhE,IAAM0B,KAAK,GAAGb,mBAAmB,CAACC,UAAU,EAAEC,QAAQ,CAAC;IACvD,IAAMgB,gBAAgB,GAAGN,mBAAmB,CAACC,KAAK,CAAC;IAEnDhH,GAAG,CAACsH,SAAS,GAAGD,gBAAgB;IAChCrH,GAAG,CAACuH,SAAS,EAAE;IACfvH,GAAG,CAACwH,MAAM,CAACpB,UAAU,CAAChB,CAAC,EAAEgB,UAAU,CAACd,CAAC,CAAC;;IAEtC;IACAtF,GAAG,CAACyH,gBAAgB,CAAChB,EAAE,EAAEC,EAAE,EAAEL,QAAQ,CAACjB,CAAC,EAAEiB,QAAQ,CAACf,CAAC,CAAC;IACpDtF,GAAG,CAAC0H,MAAM,EAAE;IACZ1H,GAAG,CAAC2H,SAAS,EAAE;EACjB,CAAC;EAED,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAI5C,KAA8B,EAAK;IACrD;IACAA,KAAK,CAAC6C,cAAc,EAAE;IAEtB,IAAI3D,UAAU,EAAE;MACd,IAAIC,MAAM,CAACS,MAAM,KAAK,CAAC,EAAE;QACvBT,MAAM,CAAC2D,KAAK,EAAE;MAChB;MACA3D,MAAM,CAACV,IAAI,CAACsB,OAAO,CAACC,KAAK,CAAC,CAAC;MAE3Be,IAAI,EAAE;IACR;EACF,CAAC;EAED,IAAMgC,SAAS,GAAG,SAAZA,SAAS,GAAS;IACtB,IAAI7D,UAAU,EAAE;MACdA,UAAU,GAAG,KAAK;MAClBC,MAAM,GAAG,EAAE;MACXC,SAAS,GAAG,CAAC;MACbC,aAAa,GAAG,CAAC;MAEjB,IAAM2D,EAAE,GAAGpC,QAAQ,EAAE;MACrB,IAAIoC,EAAE,EAAE;QACN,OAAO1D,SAAS,CAACM,MAAM,GAAGpD,aAAa,EAAE;UACvC8C,SAAS,CAACwD,KAAK,EAAE;QACnB;QACAxD,SAAS,CAACb,IAAI,CAACuE,EAAE,CAAC;QAClBzD,SAAS,GAAG,EAAE;QACdG,MAAM,EAAE;MACV;IACF;EACF,CAAC;EAED,IAAMuD,cAAc,GAAG,SAAjBA,cAAc,GAAS;IAC3B,IAAIlJ,KAAK,EAAE;MACTmJ,uBAAuB,EAAE;IAC3B,CAAC,MAAM;MACLC,yBAAyB,EAAE;IAC7B;EACF,CAAC;EAED,IAAMD,uBAAuB,GAAG,SAA1BA,uBAAuB,GAAS;IACpCjJ,MAAM,CAAC8D,gBAAgB,CAAC,YAAY,EAAE+C,WAAW,CAAC;IAClD7G,MAAM,CAAC8D,gBAAgB,CAAC,WAAW,EAAE6E,UAAU,CAAC;IAChD3I,MAAM,CAAC8D,gBAAgB,CAAC,UAAU,EAAEgF,SAAS,CAAC;IAC9C9I,MAAM,CAAC8D,gBAAgB,CAAC,aAAa,EAAEgF,SAAS,CAAC;EACnD,CAAC;EAED,IAAMI,yBAAyB,GAAG,SAA5BA,yBAAyB,GAAS;IACtClJ,MAAM,CAAC8D,gBAAgB,CAAC,aAAa,EAAE+C,WAAW,CAAC;IACnD7G,MAAM,CAAC8D,gBAAgB,CAAC,aAAa,EAAE6E,UAAU,CAAC;IAClD3I,MAAM,CAAC8D,gBAAgB,CAAC,WAAW,EAAEgF,SAAS,CAAC;IAC/C9I,MAAM,CAAC8D,gBAAgB,CAAC,eAAe,EAAEgF,SAAS,CAAC;EACrD,CAAC;EAED,IAAMK,cAAc,GAAG,SAAjBA,cAAc,GAAS;IAC3B,IAAIrJ,KAAK,EAAE;MACTsJ,uBAAuB,EAAE;IAC3B,CAAC,MAAM;MACLC,yBAAyB,EAAE;IAC7B;EACF,CAAC;EAED,IAAMD,uBAAuB,GAAG,SAA1BA,uBAAuB,GAAS;IACpCpJ,MAAM,CAAC6D,mBAAmB,CAAC,YAAY,EAAEgD,WAAW,CAAC;IACrD7G,MAAM,CAAC6D,mBAAmB,CAAC,WAAW,EAAE8E,UAAU,CAAC;IACnD3I,MAAM,CAAC6D,mBAAmB,CAAC,UAAU,EAAEiF,SAAS,CAAC;IACjD9I,MAAM,CAAC6D,mBAAmB,CAAC,aAAa,EAAEiF,SAAS,CAAC;EACtD,CAAC;EAED,IAAMO,yBAAyB,GAAG,SAA5BA,yBAAyB,GAAS;IACtCrJ,MAAM,CAAC6D,mBAAmB,CAAC,aAAa,EAAEgD,WAAW,CAAC;IACtD7G,MAAM,CAAC6D,mBAAmB,CAAC,aAAa,EAAE8E,UAAU,CAAC;IACrD3I,MAAM,CAAC6D,mBAAmB,CAAC,WAAW,EAAEiF,SAAS,CAAC;IAClD9I,MAAM,CAAC6D,mBAAmB,CAAC,eAAe,EAAEiF,SAAS,CAAC;EACxD,CAAC;EAEDE,cAAc,EAAE;EAEhB3D,SAAS,CAACb,IAAI,CAAC,IAAI,CAAC;EAEpB,OAAO;IAELlB,IAAI,EAAE,gBAAM;MACV,IAAI+B,SAAS,CAACM,MAAM,GAAG,CAAC,EAAE;QACxB,IAAM2D,EAAE,GAAGjE,SAAS,CAACkE,GAAG,EAAG;QAC3BjE,SAAS,CAACd,IAAI,CAAC8E,EAAE,CAAC;QAClB1C,eAAe,CAACvB,SAAS,CAACA,SAAS,CAACM,MAAM,GAAG,CAAC,CAAC,CAAC;QAChDF,MAAM,EAAE;MACV;IACF,CAAC;IAEDlC,IAAI,EAAE,gBAAM;MACV,IAAI+B,SAAS,CAACK,MAAM,GAAG,CAAC,EAAE;QACxB,IAAM2D,EAAE,GAAGhE,SAAS,CAACiE,GAAG,EAAG;QAC3B3C,eAAe,CAAC0C,EAAE,CAAC;QACnBjE,SAAS,CAACb,IAAI,CAAC8E,EAAE,CAAC;QAClB7D,MAAM,EAAE;MACV;IACF,CAAC;IAEDjC,KAAK,EAAE,iBAAM;MACXA,MAAK,EAAE;MAEP6B,SAAS,CAACb,IAAI,CAAC,IAAI,CAAC;MACpBc,SAAS,GAAG,EAAE;MAEdG,MAAM,EAAE;IACV,CAAC;IAED/B,aAAa,EAAE,uBAAC8F,IAAI,EAAc7E,OAAO,EAAK;MAAA,IAA9B6E,IAAI;QAAJA,IAAI,GAAG,SAAS;MAAA;MAC9B,IAAI,CAACxJ,MAAM,EAAE,OAAO,IAAI;MACxB,IAAIwJ,IAAI,KAAK,SAAS,EAAE;QACtB,WAAwB7E,OAAO,IAAI,CAAC,CAAC;UAA7B8E,WAAW,QAAXA,WAAW;QACnB,IAAIA,WAAW,EAAE;UACf,OAAO1J,eAAe,CAACC,MAAM,EAAEC,OAAO,EAAEwJ,WAAW,CAAC;QACtD;QACA,OAAO;UACL3H,OAAO,EAAE9B,MAAM,CAAC+B,SAAS,CAAC,WAAW,EAAE,CAAC,CAAC;UACzC1B,KAAK,EAAEL,MAAM,CAACK,KAAK;UACnBC,MAAM,EAAEN,MAAM,CAACM;QACjB,CAAC;MACH;MACA,OAAO,IAAI;IACb,CAAC;IAEDmD,OAAO,EAAE,mBAAM;MACb0F,cAAc,EAAE;IAClB;EACF,CAAC;AACH,CAAC"}