{"version":3,"file":"DrawBoardControlPanel.js","names":["React","useRef","useState","useImperativeHandle","styled","COLORS","IconUndo","IconRedo","IconDelete","mergeRestProps","DrawboardControlPanel","memo","forwardRef","props","ref","rest","drawBoardRef","attach","drawBoard","current","onChange","undoAble","redoAble","clearAble","setUndoAble","setRedoAble","setClearAble","undo","undefined","redo","clear","IconsWrap","div","IconWrap","span","disabled","LIGHT","LEVEL4_BASE_COLOR","LEVEL1_BASE_COLOR","COMMON","LINE_LIGHT_COLOR"],"sources":["../../../../src/office/draw-board/DrawBoardControlPanel.tsx"],"sourcesContent":["\nimport React, { useRef, useState, useImperativeHandle, DOMAttributes } from 'react';\nimport styled from 'styled-components';\nimport { COLORS } from '../../common/consts/colors';\nimport { IconUndo, IconRedo, IconDelete } from '../../index';\nimport { DrawBoard } from './DrawBoard';\nimport { IRestProps, mergeRestProps } from '../../common/react/mergeRestProps';\n\ntype IDrawBoardControlPanelHandlers = {\n  attach: (drawboard: React.ComponentRef<typeof DrawBoard>) => () => void;\n};\n\ntype IDrawBoardControlPanelProps = IRestProps & DOMAttributes<HTMLDivElement>;\n\nexport const DrawboardControlPanel = React.memo(\n\n  React.forwardRef<IDrawBoardControlPanelHandlers, IDrawBoardControlPanelProps>(\n    (props, ref) => {\n\n      const { ...rest } = props;\n\n      const drawBoardRef = useRef<React.ComponentRef<typeof DrawBoard> | null>(null);\n\n      useImperativeHandle(ref, () => ({\n        attach: (drawBoard) => {\n          drawBoardRef.current = drawBoard;\n          return drawBoard.onChange(\n            ({ undoAble, redoAble, clearAble }) => {\n              setUndoAble(undoAble);\n              setRedoAble(redoAble);\n              setClearAble(clearAble);\n            }\n          );\n        }\n      }));\n\n      const [undoAble, setUndoAble] = useState<boolean>(false);\n      const [redoAble, setRedoAble] = useState<boolean>(false);\n      const [clearAble, setClearAble] = useState<boolean>(false);\n\n      return <IconsWrap {...mergeRestProps(rest, 'wdn-drawboard-control-panel')}>\n        <IconWrap disabled={!undoAble}>\n          <IconUndo onClick={undoAble ? () => drawBoardRef.current?.undo() : undefined} />\n        </IconWrap>\n        <IconWrap disabled={!redoAble}>\n          <IconRedo onClick={redoAble ? () => drawBoardRef.current?.redo() : undefined} />\n        </IconWrap>\n        <IconWrap disabled={!clearAble}>\n          <IconDelete onClick={clearAble ? () => drawBoardRef.current?.clear() : undefined} />\n        </IconWrap>\n      </IconsWrap>;\n    }\n  )\n);\n\nconst IconsWrap = styled.div`\n  overflow: hidden;\n  border-radius: 4px;\n  height: 28px;\n`;\n\nconst IconWrap = styled.span<{ disabled: boolean }>`\n  color: ${({ disabled }) => disabled ? COLORS.LIGHT.LEVEL4_BASE_COLOR : COLORS.LIGHT.LEVEL1_BASE_COLOR};\n  display: inline-block;\n  width: 28px;\n  height: 28px;\n  margin-left: 1px;\n  :first-child {\n    margin-left: 0;\n  }\n  padding: 4px;\n  background: ${COLORS.COMMON.LINE_LIGHT_COLOR};\n  ${({ disabled }) => !disabled ? 'transition: background 0.2s ease-out;' : ''}\n  ${({ disabled }) => disabled ? 'cursor: not-allowed;' : ''}\n  ${({ disabled }) => !disabled ? '&: hover{ background: rgba(228, 230, 233, 1); }' : ''}\n`;\n"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,mBAAmB,QAAuB,OAAO;AAAC,qBAAxD;AAC5B,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,MAAM;AACf,SAASC,QAAQ,EAAEC,QAAQ,EAAEC,UAAU;AAEvC,SAAqBC,cAAc;AAQnC,OAAO,IAAMC,qBAAqB,gBAAGV,KAAK,CAACW,IAAI,eAE7CX,KAAK,CAACY,UAAU,CACd,UAACC,KAAK,EAAEC,GAAG,EAAK;EAEd,IAAWC,IAAI,2CAAKF,KAAK,GAALA,KAAK;EAEzB,IAAMG,YAAY,GAAGf,MAAM,CAA8C,IAAI,CAAC;EAE9EE,mBAAmB,CAACW,GAAG,EAAE;IAAA,OAAO;MAC9BG,MAAM,EAAE,gBAACC,SAAS,EAAK;QACrBF,YAAY,CAACG,OAAO,GAAGD,SAAS;QAChC,OAAOA,SAAS,CAACE,QAAQ,CACvB,gBAAuC;UAAA,IAApCC,QAAQ,QAARA,QAAQ;YAAEC,QAAQ,QAARA,QAAQ;YAAEC,SAAS,QAATA,SAAS;UAC9BC,WAAW,CAACH,QAAQ,CAAC;UACrBI,WAAW,CAACH,QAAQ,CAAC;UACrBI,YAAY,CAACH,SAAS,CAAC;QACzB,CAAC,CACF;MACH;IACF,CAAC;EAAA,CAAC,CAAC;EAEH,gBAAgCrB,QAAQ,CAAU,KAAK,CAAC;IAAjDmB,QAAQ;IAAEG,WAAW;EAC5B,iBAAgCtB,QAAQ,CAAU,KAAK,CAAC;IAAjDoB,QAAQ;IAAEG,WAAW;EAC5B,iBAAkCvB,QAAQ,CAAU,KAAK,CAAC;IAAnDqB,SAAS;IAAEG,YAAY;EAE9B,oBAAO,eAAC,SAAS,EAAKjB,cAAc,CAACM,IAAI,EAAE,6BAA6B,CAAC,eACvE,eAAC,QAAQ;IAAC,QAAQ,EAAE,CAACM;EAAS,gBAC5B,eAAC,QAAQ;IAAC,OAAO,EAAEA,QAAQ,GAAG;MAAA;MAAA,gCAAML,YAAY,CAACG,OAAO,qBAApB,sBAAsBQ,IAAI,EAAE;IAAA,IAAGC;EAAU,EAAG,CACvE,eACX,eAAC,QAAQ;IAAC,QAAQ,EAAE,CAACN;EAAS,gBAC5B,eAAC,QAAQ;IAAC,OAAO,EAAEA,QAAQ,GAAG;MAAA;MAAA,iCAAMN,YAAY,CAACG,OAAO,qBAApB,uBAAsBU,IAAI,EAAE;IAAA,IAAGD;EAAU,EAAG,CACvE,eACX,eAAC,QAAQ;IAAC,QAAQ,EAAE,CAACL;EAAU,gBAC7B,eAAC,UAAU;IAAC,OAAO,EAAEA,SAAS,GAAG;MAAA;MAAA,iCAAMP,YAAY,CAACG,OAAO,qBAApB,uBAAsBW,KAAK,EAAE;IAAA,IAAGF;EAAU,EAAG,CAC3E,CACD;AACd,CAAC,CACF,CACF;AAED,IAAMG,SAAS,gBAAG3B,MAAM,CAAC4B,GAAG,oDAI3B;AAED,IAAMC,QAAQ,gBAAG7B,MAAM,CAAC8B,IAAI,oJACjB;EAAA,IAAGC,QAAQ,SAARA,QAAQ;EAAA,OAAOA,QAAQ,GAAG9B,MAAM,CAAC+B,KAAK,CAACC,iBAAiB,GAAGhC,MAAM,CAAC+B,KAAK,CAACE,iBAAiB;AAAA,GASvFjC,MAAM,CAACkC,MAAM,CAACC,gBAAgB,EAC1C;EAAA,IAAGL,QAAQ,SAARA,QAAQ;EAAA,OAAO,CAACA,QAAQ,GAAG,uCAAuC,GAAG,EAAE;AAAA,GAC1E;EAAA,IAAGA,QAAQ,SAARA,QAAQ;EAAA,OAAOA,QAAQ,GAAG,sBAAsB,GAAG,EAAE;AAAA,GACxD;EAAA,IAAGA,QAAQ,SAARA,QAAQ;EAAA,OAAO,CAACA,QAAQ,GAAG,iDAAiD,GAAG,EAAE;AAAA,EACvF"}