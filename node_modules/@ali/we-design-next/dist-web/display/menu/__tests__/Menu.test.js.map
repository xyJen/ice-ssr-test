{"version":3,"file":"Menu.test.js","names":["React","render","fireEvent","screen","Menu","KEY_CODES","test","expect","queryByText","toBeInTheDocument","toBeNull","k","key","title","subMenu","mouseEnter","getByText","m","menu","container","querySelector","keyDown","keyCode","DOWN","RIGHT","LEFT","ENTER","Promise","resolve","setTimeout"],"sources":["../../../../../src/display/menu/__tests__/Menu.test.tsx"],"sourcesContent":["import * as React from 'react';\nimport { render, fireEvent, screen } from '@testing-library/react';\nimport '@testing-library/jest-dom';\n\nimport { Menu } from '../index';\n\nimport { KEY_CODES } from '../../../common';\n\n\ntest('Menu: should render items.', async () => {\n  render(<Menu items={['Item1', 'Item2', 'Item3']} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item4')).toBeNull();\n});\n\ntest('Menu: should render custom items (normalized).', async () => {\n  render(<Menu items={['Item1', 'Item2', 'Item3']} renderItem={k => <Menu.Item>{k.key + '-C'}</Menu.Item>} />);\n  expect(screen.queryByText('Item1-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item2-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item3-C')).toBeInTheDocument();\n});\n\ntest('Menu: should expand Menu when mouse hover', async () => {\n\n  render(<Menu items={['Item1', { key: 'Item2', title: 'Item2', subMenu: ['Item21', 'Item22'] }, 'Item3']} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n  fireEvent.mouseEnter(screen.getByText('Item2'));\n\n  expect(screen.queryByText('Item21')).toBeInTheDocument();\n  expect(screen.queryByText('Item22')).toBeInTheDocument();\n\n  fireEvent.mouseEnter(screen.getByText('Item1'));\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n});\n\n\ntest('Menu: should expand Menu for keyborad entering arrow right', async () => {\n\n  const m = render(<Menu items={['Item1', { key: 'Item2', title: 'Item2', subMenu: ['Item21', 'Item22'] }, 'Item3']} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n  fireEvent.mouseEnter(screen.getByText('Item1'));\n\n  const menu = m.container.querySelector('.wdn-menu')!;\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.DOWN });\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.RIGHT });\n  expect(screen.queryByText('Item21')).toBeInTheDocument();\n  expect(screen.queryByText('Item22')).toBeInTheDocument();\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.LEFT });\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.ENTER });\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  expect(screen.queryByText('Item21')).toBeInTheDocument();\n  expect(screen.queryByText('Item22')).toBeInTheDocument();\n\n  fireEvent.keyDown(menu, { keyCode: KEY_CODES.LEFT });\n  expect(screen.queryByText('Item21')).toBeNull();\n  expect(screen.queryByText('Item22')).toBeNull();\n\n});\n\n\n"],"mappings":"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"}