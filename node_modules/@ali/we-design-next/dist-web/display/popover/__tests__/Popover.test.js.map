{"version":3,"file":"Popover.test.js","names":["React","render","fireEvent","screen","waitFor","Popover","test","expect","queryByText","toBeInTheDocument","fn","jest","toBeNull","divHello","mouseEnter","toHaveBeenLastCalledWith","mouseLeave","divWorld","Promise","r","setTimeout"],"sources":["../../../../../src/display/popover/__tests__/Popover.test.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { render, fireEvent, screen, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\n\nimport { Popover } from '../index';\n\ntest('Popover: should render content.', async () => {\n\n  render(<Popover visible content={<div>World</div>} ><div>Hello</div></Popover>);\n  expect(screen.queryByText('Hello')).toBeInTheDocument();\n  expect(screen.queryByText('World')).toBeInTheDocument();\n\n});\n\ntest('Popover: should trigger visible change for hover trigger.', async () => {\n\n  const fn = jest.fn();\n\n  render(<Popover trigger=\"hover\" onVisibleChange={fn} content={<div>World</div>} ><div>Hello</div></Popover>);\n  expect(screen.queryByText('Hello')).toBeInTheDocument();\n  expect(screen.queryByText('World')).toBeNull();\n\n  const divHello = screen.queryByText('Hello')!;\n  fireEvent.mouseEnter(divHello);\n  expect(fn).toHaveBeenLastCalledWith(true);\n  expect(screen.queryByText('World')).toBeInTheDocument();\n\n  fireEvent.mouseLeave(divHello);\n  expect(fn).toHaveBeenLastCalledWith(false);\n  expect(screen.queryByText('World')).toBeNull();\n\n});\n\ntest('Popover: should trigger visible change for mouse-enter trigger.', async () => {\n\n  const fn = jest.fn();\n\n  render(<Popover trigger=\"mouse-enter\" onVisibleChange={fn} content={<div>World</div>} ><div>Hello</div></Popover>);\n  expect(screen.queryByText('Hello')).toBeInTheDocument();\n  expect(screen.queryByText('World')).toBeNull();\n\n  const divHello = screen.queryByText('Hello')!;\n  fireEvent.mouseEnter(divHello);\n  await waitFor(() => {\n    expect(fn).toHaveBeenLastCalledWith(true);\n    expect(screen.queryByText('World')).toBeInTheDocument();\n  });\n\n  const divWorld = screen.queryByText('World')!;\n  fireEvent.mouseLeave(divHello);\n  await new Promise(r => setTimeout(r, 50));\n  expect(screen.queryByText('World')).toBeInTheDocument();\n\n  fireEvent.mouseEnter(divWorld);\n  await new Promise(r => setTimeout(r, 1000));\n  fireEvent.mouseLeave(divWorld);\n\n  await waitFor(()=>{\n    expect(fn).toHaveBeenLastCalledWith(false);\n    expect(screen.queryByText('World')).toBeNull();\n  });\n\n});\n"],"mappings":"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"}