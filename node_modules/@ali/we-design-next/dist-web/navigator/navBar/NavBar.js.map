{"version":3,"file":"NavBar.js","names":["React","mergeRestProps","NavigationBarMobileItem","NavBarBox","NavigationBarMobile","memo","forwardRef","props","ref","children","rest","mergedProps","length","elements","filter","child","isValidElement","type","leftElements","rightElements","centerElements","forEach","align","push","centerElement"],"sources":["../../../../src/navigator/navBar/NavBar.tsx"],"sourcesContent":["import React, { DOMAttributes, ReactElement } from 'react';\nimport { IRestProps, mergeRestProps } from '../../common/react/mergeRestProps';\nimport { NavigationBarMobileItem } from './NavBarItem';\nimport { NavBarBox } from './styled';\n\ntype NavBarItemElement = ReactElement<React.ComponentProps<typeof NavigationBarMobileItem>> & { key: string };\ntype AlignNavBarItemElement = NavBarItemElement & { props: { align: string } };\n\nexport interface INavBarProps extends IRestProps, DOMAttributes<HTMLDivElement> {\n  /**\n   * 子节点\n   */\n  children?: React.ReactChild[];\n}\n\nexport const NavigationBarMobile = React.memo(\n  React.forwardRef<HTMLDivElement, INavBarProps>(\n    (props, ref) => {\n      const { children, ...rest } = props;\n\n      const mergedProps = mergeRestProps(rest, 'wdn-navbar');\n\n      if (!children || !children.length) return <NavBarBox ref={ref} {...mergedProps} />\n\n      // 过滤非 NavBarItem 的元素\n      const elements = children.filter((child) => (React.isValidElement(child) && (child.type === NavigationBarMobileItem)));\n\n      const leftElements: React.ReactNode[] = [];\n      const rightElements: React.ReactNode[] = [];\n      const centerElements: React.ReactNode[] = [];\n\n      elements.forEach((child) => {\n        const { align } = (child as AlignNavBarItemElement).props;\n\n        if (align === 'center') {\n          centerElements.push(child);\n        } else if (align === 'right') {\n          rightElements.push(child);\n        } else {\n          leftElements.push(child);\n        }\n      });\n\n      // 居中元素只能有且只有一个\n      const centerElement = centerElements[0] || <NavigationBarMobileItem key=\"wdn-navbat-item-center\" align='center'  />\n\n      return (\n        <NavBarBox ref={ref} {...mergeRestProps(rest, 'wdn-navbar')}>\n          { [...leftElements, centerElement, ...rightElements] }\n        </NavBarBox>\n      );\n    },\n  ),\n);\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAuC,OAAO;AAAC,qBAC/B;AAA5B,SAAqBC,cAAc;AACnC,SAASC,uBAAuB;AAChC,SAASC,SAAS;AAYlB,OAAO,IAAMC,mBAAmB,gBAAGJ,KAAK,CAACK,IAAI,eAC3CL,KAAK,CAACM,UAAU,CACd,UAACC,KAAK,EAAEC,GAAG,EAAK;EACd,IAAQC,QAAQ,GAAcF,KAAK,CAA3BE,QAAQ;IAAKC,IAAI,iCAAKH,KAAK;EAEnC,IAAMI,WAAW,GAAGV,cAAc,CAACS,IAAI,EAAE,YAAY,CAAC;EAEtD,IAAI,CAACD,QAAQ,IAAI,CAACA,QAAQ,CAACG,MAAM,EAAE,oBAAO,eAAC,SAAS;IAAC,GAAG,EAAEJ;EAAI,GAAKG,WAAW,EAAI;;EAElF;EACA,IAAME,QAAQ,GAAGJ,QAAQ,CAACK,MAAM,CAAC,UAACC,KAAK;IAAA,OAAM,aAAAf,KAAK,CAACgB,cAAc,CAACD,KAAK,CAAC,IAAKA,KAAK,CAACE,IAAI,KAAKf,uBAAwB;EAAA,CAAC,CAAC;EAEtH,IAAMgB,YAA+B,GAAG,EAAE;EAC1C,IAAMC,aAAgC,GAAG,EAAE;EAC3C,IAAMC,cAAiC,GAAG,EAAE;EAE5CP,QAAQ,CAACQ,OAAO,CAAC,UAACN,KAAK,EAAK;IAC1B,IAAQO,KAAK,GAAMP,KAAK,CAA4BR,KAAK,CAAjDe,KAAK;IAEb,IAAIA,KAAK,KAAK,QAAQ,EAAE;MACtBF,cAAc,CAACG,IAAI,CAACR,KAAK,CAAC;IAC5B,CAAC,MAAM,IAAIO,KAAK,KAAK,OAAO,EAAE;MAC5BH,aAAa,CAACI,IAAI,CAACR,KAAK,CAAC;IAC3B,CAAC,MAAM;MACLG,YAAY,CAACK,IAAI,CAACR,KAAK,CAAC;IAC1B;EACF,CAAC,CAAC;;EAEF;EACA,IAAMS,aAAa,GAAGJ,cAAc,CAAC,CAAC,CAAC,mEAAI,eAAC,uBAAuB;IAAC,GAAG,EAAC,wBAAwB;IAAC,KAAK,EAAC;EAAQ,EAAI;EAEnH,oBACE,eAAC,SAAS;IAAC,GAAG,EAAEZ;EAAI,GAAKP,cAAc,CAACS,IAAI,EAAE,YAAY,CAAC,aACnDQ,YAAY,GAAEM,aAAa,GAAKL,aAAa,EACzC;AAEhB,CAAC,CACF,CACF"}