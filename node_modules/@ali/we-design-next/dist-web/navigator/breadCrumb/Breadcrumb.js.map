{"version":3,"file":"Breadcrumb.js","names":["React","cloneElement","useContext","toArray","BreadcrumbItem","Container","OverlayWrap","SingleLineRowContext","Tooltip","defaultRenderItem","route","routes","options","index","indexOf","isLastItem","length","isEllipsis","ellipisisIndex","renderLastItem","maxWidth","ellipisisWidth","ellipsisStyle","display","overflow","textOverflow","handleClick","e","preventDefault","onBreadcrumbItemClick","path","hasOverlay","name","Breadcrumb","separator","children","renderItem","getOrCreateRef","restProps","crumbs","paths","map","push","overlay","child","element","key","breadcrumbClassName"],"sources":["../../../../src/navigator/breadCrumb/Breadcrumb.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cloneElement, useContext } from 'react';\nimport { toArray } from 'lodash-es';\nimport BreadcrumbItem from './BreadcrumbItem';\nimport { Container, OverlayWrap } from './styles';\nimport { SingleLineRowContext } from './contexts';\nimport { Tooltip } from '../../display/tooltip';\n\nexport interface Route {\n  path: string;\n  name: string;\n  children?: Array<Omit<Route, 'children'>>;\n}\n \nexport interface BreadcrumbProps {\n  routes?: Route[];\n  separator?: React.ReactNode;\n  renderItem?: (\n    route: Route,\n    routes: Route[],\n    options?: Record<string, any>,\n  ) => React.ReactNode;\n  renderLastItem?: (\n    route: Route,\n    options: {\n      maxWidth: number\n    }\n  ) => React.ReactNode;\n  children?: React.ReactNode;\n  getOrCreateRef?: (id: number, ref: React.MutableRefObject<HTMLLIElement | null>) => void;\n  onBreadcrumbItemClick?: (path: string) => void;\n}\n\nfunction defaultRenderItem(route: Route, routes: Route[], options: any) {\n  const index =  routes.indexOf(route);\n  const isLastItem = index === routes.length - 1;\n  const isEllipsis = options?.ellipisisIndex === index;\n  \n  if ( isLastItem && options?.renderLastItem ) {\n    return options?.renderLastItem(route, { maxWidth: isEllipsis ? options?.ellipisisWidth: -1 });\n  }\n  \n  const ellipsisStyle = isEllipsis \n    ? { \n      maxWidth: options?.ellipisisWidth,\n      display: 'inline-block',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      }\n    : {}\n\n    const handleClick = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => { \n      e.preventDefault();\n      options?.onBreadcrumbItemClick(route?.path); \n    }\n\n  return isLastItem || options?.hasOverlay || route.path === ''\n    ? (\n      isEllipsis\n       ? (\n        <Tooltip title={route?.name} placement={'top'}>\n         <span style={ellipsisStyle}>\n            {route?.name}\n          </span>  \n        </Tooltip>\n      )\n      : (\n          <span style={ellipsisStyle}>\n            {route?.name}\n          </span> \n      )\n    ) \n    : (\n      isEllipsis\n       ? (\n        <Tooltip title={isEllipsis ? route?.name : ''} placement={'top'}>\n          <a href=\"!#\" onClick={handleClick} style={ellipsisStyle}>\n            {route?.name}\n          </a>\n        </Tooltip>\n       )\n       :(\n        <a  href=\"!#\" onClick={handleClick}  style={ellipsisStyle}>\n          {route?.name}\n        </a> \n       )\n    );\n}\n\nexport const Breadcrumb: React.FC<BreadcrumbProps> = ({\n  separator = '/',\n  routes,\n  children,\n  renderItem = defaultRenderItem,\n  onBreadcrumbItemClick,\n  renderLastItem,\n  getOrCreateRef = null,\n  ...restProps\n}) => {\n\n  const { ellipisisIndex, ellipisisWidth } = useContext(SingleLineRowContext);\n\n  let crumbs;\n  if (routes && routes.length > 0) {\n    // generated by route\n    const paths: string[] = [];\n    crumbs = routes.map((route, index) => {\n      const path = route.path;\n\n      if (path) {\n        paths.push(path);\n      }\n      // generated overlay by route.children\n      let overlay;\n      const hasOverlay = route.children && route.children.length; \n      if (route.children && route.children.length) {\n        overlay = (\n          <OverlayWrap>\n            <Container>\n              <ol>\n                {route.children.map((child: any) => (\n                  <BreadcrumbItem \n                    separator={separator} \n                    key={path || child.name}\n                  >\n                    {renderItem(child, routes, { renderLastItem, onBreadcrumbItemClick })}\n                  </BreadcrumbItem> \n                ))}\n              </ol>\n            </Container>\n          </OverlayWrap>\n        );\n      }\n\n      return (\n        getOrCreateRef \n          ?(\n            <BreadcrumbItem \n              getOrCreateRef={getOrCreateRef}\n              overlay={overlay} \n              separator={separator} \n              key={path || route.name}\n              index={index}\n            >\n              {renderItem(route, routes, { renderLastItem })}\n            </BreadcrumbItem>\n          ):(\n            <BreadcrumbItem \n              overlay={overlay} \n              separator={separator} \n              key={path || route.name}\n            >\n              {renderItem(route, routes, { ellipisisIndex, ellipisisWidth, hasOverlay, renderLastItem, onBreadcrumbItemClick })}\n            </BreadcrumbItem> \n          )\n      );\n    });\n  } else if (children) {\n    crumbs = toArray(children).map((element: any, index) => {\n      if (!element) {\n        return element;\n      }\n\n      return cloneElement(element, {\n        separator,\n        // eslint-disable-next-line react/no-array-index-key\n        key: `separator-${index}`,\n      });\n    });\n  }\n\n  const breadcrumbClassName = 'bread';\n\n  return (\n    <nav className={breadcrumbClassName} {...restProps}>\n      <ol>{crumbs}</ol>\n    </nav>\n  );\n};"],"mappings":"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"}