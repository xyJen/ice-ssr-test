{"version":3,"file":"List.test.js","names":["React","render","fireEvent","screen","List","KEY_CODES","test","expect","queryByText","toBeInTheDocument","toBeNull","queryByRole","title","items","map","s","key","k","content","fn","jest","not","toHaveBeenCalled","mouseEnter","getByText","toHaveBeenCalledTimes","toHaveBeenLastCalledWith","from","r","list","container","querySelector","keyDown","keyCode","DOWN","UP","item1","click","ENTER"],"sources":["../../../../../src/basic/list/__tests__/List.test.tsx"],"sourcesContent":["import * as React from 'react';\nimport { render, fireEvent, screen } from '@testing-library/react';\nimport '@testing-library/jest-dom';\n\nimport { List } from '../index';\nimport { KEY_CODES } from '../../../common';\n\ntest('List: should render items.', () => {\n  render(<List items={['Item1', 'Item2', 'Item3']} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item4')).toBeNull();\n});\n\ntest('List: should render divider.', () => {\n  render(<List items={['Item1', 'divider', 'Item3']} />);\n  expect(screen.queryByRole('separator')).toBeInTheDocument();\n});\n\ntest('List: should render group title.', () => {\n  render(<List items={[\n    'Item1',\n    {\n      title: 'Group1',\n      items: ['Item2', 'Item3']\n    },\n    'Item4'\n  ]} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Group1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n});\n\ntest('List: should render items (normalized).', () => {\n  render(<List items={['Item1', 'Item2', 'Item3'].map(s => ({ key: s, title: s }))} />);\n  expect(screen.queryByText('Item1')).toBeInTheDocument();\n  expect(screen.queryByText('Item2')).toBeInTheDocument();\n  expect(screen.queryByText('Item3')).toBeInTheDocument();\n  expect(screen.queryByText('Item4')).toBeNull();\n});\n\ntest('List: should render custom items (normalized).', () => {\n  render(<List items={['Item1', 'Item2', 'Item3']} renderItem={k => <List.Item>{k.key + '-C'}</List.Item>} />);\n  expect(screen.queryByText('Item1-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item2-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item3-C')).toBeInTheDocument();\n});\n\ntest('List: should render custom items (content).', () => {\n  render(<List items={['Item1', 'Item2', 'Item3'].map(s => ({ key: s, content: <span>{s + '-C'}</span> }))} />);\n  expect(screen.queryByText('Item1-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item2-C')).toBeInTheDocument();\n  expect(screen.queryByText('Item3-C')).toBeInTheDocument();\n});\n\ntest('List: should trigger active change when mouse enter.', async () => {\n  const fn = jest.fn();\n  render(<List onActiveChange={fn} items={['Item1', 'Item2', 'Item3']} />);\n  expect(fn).not.toHaveBeenCalled();\n\n  fireEvent.mouseEnter(screen.getByText('Item2'));\n  expect(fn).toHaveBeenCalled();\n  expect(fn).toHaveBeenCalledTimes(1);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item2', { from: 'mouse' });\n\n  fireEvent.mouseEnter(screen.getByText('Item1'));\n  expect(fn).toHaveBeenCalledTimes(2);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item1', { from: 'mouse' });\n});\n\ntest('List: should trigger active change for keyboard event.', async () => {\n  const fn = jest.fn();\n  const r = render(<List id={'list'} onActiveChange={fn} items={['Item1', 'Item2', 'Item3']} />);\n  expect(fn).not.toHaveBeenCalled();\n\n  fireEvent.mouseEnter(screen.getByText('Item1')); // make it active\n\n  const list = r.container.querySelector('.wdn-list')!;\n\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.DOWN });\n  expect(fn).toHaveBeenCalledTimes(2);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item2', { from: 'keyboard' });\n\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.DOWN });\n  expect(fn).toHaveBeenCalledTimes(3);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item3', { from: 'keyboard' });\n\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.DOWN });\n  expect(fn).toHaveBeenCalledTimes(3);\n\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.UP });\n  expect(fn).toHaveBeenCalledTimes(4);\n  expect(fn).toHaveBeenLastCalledWith<[string, any]>('Item2', { from: 'keyboard' });\n});\n\n\ntest('List: should trigger on select for mouse click event.', async () => {\n\n  const fn = jest.fn();\n  render(<List id={'list'} onSelect={fn} items={['Item1', 'Item2', 'Item3']} />);\n\n  const item1 = screen.getByText('Item1');\n  fireEvent.click(item1);\n\n  expect(fn).toHaveBeenCalled();\n});\n\ntest('List: should trigger on select for keyboard event.', async () => {\n\n  const fn = jest.fn();\n  const r = render(<List id={'list'} onSelect={fn} items={['Item1', 'Item2', 'Item3']} />);\n\n  fireEvent.mouseEnter(screen.getByText('Item1')); // make it active\n\n  const list = r.container.querySelector('.wdn-list')!;\n  fireEvent.keyDown(list, { keyCode: KEY_CODES.ENTER });\n\n  expect(fn).toHaveBeenCalled();\n\n});"],"mappings":"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"}