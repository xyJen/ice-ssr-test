{"version":3,"file":"SplitButton.js","names":["React","memo","forwardRef","ArrowUpDown12","useDefaultProp","proxyRestProps","Popover","Button","Main","Secondary","SplitButton","props","ref","secondary","children","icon","_secondaryVisible","secondaryVisible","onSecondaryVisibleChange","buttonProps","setSecondaryVisible","type","size","e","stopPropagation","displayName"],"sources":["../../../../src/basic/split-button/SplitButton.tsx"],"sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { ArrowUpDown12, useDefaultProp, proxyRestProps } from '../../common';\nimport { Popover } from '../../display/popover';\nimport type { IButtonProps } from '../button/Button';\nimport { Button, Main, Secondary } from './styled';\n\n\ntype ISplitButtonProps = {\n  secondary?: React.ReactNode;\n\n  secondaryVisible?: boolean;\n\n  onSecondaryVisibleChange?: (v: boolean) => void;\n\n} & IButtonProps;\n\n\nexport const SplitButton = memo(\n  forwardRef((props: ISplitButtonProps, ref: React.Ref<HTMLButtonElement>) => {\n\n    const {\n      secondary = <></>,\n      children,\n      icon,\n      secondaryVisible: _secondaryVisible,\n      onSecondaryVisibleChange: onSecondaryVisibleChange,\n      ...buttonProps\n    } = props;\n\n    const [secondaryVisible, setSecondaryVisible] = useDefaultProp(false, _secondaryVisible, onSecondaryVisibleChange);\n\n    const {\n      type = 'normal',\n      size = 'normal',\n    } = buttonProps;\n\n    return <Popover\n      content={secondary}\n      visible={secondaryVisible}\n      onVisibleChange={setSecondaryVisible}\n      placement=\"bottomRight\"\n      placementOffset={[4, 0]}\n    >\n      <Button {...buttonProps}>\n        <Main\n          size={size}\n          btnType={type}\n          {...proxyRestProps(buttonProps, 'main')}\n        >\n          {icon}\n          {children}\n        </Main>\n        <Secondary\n          size={size} \n          btnType={type}\n          onClick={(e) => { setSecondaryVisible(!secondaryVisible); e.stopPropagation(); }}\n          {...proxyRestProps(buttonProps, 'secondary')}\n        >\n          <ArrowUpDown12 dir={secondaryVisible ? 'up' : 'down'} />\n        </Secondary>\n      </Button>\n    </Popover>\n  })\n);\n\nSplitButton.displayName = 'SplitButton';"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,IAAI,EAAEC,UAAU,QAAQ,OAAO;AAAC,qBACpB;AAA5B,SAASC,aAAa,EAAEC,cAAc,EAAEC,cAAc;AACtD,SAASC,OAAO;AAEhB,SAASC,MAAM,EAAEC,IAAI,EAAEC,SAAS;AAahC,OAAO,IAAMC,WAAW,gBAAGT,IAAI,eAC7BC,UAAU,CAAC,UAACS,KAAwB,EAAEC,GAAiC,EAAK;EAE1E,uBAOID,KAAK,CANPE,SAAS;IAATA,SAAS,8CAAG,oCAAK;IACjBC,QAAQ,GAKNH,KAAK,CALPG,QAAQ;IACRC,IAAI,GAIFJ,KAAK,CAJPI,IAAI;IACcC,iBAAiB,GAGjCL,KAAK,CAHPM,gBAAgB;IACUC,wBAAwB,GAEhDP,KAAK,CAFPO,wBAAwB;IACrBC,WAAW,iCACZR,KAAK;EAET,sBAAgDP,cAAc,CAAC,KAAK,EAAEY,iBAAiB,EAAEE,wBAAwB,CAAC;IAA3GD,gBAAgB;IAAEG,mBAAmB;EAE5C,wBAGID,WAAW,CAFbE,IAAI;IAAJA,IAAI,kCAAG,QAAQ;IAAA,oBAEbF,WAAW,CADbG,IAAI;IAAJA,IAAI,kCAAG,QAAQ;EAGjB,oBAAO,eAAC,OAAO;IACb,OAAO,EAAET,SAAU;IACnB,OAAO,EAAEI,gBAAiB;IAC1B,eAAe,EAAEG,mBAAoB;IACrC,SAAS,EAAC,aAAa;IACvB,eAAe,EAAE,CAAC,CAAC,EAAE,CAAC;EAAE,gBAExB,eAAC,MAAM,EAAKD,WAAW,eACrB,eAAC,IAAI;IACH,IAAI,EAAEG,IAAK;IACX,OAAO,EAAED;EAAK,GACVhB,cAAc,CAACc,WAAW,EAAE,MAAM,CAAC,GAEtCJ,IAAI,EACJD,QAAQ,CACJ,eACP,eAAC,SAAS;IACR,IAAI,EAAEQ,IAAK;IACX,OAAO,EAAED,IAAK;IACd,OAAO,EAAE,iBAACE,CAAC,EAAK;MAAEH,mBAAmB,CAAC,CAACH,gBAAgB,CAAC;MAAEM,CAAC,CAACC,eAAe,EAAE;IAAE;EAAE,GAC7EnB,cAAc,CAACc,WAAW,EAAE,WAAW,CAAC,gBAE5C,eAAC,aAAa;IAAC,GAAG,EAAEF,gBAAgB,GAAG,IAAI,GAAG;EAAO,EAAG,CAC9C,CACL,CACD;AACZ,CAAC,CAAC,CACH;AAEDP,WAAW,CAACe,WAAW,GAAG,aAAa"}