{"version":3,"file":"Badge.js","names":["React","memo","mergeRestProps","Dot","New","Beta","DotWrapper","now","Date","checkExpired","expiration","valueOf","BadgeDot","props","children","rest","expired","displayName","BadgeNew","BadgeBeta"],"sources":["../../../../src/basic/badge/Badge.tsx"],"sourcesContent":["import React, { memo, useMemo } from 'react';\nimport { mergeRestProps, IRestProps } from '../../common/react';\nimport { Dot, New, Beta, DotWrapper } from './styled';\n\ntype IBadgeProps = {\n  expiration?: Date | boolean,\n} & IRestProps & React.DOMAttributes<HTMLSpanElement>;\n\nconst now = Date.now();\n\nconst checkExpired = (expiration: Date | boolean = false): boolean => {\n  if (typeof expiration === 'boolean') {\n    return expiration;\n  } else {\n    return now >= (expiration.valueOf());\n  }\n}\n\n\nexport const BadgeDot = memo(\n  (props: IBadgeProps & { children?: React.ReactElement }) => {\n    const { expiration, children, ...rest } = props;\n    const expired = checkExpired(expiration);\n    if (expired) { return children || null }\n    return children ? <DotWrapper>{children}</DotWrapper> : <Dot {...mergeRestProps(rest, 'wdn-badge-dot')} />;\n  }\n);\n\nBadgeDot.displayName = 'BadgeDot';\n\nexport const BadgeNew = memo(\n  (props: IBadgeProps) => {\n    const { expiration, ...rest } = props;\n    const expired = checkExpired(expiration);\n    return expired ? null : <New {...mergeRestProps(rest, 'wdn-badge-new')} ><span>NEW</span></New>;\n  }\n);\n\nBadgeNew.displayName = 'BadgeNew';\n\nexport const BadgeBeta = memo(\n  (props: IBadgeProps) => {\n    const { expiration, ...rest } = props;\n    const expired = checkExpired(expiration);\n    return expired ? null : <Beta {...mergeRestProps(rest, 'wdn-badge-beta')} ><span>BETA</span></Beta>;\n  }\n);\n\nBadgeBeta.displayName = 'BadgeBeta';\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,IAAI,QAAiB,OAAO;AAAC,qBACjB;AAA5B,SAASC,cAAc;AACvB,SAASC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,UAAU;AAMnC,IAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,EAAE;AAEtB,IAAME,YAAY,GAAG,SAAfA,YAAY,CAAIC,UAA0B,EAAsB;EAAA,IAAhDA,UAA0B;IAA1BA,UAA0B,GAAG,KAAK;EAAA;EACtD,IAAI,OAAOA,UAAU,KAAK,SAAS,EAAE;IACnC,OAAOA,UAAU;EACnB,CAAC,MAAM;IACL,OAAOH,GAAG,IAAKG,UAAU,CAACC,OAAO,EAAG;EACtC;AACF,CAAC;AAGD,OAAO,IAAMC,QAAQ,gBAAGX,IAAI,CAC1B,UAACY,KAAsD,EAAK;EAC1D,IAAQH,UAAU,GAAwBG,KAAK,CAAvCH,UAAU;IAAEI,QAAQ,GAAcD,KAAK,CAA3BC,QAAQ;IAAKC,IAAI,iCAAKF,KAAK;EAC/C,IAAMG,OAAO,GAAGP,YAAY,CAACC,UAAU,CAAC;EACxC,IAAIM,OAAO,EAAE;IAAE,OAAOF,QAAQ,IAAI,IAAI;EAAC;EACvC,OAAOA,QAAQ,gBAAG,eAAC,UAAU,QAAEA,QAAQ,CAAc,gBAAG,eAAC,GAAG,EAAKZ,cAAc,CAACa,IAAI,EAAE,eAAe,CAAC,CAAI;AAC5G,CAAC,CACF;AAEDH,QAAQ,CAACK,WAAW,GAAG,UAAU;AAEjC,OAAO,IAAMC,QAAQ,gBAAGjB,IAAI,CAC1B,UAACY,KAAkB,EAAK;EACtB,IAAQH,UAAU,GAAcG,KAAK,CAA7BH,UAAU;IAAKK,IAAI,iCAAKF,KAAK;EACrC,IAAMG,OAAO,GAAGP,YAAY,CAACC,UAAU,CAAC;EACxC,OAAOM,OAAO,GAAG,IAAI,gBAAG,eAAC,GAAG,EAAKd,cAAc,CAACa,IAAI,EAAE,eAAe,CAAC,iCAAG,mCAAgB,EAAM;AACjG,CAAC,CACF;AAEDG,QAAQ,CAACD,WAAW,GAAG,UAAU;AAEjC,OAAO,IAAME,SAAS,gBAAGlB,IAAI,CAC3B,UAACY,KAAkB,EAAK;EACtB,IAAQH,UAAU,GAAcG,KAAK,CAA7BH,UAAU;IAAKK,IAAI,iCAAKF,KAAK;EACrC,IAAMG,OAAO,GAAGP,YAAY,CAACC,UAAU,CAAC;EACxC,OAAOM,OAAO,GAAG,IAAI,gBAAG,eAAC,IAAI,EAAKd,cAAc,CAACa,IAAI,EAAE,gBAAgB,CAAC,mCAAG,oCAAiB,EAAO;AACrG,CAAC,CACF;AAEDI,SAAS,CAACF,WAAW,GAAG,WAAW"}