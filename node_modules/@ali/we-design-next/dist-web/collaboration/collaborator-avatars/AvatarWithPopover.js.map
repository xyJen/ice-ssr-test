{"version":3,"file":"AvatarWithPopover.js","names":["React","styled","Popover","Dot","Avatar","BaseAvatar","AVATAR_SIZE","COLORS","PopoverWrapper","div","ProfileInfoWrapper","ProfileInfoInnerLeft","ProfileInfoInnerCenter","ProfileInfoInnerRight","NickText","span","LIGHT","LEVEL1_BASE_COLOR","StatusText","LEVEL3_BASE_COLOR","SplitLine","ProfileInfo","props","src","avatar","name","color","description","background","AvatarWithPopover","renderMenu","isPopoverVisible","onPopoverVisibleChange","rest","menu"],"sources":["../../../../src/collaboration/collaborator-avatars/AvatarWithPopover.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { Popover } from '../../display/popover';\nimport { Dot } from './styled';\nimport { Avatar as BaseAvatar } from '../../display/avatar';\nimport { Avatar } from './Avatar';\nimport type { IAvatarProps } from './Avatar';\nimport { AVATAR_SIZE } from './constants';\nimport { COLORS } from '../../common';\n\nexport type IAvatarCollaborator = {\n  key: string;\n  /**\n   * 描述\n   */\n  description?: string;\n  avatar?: string;\n} & Omit<IAvatarProps, 'src'>;\n\ntype IAvatarPopover = {\n  isPopoverVisible: boolean;\n  onPopoverVisibleChange: (isVisible: boolean) => void;\n  renderMenu?: () => React.ReactElement;\n} & IAvatarCollaborator;\n\ntype IProfileInfo = Omit<IAvatarCollaborator, 'key'>;\n\nconst PopoverWrapper = styled.div`\n  min-width: 100px;\n`;\n\nconst ProfileInfoWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 12px;\n`;\n\nconst ProfileInfoInnerLeft = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-right: 8px;\n`;\n\nconst ProfileInfoInnerCenter = styled.div`\n  display: flex;\n  min-width: 105px;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst ProfileInfoInnerRight = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nconst NickText = styled.span`\n  flex: 1;\n  width: 50%;\n  max-width: 96px;\n  font-weight: 400;\n  font-size: 13px;\n  color: ${COLORS.LIGHT.LEVEL1_BASE_COLOR};\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  margin-right: 8px;\n`;\n\nconst StatusText = styled.span`\n  font-weight: 400;\n  font-size: 12px;\n  margin-right: 4px;\n  color:${COLORS.LIGHT.LEVEL3_BASE_COLOR};\n`;\n\nconst SplitLine = styled.div`\n  height: 1px;\n  margin: 0 4px;\n  background: rgba(126, 134, 142, 0.16);\n`;\n\nconst ProfileInfo: React.FC<IProfileInfo> = (props) => {\n  const { avatar: src, name, color, description } = props;\n  return (\n    <ProfileInfoWrapper>\n      <ProfileInfoInnerLeft>\n        {\n          <BaseAvatar name={name} src={src} size={AVATAR_SIZE} />\n        }\n      </ProfileInfoInnerLeft>\n      <ProfileInfoInnerCenter>\n        <NickText>{name}</NickText>\n        {\n          description && <StatusText>{description}</StatusText>\n        }\n      </ProfileInfoInnerCenter>\n      <ProfileInfoInnerRight>\n        {\n          <Dot style={{ background: color }} />\n        }\n      </ProfileInfoInnerRight>\n    </ProfileInfoWrapper>\n  )\n}\n\nexport const AvatarWithPopover: React.FC<IAvatarPopover> = (props) => {\n  const { renderMenu, color, description, name, avatar: src, isPopoverVisible, onPopoverVisibleChange, ...rest } = props;\n\n  const menu = (isPopoverVisible && renderMenu) ? renderMenu() : null;\n\n  return (\n    <Popover\n      visible={isPopoverVisible}\n      onVisibleChange={onPopoverVisibleChange}\n      animation\n      content={\n        <PopoverWrapper>\n          <ProfileInfo\n            color={color}\n            description={description}\n            name={name}\n            avatar={src}\n          />\n          {\n            menu ?\n              <>\n                <SplitLine />\n                {menu}\n              </>\n              : null\n          }\n        </PopoverWrapper>\n      }\n      trigger=\"mouse-enter\"\n      placement=\"bottomLeft\"\n      placementOffset={[3, 0]}\n    >\n      <Avatar\n        name={name}\n        src={src}\n        color={color}\n        {...rest}\n      />\n    </Popover>\n  );\n};\n\n"],"mappings":"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"}