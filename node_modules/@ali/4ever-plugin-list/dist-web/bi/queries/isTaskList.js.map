{"version":3,"sources":["../../../../src/bi/queries/isTaskList.ts"],"names":["isTaskList","editor","value","selection","document","paragraph","getClosest","anchor","key","type","startsWith","list","data","isOrdered"],"mappings":"AACA,eAAe,SAASA,UAAT,CAAoBC,MAApB,EAAwC;AAAA,MAC7CC,KAD6C,GACnCD,MADmC,CAC7CC,KAD6C;AAAA,MAE7CC,SAF6C,GAErBD,KAFqB,CAE7CC,SAF6C;AAAA,MAElCC,QAFkC,GAErBF,KAFqB,CAElCE,QAFkC;AAGrD,MAAMC,SAAS,GACbF,SAAS,IACTC,QAAQ,CAACE,UAAT,CACEH,SAAS,CAACI,MAAV,CAAiBC,GADnB,EAEE;AACA;AAAA,QAAGC,IAAH,QAAGA,IAAH;AAAA,WAAc,OAAOA,IAAP,KAAgB,QAAhB,KAA6BA,IAAI,KAAK,WAAT,IAAwBA,IAAI,CAACC,UAAL,CAAgB,UAAhB,CAArD,CAAd;AAAA,GAHF,CAFF;;AAOA,MAAI,CAACL,SAAL,EAAgB;AACd,WAAO,KAAP;AACD;;AAED,MAAMM,IAAI,GAAGN,SAAS,CAACO,IAAV,CAAeD,IAA5B;AACA,SAAO,CAAC,EAAEA,IAAI,IAAI,CAACA,IAAI,CAACE,SAAd,IAA2BF,IAAI,CAACX,UAAlC,CAAR;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nexport default function isTaskList(editor: Controller) {\n  const { value } = editor;\n  const { selection, document } = value;\n  const paragraph =\n    selection &&\n    document.getClosest(\n      selection.anchor.key,\n      // @ts-ignore\n      ({ type }) => typeof type === 'string' && (type === 'paragraph' || type.startsWith('heading-')),\n    );\n  if (!paragraph) {\n    return false;\n  }\n\n  const list = paragraph.data.list;\n  return !!(list && !list.isOrdered && list.isTaskList);\n}\n"],"file":"isTaskList.js"}