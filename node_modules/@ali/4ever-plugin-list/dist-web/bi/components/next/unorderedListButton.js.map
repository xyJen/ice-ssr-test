{"version":3,"sources":["../../../../../src/bi/components/next/unorderedListButton.tsx"],"names":["React","useCallback","environment","ListSet","isUnorderedList","toggleList","getListStyleType","ULLIST_HOT_KEY_TIP","ListRole","DEFAULT_BULLET_LIST_ARRAY","bulletLists","isMobile","IS_MOBILE","UnorderedListButton","props","controller","locale","enableSticker","rest","isCollapsedAtEdge","value","selection","isDisabled","query","listStyleType","isActive","handleClick","listType","run","undefined","tooltip","useMemo","title","unorderedList","shortCut","description","space","listUnordered"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;qBAC4B,a;AAA5B,SAAqBC,WAArB,QAAwC,oBAAxC;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAOC,eAAP;AACA,SAASC,UAAT;AACA,SAASC,gBAAT,EAA2BC,kBAA3B;AACA,SAASC,QAAT;AACA,SAASC,yBAAyB,IAAIC,WAAtC;AAEA,IAAMC,QAAQ,GAAGT,WAAW,CAACU,SAA7B;AAQA,eAAe,SAASC,mBAAT,CAA6BC,KAA7B,EAA8D;AAAA,MACnEC,UADmE,GACZD,KADY,CACnEC,UADmE;AAAA,MACvDC,MADuD,GACZF,KADY,CACvDE,MADuD;AAAA,6BACZF,KADY,CAC/CG,aAD+C;AAAA,MAC/CA,aAD+C,qCAC/B,KAD+B;AAAA,MACrBC,IADqB,iCACZJ,KADY;;AAAA,MAEnEK,iBAFmE,GAE7CJ,UAAU,CAACK,KAAX,CAAiBC,SAF4B,CAEnEF,iBAFmE;AAG3E,MAAMG,UAAU,GACdH,iBAAiB,IACjBJ,UAAU,CAACQ,KAAX,CAAiB,iBAAjB,CADA,IAEA;AACAR,EAAAA,UAAU,CAACQ,KAAX,CAAiB,6BAAjB,CAJF;AAKA,MAAMC,aAAa,GAAGlB,gBAAgB,CAACS,UAAD,CAAtC;AACA,MAAMU,QAAQ,GAAGrB,eAAe,CAACW,UAAD,CAAhC;AAEA,MAAMW,WAAW,GAAGzB,WAAW,CAC7B,UAAC0B,QAAD;AAAA,WACEZ,UAAU,CAACa,GAAX,CACE,UADF,EAEEvB,UAAU,CACR,OADQ,EAERM,QAAQ,IAAID,WAAW,CAACiB,QAAD,CAAX,KAAoCE,SAAhD,GACInB,WAAW,CAAC,CAAD,CADf,GAEIiB,QAJI,CAFZ,CADF;AAAA,GAD6B,EAW7B,CAACZ,UAAD,CAX6B,CAA/B;AAcA,MAAMe,OAAO,GAAG9B,KAAK,CAAC+B,OAAN,CACd;AAAA,WAAO;AACLC,MAAAA,KAAK,EAAEhB,MAAM,CAACiB,aADT;AAELC,MAAAA,QAAQ,EAAE3B,kBAFL;AAGL4B,MAAAA,WAAW,EAAE,kBAAkB,CAAAnB,MAAM,QAAN,YAAAA,MAAM,CAAEoB,KAAR,KAAiB,OAAnC;AAHR,KAAP;AAAA,GADc,EAMd,EANc,CAAhB;AASA,sBACE,eAAC,OAAD;AACE,IAAA,IAAI,EAAC,IADP;AAEE,IAAA,MAAM,EAAEX,QAFV;AAGE,IAAA,MAAM,EAAC,mBAHT;AAIE,IAAA,QAAQ,EAAE,CAAC,CAACH,UAJd;AAKE,IAAA,gBAAgB,EAAEE,aALpB;AAME,IAAA,QAAQ,EAAEE,WANZ;AAOE,IAAA,OAAO,EAAEA,WAPX;AAQE,IAAA,aAAa,EAAET,aARjB;AASE,IAAA,IAAI,EAAET,QAAQ,CAAC6B,aATjB;AAUE,IAAA,KAAK,EAAErB,MAAM,CAACiB,aAVhB;AAWE,IAAA,OAAO,EAAEH;AAXX,KAYMZ,IAZN,EADF;AAgBD","sourcesContent":["import React, { useCallback } from 'react';\nimport { Controller, environment } from '@ali/4ever-cangjie';\nimport { ListSet } from '@ali/4ever-component';\nimport isUnorderedList from '../../queries/isUnorderedList';\nimport { toggleList } from '../../actions';\nimport { getListStyleType, ULLIST_HOT_KEY_TIP } from '../../utils';\nimport { ListRole } from '../../../utils/role';\nimport { DEFAULT_BULLET_LIST_ARRAY as bulletLists } from '../../../utils/listStyleMapping';\n\nconst isMobile = environment.IS_MOBILE;\n\nexport interface UnorderedListButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n  enableSticker?: boolean;\n}\n\nexport default function UnorderedListButton(props: UnorderedListButtonProps) {\n  const { controller, locale, enableSticker = false, ...rest } = props;\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled =\n    isCollapsedAtEdge ||\n    controller.query('isSelectionInHr') ||\n    // fix: https://aone.alibaba-inc.com/v2/project/1090534/bug/35667506\n    controller.query('isSelectionInSubjectHeading');\n  const listStyleType = getListStyleType(controller);\n  const isActive = isUnorderedList(controller);\n\n  const handleClick = useCallback(\n    (listType: string | React.MouseEvent) =>\n      controller.run(\n        'onAction',\n        toggleList(\n          'ulist',\n          isMobile || bulletLists[listType as string] === undefined\n            ? bulletLists[0]\n            : listType,\n        ),\n      ),\n    [controller],\n  );\n\n  const tooltip = React.useMemo(\n    () => ({\n      title: locale.unorderedList,\n      shortCut: ULLIST_HOT_KEY_TIP,\n      description: 'Markdown: * ' + (locale?.space || 'Space'),\n    }),\n    [],\n  );\n\n  return (\n    <ListSet\n      mode=\"ul\"\n      active={isActive}\n      testid=\"bi-toolbar-ullist\"\n      disabled={!!isDisabled}\n      defaultListStyle={listStyleType}\n      onChange={handleClick}\n      onClick={handleClick}\n      enableSticker={enableSticker}\n      role={ListRole.listUnordered}\n      title={locale.unorderedList}\n      tooltip={tooltip}\n      {...rest}\n    />\n  );\n}\n"],"file":"unorderedListButton.js"}