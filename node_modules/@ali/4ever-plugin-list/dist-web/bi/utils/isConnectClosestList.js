import { Block } from '@ali/4ever-cangjie';
import { getListOrderDataById } from "../../utils/putListOrder";

function isConnectClosestList(value, closestListItem, inputNum, dir) {
  var _closestListItem$data, _closestListItem$data2;

  if (!closestListItem || !Block.isBlock(closestListItem)) {
    return false;
  }

  var closeFormat = (_closestListItem$data = closestListItem.data.list) == null ? void 0 : (_closestListItem$data2 = _closestListItem$data.listStyle) == null ? void 0 : _closestListItem$data2.format;

  if (closeFormat) {
    var parent = value.document.getParent(closestListItem.key);

    if (!parent) {
      return false;
    }

    var lists = getListOrderDataById(parent.nodes, closestListItem.data.list.listId);
    var inectionList = lists.find(function (i) {
      return i.key === closestListItem.key;
    });

    if (!inectionList) {
      return false;
    }

    var diff = inputNum - inectionList.data.start;
    return diff === 0 || diff === dir;
  }

  return false;
}

export function isConnectNextClosestList(value, closestListItem, inputNum) {
  return isConnectClosestList(value, closestListItem, inputNum, -1);
}
export function isConnectPrevClosestList(value, closestListItem, inputNum) {
  if (inputNum === 1) {
    return false;
  }

  return isConnectClosestList(value, closestListItem, inputNum, 1);
}
//# sourceMappingURL=isConnectClosestList.js.map