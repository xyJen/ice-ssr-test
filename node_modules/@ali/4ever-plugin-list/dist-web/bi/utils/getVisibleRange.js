// TODO: 暂时拿掉该方法, 只有改造
export default (function (value) {
  var selection = value.selection,
      document = value.document,
      startBlock = value.startBlock,
      endBlock = value.endBlock;
  var anchor = selection.anchor,
      focus = selection.focus,
      isCollapsed = selection.isCollapsed;
  var adjustedSelection = selection;

  if (!isCollapsed && startBlock && anchor.isAtEndOfNode(startBlock) && !anchor.isAtStartOfNode(startBlock)) {
    var p = selection.anchor;
    var next = document.getNextText(p.key);

    if (next) {
      // @ts-ignore selection 没有 setStart 方法
      adjustedSelection = selection.setStart(selection.anchor.moveToStartOfNode(next));
    }
  }

  if (!isCollapsed && endBlock && focus.isAtStartOfNode(endBlock) && !focus.isAtEndOfNode(endBlock)) {
    var _p = selection.focus;
    var previous = document.getPreviousText(_p.key);

    if (previous) {
      // @ts-ignore selection 没有 setEnd 方法
      adjustedSelection = selection.setEnd(selection.focus.moveToEndOfNode(previous));
    }
  }

  return adjustedSelection;
});
//# sourceMappingURL=getVisibleRange.js.map