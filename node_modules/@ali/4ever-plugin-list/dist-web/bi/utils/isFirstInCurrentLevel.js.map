{"version":3,"sources":["../../../../src/bi/utils/isFirstInCurrentLevel.ts"],"names":["isList","isFirstInCurrentLevel","value","currentItem","document","curList","data","list","prev","getPreviousBlock","key","prevList","listId","level"],"mappings":"AACA,OAAOA,MAAP;AAEA,eAAe,SAASC,qBAAT,CAA+BC,KAA/B,EAA6CC,WAA7C,EAAiE;AAAA;;AAAA,MACtEC,QADsE,GACzDF,KADyD,CACtEE,QADsE;AAE9E,MAAMC,OAAO,wBAAGF,WAAW,CAACG,IAAf,qBAAG,kBAAkBC,IAAlC;AACA,MAAIC,IAAI,GAAGJ,QAAQ,CAACK,gBAAT,CAA0BN,WAAW,CAACO,GAAtC,CAAX;;AAEA,SAAMF,IAAN,EAAY;AAAA;;AACV,QAAMG,QAAQ,iBAAGH,IAAI,CAACF,IAAR,qBAAG,WAAWC,IAA5B;;AACA,QAAIP,MAAM,CAACQ,IAAD,CAAN,IAAgBG,QAAQ,CAACC,MAAT,KAAoBP,OAAO,CAACO,MAAhD,EAAwD;AACtD,aAAOD,QAAQ,CAACE,KAAT,GAAiBR,OAAO,CAACQ,KAAhC;AACD;;AACDL,IAAAA,IAAI,GAAGJ,QAAQ,CAACK,gBAAT,CAA0BD,IAAI,CAACE,GAA/B,CAAP;AACD;;AAED,SAAO,IAAP;AACD","sourcesContent":["import { Block, Value } from '@ali/4ever-cangjie';\nimport isList from './isList';\n\nexport default function isFirstInCurrentLevel(value: Value, currentItem: Block) {\n  const { document } = value;\n  const curList = currentItem.data?.list;\n  let prev = document.getPreviousBlock(currentItem.key);\n\n  while(prev) {\n    const prevList = prev.data?.list;\n    if (isList(prev) && prevList.listId === curList.listId) {\n      return prevList.level < curList.level;\n    }\n    prev = document.getPreviousBlock(prev.key);\n  }\n\n  return true;\n}"],"file":"isFirstInCurrentLevel.js"}