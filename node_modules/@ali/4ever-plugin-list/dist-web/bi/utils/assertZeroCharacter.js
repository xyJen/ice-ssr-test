import { Text } from '@ali/4ever-cangjie';
import { ZERO_CHAR, LINE_BREAK } from "../constants";
import isList from "./isList";
/**
 * 判断光标左侧位置，是否有\n + 零宽字符
 * @param {Controller} controller
 * @return {*}  {boolean}
 */

export default function assertZeroCharacter(controller) {
  var _controller$value = controller.value,
      selection = _controller$value.selection,
      startBlock = _controller$value.startBlock,
      document = _controller$value.document;

  if (!(isList(startBlock) && selection.isCollapsed)) {
    return false;
  }

  var _ref = selection.focus,
      key = _ref.key,
      offset = _ref.offset;
  var focusNode = document.getNode(key);
  return Text.isText(focusNode) && focusNode.text[offset - 1] === ZERO_CHAR && focusNode.text[offset - 2] === LINE_BREAK;
}
//# sourceMappingURL=assertZeroCharacter.js.map