import { getClosestParagraph, generateRangesFromTableSelection } from '@ali/4ever-utils';
export default (function (controller) {
  var tableSelection = controller.query('tableSelection');
  var _controller$value = controller.value,
      document = _controller$value.document,
      selection = _controller$value.selection;
  var ranges = tableSelection ? generateRangesFromTableSelection(controller, [tableSelection]) : [selection];
  var blocks = ranges == null ? void 0 : ranges.reduce(function (list, range) {
    var nodes = document.getLeafBlocksAtRange(range);
    return list.concat(nodes);
  }, []);
  var paragraphs = blocks == null ? void 0 : blocks.map(function (block) {
    return getClosestParagraph(controller.value, block);
  });
  return paragraphs || [];
});
//# sourceMappingURL=getCurrentItem.js.map