{"version":3,"sources":["../../../../src/bi/commands/removeListNode.ts"],"names":["Commands","getCurrentItem","removeListNode","editor","value","currentList","data","list","newData","forEach","element","command","setNodeByKey","key"],"mappings":";AAAA,SAAqBA,QAArB,QAAqC,oBAArC;AACA,SAASC,cAAT;AAEA,eAAe,SAASC,cAAT,CAAwBC,MAAxB,EAA4C;AAAA;;AAAA,MACjDC,KADiD,GACvCD,MADuC,CACjDC,KADiD;AAEzD,MAAMC,WAAW,GAAGJ,cAAc,CAACE,MAAD,CAAlC;AACA,MAAMG,IAAI,oBAAGD,WAAW,CAAC,CAAD,CAAd,qBAAG,cAAgBC,IAA7B;AACA,MAAI,CAACA,IAAD,IAAS,CAACA,IAAI,CAACC,IAAnB,EAAyB,OAAOJ,MAAP;;AACzB,MAAMK,OAAO,gBAAQF,IAAR,CAAb;;AACA,SAAOE,OAAO,CAACD,IAAf;AACAF,EAAAA,WAAW,CAACI,OAAZ,CAAoB,UAACC,OAAD,EAAa;AAC/BA,IAAAA,OAAO,IAAIP,MAAM,CACdQ,OADQ,CACAX,QAAQ,CAACY,YADT,EACuBF,OAAO,CAACG,GAD/B,EACoC;AAC3CP,MAAAA,IAAI,EAAEE;AADqC,KADpC,CAAX;AAID,GALD;AAOA,SAAOL,MAAP;AACD","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\nimport { getCurrentItem } from '../utils';\n\nexport default function removeListNode(editor: Controller) {\n  const { value } = editor;\n  const currentList = getCurrentItem(editor);\n  const data = currentList[0]?.data;\n  if (!data || !data.list) return editor;\n  const newData = { ...data };\n  delete newData.list;\n  currentList.forEach((element) => {\n    element && editor\n      .command(Commands.setNodeByKey, element.key, {\n        data: newData,\n      });\n  });\n\n  return editor;\n}\n"],"file":"removeListNode.js"}