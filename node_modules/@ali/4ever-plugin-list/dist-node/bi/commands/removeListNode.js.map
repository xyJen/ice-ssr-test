{"version":3,"sources":["../../../../src/bi/commands/removeListNode.ts"],"names":["removeListNode","editor","value","currentList","data","list","newData","forEach","element","command","Commands","setNodeByKey","key"],"mappings":";;;;;;;AAAA;;AACA;;AAEe,SAASA,cAAT,CAAwBC,MAAxB,EAA4C;AACzD,QAAM;AAAEC,IAAAA;AAAF,MAAYD,MAAlB;AACA,QAAME,WAAW,GAAG,2BAAeF,MAAf,CAApB;AACA,QAAMG,IAAI,GAAGD,WAAW,CAAC,CAAD,CAAX,EAAgBC,IAA7B;AACA,MAAI,CAACA,IAAD,IAAS,CAACA,IAAI,CAACC,IAAnB,EAAyB,OAAOJ,MAAP;AACzB,QAAMK,OAAO,GAAG,EAAE,GAAGF;AAAL,GAAhB;AACA,SAAOE,OAAO,CAACD,IAAf;AACAF,EAAAA,WAAW,CAACI,OAAZ,CAAqBC,OAAD,IAAa;AAC/BA,IAAAA,OAAO,IAAIP,MAAM,CACdQ,OADQ,CACAC,sBAASC,YADT,EACuBH,OAAO,CAACI,GAD/B,EACoC;AAC3CR,MAAAA,IAAI,EAAEE;AADqC,KADpC,CAAX;AAID,GALD;AAOA,SAAOL,MAAP;AACD","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\nimport { getCurrentItem } from '../utils';\n\nexport default function removeListNode(editor: Controller) {\n  const { value } = editor;\n  const currentList = getCurrentItem(editor);\n  const data = currentList[0]?.data;\n  if (!data || !data.list) return editor;\n  const newData = { ...data };\n  delete newData.list;\n  currentList.forEach((element) => {\n    element && editor\n      .command(Commands.setNodeByKey, element.key, {\n        data: newData,\n      });\n  });\n\n  return editor;\n}\n"],"file":"removeListNode.js"}