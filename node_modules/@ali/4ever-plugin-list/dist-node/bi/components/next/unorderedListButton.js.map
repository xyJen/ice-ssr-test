{"version":3,"sources":["../../../../../src/bi/components/next/unorderedListButton.tsx"],"names":["isMobile","environment","IS_MOBILE","UnorderedListButton","props","controller","locale","enableSticker","rest","isCollapsedAtEdge","value","selection","isDisabled","query","listStyleType","isActive","handleClick","listType","run","bulletLists","undefined","tooltip","React","useMemo","title","unorderedList","shortCut","ULLIST_HOT_KEY_TIP","description","space","ListRole","listUnordered"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;uBAN4B,a;AAQ5B,MAAMA,QAAQ,GAAGC,yBAAYC,SAA7B;;AAQe,SAASC,mBAAT,CAA6BC,KAA7B,EAA8D;AAC3E,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,MAAd;AAAsBC,IAAAA,aAAa,GAAG,KAAtC;AAA6C,OAAGC;AAAhD,MAAyDJ,KAA/D;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAwBJ,UAAU,CAACK,KAAX,CAAiBC,SAA/C;AACA,QAAMC,UAAU,GACdH,iBAAiB,IACjBJ,UAAU,CAACQ,KAAX,CAAiB,iBAAjB,CADA,IAEA;AACAR,EAAAA,UAAU,CAACQ,KAAX,CAAiB,6BAAjB,CAJF;AAKA,QAAMC,aAAa,GAAG,6BAAiBT,UAAjB,CAAtB;AACA,QAAMU,QAAQ,GAAG,8BAAgBV,UAAhB,CAAjB;AAEA,QAAMW,WAAW,GAAG,wBACjBC,QAAD,IACEZ,UAAU,CAACa,GAAX,CACE,UADF,EAEE,yBACE,OADF,EAEElB,QAAQ,IAAImB,4CAAYF,QAAZ,MAAoCG,SAAhD,GACID,4CAAY,CAAZ,CADJ,GAEIF,QAJN,CAFF,CAFgB,EAWlB,CAACZ,UAAD,CAXkB,CAApB;;AAcA,QAAMgB,OAAO,GAAGC,eAAMC,OAAN,CACd,OAAO;AACLC,IAAAA,KAAK,EAAElB,MAAM,CAACmB,aADT;AAELC,IAAAA,QAAQ,EAAEC,yBAFL;AAGLC,IAAAA,WAAW,EAAE,kBAAkBtB,MAAM,EAAEuB,KAAR,IAAiB,OAAnC;AAHR,GAAP,CADc,EAMd,EANc,CAAhB;;AASA,sBACE,eAAC,sBAAD;AACE,IAAA,IAAI,EAAC,IADP;AAEE,IAAA,MAAM,EAAEd,QAFV;AAGE,IAAA,MAAM,EAAC,mBAHT;AAIE,IAAA,QAAQ,EAAE,CAAC,CAACH,UAJd;AAKE,IAAA,gBAAgB,EAAEE,aALpB;AAME,IAAA,QAAQ,EAAEE,WANZ;AAOE,IAAA,OAAO,EAAEA,WAPX;AAQE,IAAA,aAAa,EAAET,aARjB;AASE,IAAA,IAAI,EAAEuB,eAASC,aATjB;AAUE,IAAA,KAAK,EAAEzB,MAAM,CAACmB,aAVhB;AAWE,IAAA,OAAO,EAAEJ;AAXX,KAYMb,IAZN,EADF;AAgBD","sourcesContent":["import React, { useCallback } from 'react';\nimport { Controller, environment } from '@ali/4ever-cangjie';\nimport { ListSet } from '@ali/4ever-component';\nimport isUnorderedList from '../../queries/isUnorderedList';\nimport { toggleList } from '../../actions';\nimport { getListStyleType, ULLIST_HOT_KEY_TIP } from '../../utils';\nimport { ListRole } from '../../../utils/role';\nimport { DEFAULT_BULLET_LIST_ARRAY as bulletLists } from '../../../utils/listStyleMapping';\n\nconst isMobile = environment.IS_MOBILE;\n\nexport interface UnorderedListButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n  enableSticker?: boolean;\n}\n\nexport default function UnorderedListButton(props: UnorderedListButtonProps) {\n  const { controller, locale, enableSticker = false, ...rest } = props;\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled =\n    isCollapsedAtEdge ||\n    controller.query('isSelectionInHr') ||\n    // fix: https://aone.alibaba-inc.com/v2/project/1090534/bug/35667506\n    controller.query('isSelectionInSubjectHeading');\n  const listStyleType = getListStyleType(controller);\n  const isActive = isUnorderedList(controller);\n\n  const handleClick = useCallback(\n    (listType: string | React.MouseEvent) =>\n      controller.run(\n        'onAction',\n        toggleList(\n          'ulist',\n          isMobile || bulletLists[listType as string] === undefined\n            ? bulletLists[0]\n            : listType,\n        ),\n      ),\n    [controller],\n  );\n\n  const tooltip = React.useMemo(\n    () => ({\n      title: locale.unorderedList,\n      shortCut: ULLIST_HOT_KEY_TIP,\n      description: 'Markdown: * ' + (locale?.space || 'Space'),\n    }),\n    [],\n  );\n\n  return (\n    <ListSet\n      mode=\"ul\"\n      active={isActive}\n      testid=\"bi-toolbar-ullist\"\n      disabled={!!isDisabled}\n      defaultListStyle={listStyleType}\n      onChange={handleClick}\n      onClick={handleClick}\n      enableSticker={enableSticker}\n      role={ListRole.listUnordered}\n      title={locale.unorderedList}\n      tooltip={tooltip}\n      {...rest}\n    />\n  );\n}\n"],"file":"unorderedListButton.js"}