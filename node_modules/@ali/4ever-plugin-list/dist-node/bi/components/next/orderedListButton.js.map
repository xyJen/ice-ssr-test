{"version":3,"sources":["../../../../../src/bi/components/next/orderedListButton.tsx"],"names":["isMobile","environment","IS_MOBILE","OrderedListButton","props","controller","locale","rest","listStyleType","isCollapsedAtEdge","value","selection","isDisabled","query","isActive","handleClick","listType","run","numberLists","undefined","tooltip","React","useMemo","title","orderedList","shortCut","OLLIST_HOT_KEY_TIP","description","space","ListRole","listOrdered"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;uBAN4B,a;AAQ5B,MAAMA,QAAQ,GAAGC,yBAAYC,SAA7B;;AAOe,SAASC,iBAAT,CAA2BC,KAA3B,EAA0D;AACvE,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,MAAd;AAAsB,OAAGC;AAAzB,MAAkCH,KAAxC;AACA,QAAMI,aAAa,GAAG,6BAAiBH,UAAjB,CAAtB;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAwBJ,UAAU,CAACK,KAAX,CAAiBC,SAA/C;AACA,QAAMC,UAAU,GACdH,iBAAiB,IACjBJ,UAAU,CAACQ,KAAX,CAAiB,iBAAjB,CADA,IAEA;AACAR,EAAAA,UAAU,CAACQ,KAAX,CAAiB,6BAAjB,CAJF;AAKA,QAAMC,QAAQ,GAAG,4BAAcT,UAAd,CAAjB;AAEA,QAAMU,WAAW,GAAG,wBACjBC,QAAD,IAAyC;AACvCX,IAAAA,UAAU,CAACY,GAAX,CACE,UADF,EAEE,yBACE,OADF,EAEEjB,QAAQ,IAAIkB,4CAAYF,QAAZ,MAAoCG,SAAhD,GACID,4CAAY,CAAZ,CADJ,GAEIF,QAJN,CAFF;AASD,GAXiB,EAYlB,CAACX,UAAD,CAZkB,CAApB;;AAeA,QAAMe,OAAO,GAAGC,eAAMC,OAAN,CACd,OAAO;AACLC,IAAAA,KAAK,EAAEjB,MAAM,CAACkB,WADT;AAELC,IAAAA,QAAQ,EAAEC,yBAFL;AAGLC,IAAAA,WAAW,EAAE,kBAAkBrB,MAAM,EAAEsB,KAA1B,IAAmC;AAH3C,GAAP,CADc,EAMd,EANc,CAAhB;;AASA,sBACE,eAAC,sBAAD;AACE,IAAA,IAAI,EAAC,IADP;AAEE,IAAA,MAAM,EAAEd,QAFV;AAGE,IAAA,MAAM,EAAC,mBAHT;AAIE,IAAA,QAAQ,EAAE,CAAC,CAACF,UAJd;AAKE,IAAA,gBAAgB,EAAEJ,aALpB;AAME,IAAA,QAAQ,EAAEO,WANZ;AAOE,IAAA,OAAO,EAAEA,WAPX;AAQE,IAAA,IAAI,EAAEc,eAASC,WARjB;AASE,IAAA,KAAK,EAAExB,MAAM,CAACkB,WAThB;AAUE,IAAA,OAAO,EAAEJ;AAVX,KAWMb,IAXN,EADF;AAeD","sourcesContent":["import React, { useCallback } from 'react';\nimport { Controller, environment } from '@ali/4ever-cangjie';\nimport { ListSet } from '@ali/4ever-component';\nimport isOrderedList from '../../queries/isOrderedList';\nimport { getListStyleType, OLLIST_HOT_KEY_TIP } from '../../utils';\nimport { toggleList } from '../../actions';\nimport { ListRole } from '../../../utils/role';\nimport { DEFAULT_NUMBER_LIST_ARRAY as numberLists } from '../../../utils/listStyleMapping';\n\nconst isMobile = environment.IS_MOBILE;\n\nexport interface OrderedListButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n}\n\nexport default function OrderedListButton(props: OrderedListButtonProps) {\n  const { controller, locale, ...rest } = props;\n  const listStyleType = getListStyleType(controller);\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled =\n    isCollapsedAtEdge ||\n    controller.query('isSelectionInHr') ||\n    // fix: https://aone.alibaba-inc.com/v2/project/1090534/bug/35667506\n    controller.query('isSelectionInSubjectHeading');\n  const isActive = isOrderedList(controller);\n\n  const handleClick = useCallback(\n    (listType: string | React.MouseEvent) => {\n      controller.run(\n        'onAction',\n        toggleList(\n          'olist',\n          isMobile || numberLists[listType as string] === undefined\n            ? numberLists[0]\n            : listType,\n        ),\n      );\n    },\n    [controller],\n  );\n\n  const tooltip = React.useMemo(\n    () => ({\n      title: locale.orderedList,\n      shortCut: OLLIST_HOT_KEY_TIP,\n      description: 'Markdown: 1. ' + locale?.space || 'Space',\n    }),\n    [],\n  );\n\n  return (\n    <ListSet\n      mode=\"ol\"\n      active={isActive}\n      testid=\"bi-toolbar-ollist\"\n      disabled={!!isDisabled}\n      defaultListStyle={listStyleType}\n      onChange={handleClick}\n      onClick={handleClick}\n      role={ListRole.listOrdered}\n      title={locale.orderedList}\n      tooltip={tooltip}\n      {...rest}\n    />\n  );\n}\n"],"file":"orderedListButton.js"}