{"version":3,"sources":["../../../../src/bi/utils/isFirstInCurrentLevel.ts"],"names":["isFirstInCurrentLevel","value","currentItem","document","curList","data","list","prev","getPreviousBlock","key","prevList","listId","level"],"mappings":";;;;;;;;;AACA;;AAEe,SAASA,qBAAT,CAA+BC,KAA/B,EAA6CC,WAA7C,EAAiE;AAC9E,QAAM;AAAEC,IAAAA;AAAF,MAAeF,KAArB;AACA,QAAMG,OAAO,GAAGF,WAAW,CAACG,IAAZ,EAAkBC,IAAlC;AACA,MAAIC,IAAI,GAAGJ,QAAQ,CAACK,gBAAT,CAA0BN,WAAW,CAACO,GAAtC,CAAX;;AAEA,SAAMF,IAAN,EAAY;AACV,UAAMG,QAAQ,GAAGH,IAAI,CAACF,IAAL,EAAWC,IAA5B;;AACA,QAAI,qBAAOC,IAAP,KAAgBG,QAAQ,CAACC,MAAT,KAAoBP,OAAO,CAACO,MAAhD,EAAwD;AACtD,aAAOD,QAAQ,CAACE,KAAT,GAAiBR,OAAO,CAACQ,KAAhC;AACD;;AACDL,IAAAA,IAAI,GAAGJ,QAAQ,CAACK,gBAAT,CAA0BD,IAAI,CAACE,GAA/B,CAAP;AACD;;AAED,SAAO,IAAP;AACD","sourcesContent":["import { Block, Value } from '@ali/4ever-cangjie';\nimport isList from './isList';\n\nexport default function isFirstInCurrentLevel(value: Value, currentItem: Block) {\n  const { document } = value;\n  const curList = currentItem.data?.list;\n  let prev = document.getPreviousBlock(currentItem.key);\n\n  while(prev) {\n    const prevList = prev.data?.list;\n    if (isList(prev) && prevList.listId === curList.listId) {\n      return prevList.level < curList.level;\n    }\n    prev = document.getPreviousBlock(prev.key);\n  }\n\n  return true;\n}"],"file":"isFirstInCurrentLevel.js"}