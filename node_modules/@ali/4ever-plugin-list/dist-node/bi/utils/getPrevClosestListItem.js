"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _getMatchLevel = _interopRequireDefault(require("./getMatchLevel"));

var _default = (value, currentItem, config = {}) => {
  const {
    document
  } = value;
  const level = (0, _getMatchLevel.default)(currentItem);
  let prevBlock = document.getPreviousNode(currentItem.key);

  while (prevBlock) {
    const listConfig = prevBlock?.data?.list;

    if (listConfig && listConfig.level !== undefined) {
      if (config.unLimitLevel || listConfig?.level === level) {
        const isSameType = !listConfig.isTaskList && listConfig.isOrdered === config.isOrdered;

        if (config.isOrdered === undefined || isSameType) {
          return prevBlock;
        } else {
          prevBlock = document.getPreviousNode(prevBlock.key);
          continue;
        }
      }
    }

    prevBlock = document.getPreviousNode(prevBlock.key);
  }

  return null;
};

exports.default = _default;
//# sourceMappingURL=getPrevClosestListItem.js.map