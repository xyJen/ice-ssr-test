"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _default = (value, currentItem, offset) => {
  const {
    document
  } = value;
  const curListConfig = currentItem?.data?.list;
  if (!curListConfig) return null;
  const {
    listId: curListId,
    level: curLevel
  } = curListConfig;
  if (!curListId) return null;
  let prevBlock = document.getPreviousNode(currentItem.key);

  while (prevBlock) {
    const listConfig = prevBlock?.data?.list;

    if (listConfig) {
      const {
        listId,
        level
      } = listConfig; // 当增加缩进，列表项前边无可继承样式的节点时，使用当前列表项的样式

      if (offset > 0 && level <= curLevel) return null;

      if (listId === curListId && level === curLevel + offset) {
        // 继承离当前项最近，且listId相同的列表项样式
        return prevBlock;
      }
    }

    prevBlock = document.getPreviousNode(prevBlock.key);
  }

  return null;
};

exports.default = _default;
//# sourceMappingURL=getPrevLevelItem.js.map