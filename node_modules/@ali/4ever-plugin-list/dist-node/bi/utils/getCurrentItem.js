"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everUtils = require("@ali/4ever-utils");

var _default = controller => {
  const tableSelection = controller.query('tableSelection');
  const {
    document,
    selection
  } = controller.value;
  const ranges = tableSelection ? (0, _everUtils.generateRangesFromTableSelection)(controller, [tableSelection]) : [selection];
  const blocks = ranges?.reduce((list, range) => {
    const nodes = document.getLeafBlocksAtRange(range);
    return list.concat(nodes);
  }, []);
  const paragraphs = blocks?.map(block => (0, _everUtils.getClosestParagraph)(controller.value, block));
  return paragraphs || [];
};

exports.default = _default;
//# sourceMappingURL=getCurrentItem.js.map