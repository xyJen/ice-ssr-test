"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ua_1 = require("../../../util/ua");
var shared_1 = require("../../../constants/platform/shared");
var getEnv_1 = require("../platform/getEnv");
var shared_2 = require("../../../constants/runtime/shared");
var hasWebRenderAbility_1 = require("../../../util/hasWebRenderAbility");
var cache;
function is() {
    if (cache === undefined) {
        if (ua_1.default().indexOf(shared_1.IDEKeywords) > -1) {
            // IDE 内
            cache = shared_2.APP_TYPE.MINI_APP;
        }
        else {
            // dingtalk 内 && miniAppRuntime && !hasRenderAbility
            cache = (shared_1.miniAppRuntimeReg.test(ua_1.default()) && getEnv_1.getEnv().isDingTalk && !hasWebRenderAbility_1.hasWebRenderAbility()) ? shared_2.APP_TYPE.MINI_APP : false;
        }
    }
    return cache;
}
exports.is = is;
