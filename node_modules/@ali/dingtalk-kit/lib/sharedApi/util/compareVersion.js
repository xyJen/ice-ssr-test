"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var caches = {};
var cacheIntArray = {};
function toIntArray(v) {
    if (cacheIntArray[v]) {
        return cacheIntArray[v];
    }
    var ret = [];
    var version = v.split('.');
    for (var i = 0; i < version.length; i++) {
        ret.push(parseInt(version[i], 10));
    }
    cacheIntArray[v] = ret;
    return ret;
}
function compareVersion(version, targetVersion) {
    if (version && targetVersion) {
        var key = version + "__" + targetVersion;
        if (key in caches) {
            return caches[key];
        }
        var versionNumList = toIntArray(version);
        var targetVersionNumList = toIntArray(targetVersion);
        for (var i = 0, n1 = void 0, n2 = void 0; i < versionNumList.length; i++) {
            n1 = targetVersionNumList[i] || 0;
            n2 = versionNumList[i] || 0;
            if (n1 > n2) {
                caches[key] = -1;
                break;
            }
            if (n1 < n2) {
                caches[key] = 1;
                break;
            }
        }
        caches[key] = caches[key] || 0;
        return caches[key];
    }
    return 0;
}
exports.compareVersion = compareVersion;
