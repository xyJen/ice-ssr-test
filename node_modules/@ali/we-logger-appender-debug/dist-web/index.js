import e from"@babel/runtime/helpers/extends";import o from"@babel/runtime/helpers/inheritsLoose";import{Level as n,NoopAppender as t}from"@ali/we-logger-main";import{toString as i}from"@ali/we-logger-utils";import s from"debug";var r,a=((r={})[n.TRACE]=console.trace.bind(console),r[n.DEBUG]=console.debug.bind(console),r[n.INFO]=console.info.bind(console),r[n.WARN]=console.warn.bind(console),r[n.ERROR]=console.error.bind(console),r[n.FATAL]=console.error.bind(console),r),u=function(t){function r(e){var o;return(o=t.call(this)||this)._ignoreFunction=void 0,o._baseInfo={},o.debug=void 0,o.setName(e),o}o(r,t);var u=r.prototype;return u.setName=function(e){this.debug=s(e)},u.setupIgnore=function(e){this._ignoreFunction=e},u.ignore=function(e,o){return!!this._ignoreFunction&&this._ignoreFunction(e,o)},u.setBaseInfo=function(o){void 0===o&&(o={}),this._baseInfo=e({},this._baseInfo,o)},u.sum=function(e){var o="[sum]"+this._generateBaseInfoText()+":: "+e;this.debug(o)},u.avg=function(e,o){void 0===o&&(o=0);var n="[avg]"+this._generateBaseInfoText()+":: "+e+" - "+o;this.debug(n)},u.log=function(e,o,t){var s=this.debug.log,r=a[e]||a[n.INFO];this.debug.log=r,this.debug("[log]["+n[e].toLowerCase()+"]"+this._generateBaseInfoText()+"["+o+"]:: "+i(t)),this.debug.log=s},u.api=function(e){var o=e.api,n=e.success,t=e.time,i=e.code,s=(e.msg,"[api]"+this._generateBaseInfoText()+":: "+o+" "+n+" "+i+" "+t);this.debug(s)},u._generateBaseInfoText=function(){var e=this;if(!this._baseInfo)return"";var o=Object.keys(this._baseInfo);return o.length?o.map((function(o){return"["+o+":"+e._baseInfo[o]+"]"})).join(""):""},r}(t);export default u;
