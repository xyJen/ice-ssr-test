"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,o=require("@ali/we-logger-main"),s=require("@ali/we-logger-utils"),t=(e=require("debug"))&&"object"==typeof e&&"default"in e?e.default:e;const n={[o.Level.TRACE]:console.trace.bind(console),[o.Level.DEBUG]:console.debug.bind(console),[o.Level.INFO]:console.info.bind(console),[o.Level.WARN]:console.warn.bind(console),[o.Level.ERROR]:console.error.bind(console),[o.Level.FATAL]:console.error.bind(console)};class i extends o.NoopAppender{constructor(e){super(),this._ignoreFunction=void 0,this._baseInfo={},this.debug=void 0,this.setName(e)}setName(e){this.debug=t(e)}setupIgnore(e){this._ignoreFunction=e}ignore(e,o){return!!this._ignoreFunction&&this._ignoreFunction(e,o)}setBaseInfo(e={}){this._baseInfo={...this._baseInfo,...e}}sum(e){const o=`[sum]${this._generateBaseInfoText()}:: ${e}`;this.debug(o)}avg(e,o=0){const s=`[avg]${this._generateBaseInfoText()}:: ${e} - ${o}`;this.debug(s)}log(e,t,i){const r=this.debug.log,a=n[e]||n[o.Level.INFO];this.debug.log=a,this.debug(`[log][${o.Level[e].toLowerCase()}]${this._generateBaseInfoText()}[${t}]:: ${s.toString(i)}`),this.debug.log=r}api(e){const{api:o,success:s,time:t,code:n,msg:i}=e,r=`[api]${this._generateBaseInfoText()}:: ${o} ${s} ${n} ${t}`;this.debug(r)}_generateBaseInfoText(){if(!this._baseInfo)return"";const e=Object.keys(this._baseInfo);if(!e.length)return"";return e.map(e=>`[${e}:${this._baseInfo[e]}]`).join("")}}exports.default=i;
