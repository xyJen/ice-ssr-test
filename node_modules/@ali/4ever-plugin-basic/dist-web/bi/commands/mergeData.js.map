{"version":3,"sources":["../../../../src/bi/commands/mergeData.ts"],"names":["merge","target","source","Object","keys","reduce","tgt","key","mergeData","controller","data","value","setData"],"mappings":";;AAGA,SAASA,KAAT,CAAeC,MAAf,EAAkCC,MAAlC,EAAqD;AACnD,SAAOC,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,MAApB,CAA2B,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA;;AAC9C,QAAIA,GAAG,KAAK,SAAZ,EAAuB;AACrB,aAAOD,GAAP;AACD;;AACD,wBAAYA,GAAZ,6BAAkBC,GAAlB,IAAwBL,MAAM,CAACK,GAAD,CAA9B;AACD,GALM,EAKJN,MALI,CAAP;AAMD;;AAED,eAAe,SAASO,SAAT,CAAmBC,UAAnB,EAA2CC,IAA3C,EAA4D;AAAA,MACjEC,KADiE,GACvDF,UADuD,CACjEE,KADiE;AAEzE,SAAOF,UAAU,CAACG,OAAX,CAAmBZ,KAAK,CAACW,KAAK,CAACD,IAAP,EAAaA,IAAb,CAAxB,CAAP;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { ValueData } from '../actions/mergeData';\n\nfunction merge(target: ValueData, source: ValueData) {\n  return Object.keys(source).reduce((tgt, key) => {\n    if (key === 'history') {\n      return tgt;\n    }\n    return { ...tgt, [key]: source[key] };\n  }, target);\n}\n\nexport default function mergeData(controller: Controller, data: ValueData) {\n  const { value } = controller;\n  return controller.setData(merge(value.data, data));\n}\n"],"file":"mergeData.js"}