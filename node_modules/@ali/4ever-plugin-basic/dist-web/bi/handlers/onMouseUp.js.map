{"version":3,"sources":["../../../../src/bi/handlers/onMouseUp.ts"],"names":["constants","createValidateLastNodeAction","Selector","onMouseUp","event","controller","next","target","editableNode","HTMLElement","querySelector","editable","clientY","getBoundingClientRect","bottom","run"],"mappings":"AAAA,SAAqBA,SAArB,QAAsC,oBAAtC;AACA,SAASC,4BAAT;IAEQC,Q,GAAaF,S,CAAbE,Q;AAER,eAAe,SAASC,SAAT,CACbC,KADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AAAA,MACQC,MADR,GACmBH,KADnB,CACQG,MADR;AAEA,MAAMC,YAAY,GAChBD,MAAM,YAAYE,WAAlB,IACAF,MAAM,CAACG,aAAP,OAAyBR,QAAQ,CAACS,QAAlC,OAFF;;AAGA,MAAIH,YAAJ,EAAkB;AAAA,QACRI,OADQ,GACIR,KADJ,CACRQ,OADQ;;AAAA,gCAEGJ,YAAY,CAACK,qBAAb,EAFH;AAAA,QAERC,MAFQ,yBAERA,MAFQ;;AAGhB,QAAIF,OAAO,IAAIE,MAAf,EAAuB;AACrBT,MAAAA,UAAU,CAACU,GAAX,CAAe,UAAf,EAA2Bd,4BAA4B,EAAvD;AACD;AACF;;AAED,SAAOK,IAAI,EAAX;AACD","sourcesContent":["import { Controller, constants } from '@ali/4ever-cangjie';\nimport { createValidateLastNodeAction } from '../actions';\n\nconst { Selector } = constants;\n\nexport default function onMouseUp(\n  event: React.MouseEvent,\n  controller: Controller,\n  next,\n) {\n  const { target } = event;\n  const editableNode =\n    target instanceof HTMLElement &&\n    target.querySelector(`[${Selector.editable}]`);\n  if (editableNode) {\n    const { clientY } = event;\n    const { bottom } = editableNode.getBoundingClientRect();\n    if (clientY >= bottom) {\n      controller.run('onAction', createValidateLastNodeAction());\n    }\n  }\n\n  return next();\n}\n"],"file":"onMouseUp.js"}