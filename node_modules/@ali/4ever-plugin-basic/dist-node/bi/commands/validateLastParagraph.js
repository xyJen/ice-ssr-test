"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = validateLastParagraph;

var _everCangjie = require("@ali/4ever-cangjie");

var _everPluginParagraph = require("@ali/4ever-plugin-paragraph");

function validateLastParagraph(controller) {
  const {
    document
  } = controller.value;
  const lastNode = document.nodes[document.nodes.length - 1];

  if (_everPluginParagraph.Paragraph.isParagraph(lastNode)) {
    return controller;
  }

  const newParagraph = _everPluginParagraph.Paragraph.create({
    nodes: [_everCangjie.Text.create('')]
  });

  return controller.command(_everCangjie.Commands.insertNodeByKey, document.key, document.nodes.length, newParagraph).command(_everCangjie.Commands.moveToStartOfNode, newParagraph).command(_everCangjie.Commands.focus);
}
//# sourceMappingURL=validateLastParagraph.js.map