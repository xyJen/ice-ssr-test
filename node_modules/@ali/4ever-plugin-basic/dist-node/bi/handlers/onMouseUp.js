"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = onMouseUp;

var _everCangjie = require("@ali/4ever-cangjie");

var _actions = require("../actions");

const {
  Selector
} = _everCangjie.constants;

function onMouseUp(event, controller, next) {
  const {
    target
  } = event;
  const editableNode = target instanceof HTMLElement && target.querySelector(`[${Selector.editable}]`);

  if (editableNode) {
    const {
      clientY
    } = event;
    const {
      bottom
    } = editableNode.getBoundingClientRect();

    if (clientY >= bottom) {
      controller.run('onAction', (0, _actions.createValidateLastNodeAction)());
    }
  }

  return next();
}
//# sourceMappingURL=onMouseUp.js.map