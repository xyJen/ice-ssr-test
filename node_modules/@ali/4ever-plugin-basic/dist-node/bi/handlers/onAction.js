"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = onAction;

var _everCangjie = require("@ali/4ever-cangjie");

var _index = require("../actions/index");

var _validateLastParagraph = _interopRequireDefault(require("../commands/validateLastParagraph"));

var _insertBlockWithoutExtraBlank = _interopRequireDefault(require("../commands/insertBlockWithoutExtraBlank"));

var _mergeData = _interopRequireDefault(require("../commands/mergeData"));

function onAction(action, controller, next) {
  if ((0, _index.isFocusToNodeAction)(action)) {
    const {
      node
    } = action.payload;
    return controller.command(_everCangjie.Commands.moveToStartOfNode, node).command(_everCangjie.Commands.focus);
  } else if ((0, _index.isValidateLastNodeAction)(action)) {
    return controller.command(_validateLastParagraph.default);
  } else if ((0, _index.isInsertBlockWithoutExtraBlankAction)(action)) {
    return controller.command(_insertBlockWithoutExtraBlank.default, action.payload.node);
  } else if ((0, _index.isMergeDataAction)(action)) {
    return controller.command(_mergeData.default, action.payload);
  }

  return next();
}
//# sourceMappingURL=onAction.js.map