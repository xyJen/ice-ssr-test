{"version":3,"sources":["../../../../src/utils/hooks/useFocusImage.ts"],"names":["useFocusImage","controller","value","selection","document","node","React","useMemo","isCollapsed","focus","getClosestVoid","key","Image","isImage"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEe,SAASA,aAAT,CAAwBC,UAAxB,EAAgD;AAC7D,QAAM;AAAEC,IAAAA;AAAF,MAAYD,UAAlB;AACA,QAAM;AAAEE,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA0BF,KAAhC;;AACA,QAAMG,IAAI,GAAGC,eAAMC,OAAN,CAAc,MAAM;AAC/B,UAAM;AAAEC,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAAyBN,SAA/B;;AACA,QAAIK,WAAJ,EAAiB;AACf,YAAMH,IAAI,GAAGD,QAAQ,CAACM,cAAT,CAAwBD,KAAK,CAACE,GAA9B,EAAmCV,UAAnC,CAAb;AACA,aAAOW,gBAAMC,OAAN,CAAcR,IAAd,IAAsBA,IAAtB,GAA6B,IAApC;AACD;;AACD,WAAO,IAAP;AACD,GAPY,EAOV,CAACJ,UAAD,EAAaG,QAAb,EAAuBD,SAAvB,CAPU,CAAb;;AAQA,SAAOE,IAAP;AACD","sourcesContent":["import React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport Image from '../../mo/models';\n\nexport default function useFocusImage (controller: Controller) {\n  const { value } = controller;\n  const { selection, document } = value;\n  const node = React.useMemo(() => {\n    const { isCollapsed, focus } = selection;\n    if (isCollapsed) {\n      const node = document.getClosestVoid(focus.key, controller);\n      return Image.isImage(node) ? node : null;\n    }\n    return null;\n  }, [controller, document, selection]);\n  return node;\n}\n"],"file":"useFocusImage.js"}