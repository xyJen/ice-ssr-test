"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ComplexImage = exports.MetaImgFrame = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _calcComplexImage = _interopRequireDefault(require("../../utils/calcComplexImage"));

var _constants = require("../../constants");

var _MetaImage = require("./MetaImage");

const _createElement = /*#__PURE__*/_react.default.createElement;

const MetaImgRotate = /*#__PURE__*/_styledComponents.default.div(["position:relative;"]);

const MetaImgFrame = /*#__PURE__*/_styledComponents.default.div(["position:absolute;left:0;top:0;&::after{position:absolute;width:100%;height:100%;left:0;top:0;border-color:transparent;pointer-events:none;content:'';}"]);

exports.MetaImgFrame = MetaImgFrame;

const ComplexImage = props => {
  const {
    data,
    isAutoFit,
    style: styleProp,
    ...rest
  } = props;
  const {
    rotateStyle,
    frameStyle,
    imgStyle
  } = (0, _calcComplexImage.default)(data, isAutoFit);
  return /*#__PURE__*/_createElement(MetaImgRotate, {
    "data-testid": "image-complex-wrapper",
    className: "cangjie-image-wrapper cangjie-image-complex-wrapper",
    style: rotateStyle
  }, /*#__PURE__*/_createElement(MetaImgFrame, {
    style: frameStyle,
    className: `${_constants.IMAGE_DATA_WRAPPER_CLASS_NAME} ${_constants.IMAGE_EDIT_BORDER}`
  }, /*#__PURE__*/_createElement(_MetaImage.MetaImage, (0, _extends2.default)({
    data: data,
    style: { ...styleProp,
      ...imgStyle
    }
  }, rest))));
};

exports.ComplexImage = ComplexImage;
//# sourceMappingURL=ComplexImage.js.map