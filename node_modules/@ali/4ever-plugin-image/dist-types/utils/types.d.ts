/// <reference types="react" />
import type { Inline } from "@ali/4ever-cangjie";
import type { ImageData } from "../mo/models";
export interface IImageLocale {
    imageTitle: string;
}
export interface ImageConfig {
    locale: IImageLocale;
    protocolAllowList?: string[];
}
export declare type ITransferImageURL = (url: string) => Promise<{
    url: string;
    extraData?: any;
}>;
export declare type FilterDataItem = 'outline' | 'rectClip' | 'rotation' | 'radius' | 'shadow' | 'extraData';
declare type TransformImageURLRes = string | {
    renderSrc: string;
    forceUpdatedData?: ImageData;
};
export interface ImagePluginConfig {
    /**
     * 国际化字符串
     */
    locale?: ILocale | Record<string, any>;
    /**
     * 用户点击了图片预览；不传入的话，不会显示预览按钮。
     */
    previewImage?: (url: string, node: Inline) => void;
    /**
     * 用户点击了图片下载；不传入的情况，不会显示下载按钮。
     */
    downloadImage?: (url: string) => void;
    /**
     * 根据URL，获取 ImageSize。适用于图片占位的场景。
     */
    getImageSizeFromURL?: (url: string) => {
        width: number;
        height: number;
    };
    /**
     * 替换URL。在 bi 中也可以在此处修正数据，res.forceUpdatedData 会覆盖现有的数据, res.renderSrc 替换渲染的 URL，但在 zhi 中则不会覆盖
     */
    transformImageURL?: (url: string, node: Inline) => TransformImageURLRes | Promise<TransformImageURLRes>;
    /**
     * 用户拷贝一波外链图片时，是否对图片进行转存。
     *
     * 顺序：imageList.shouldTransferImageURL -> transferImageURL
     */
    shouldTransferImageURL?: (url: string) => boolean;
    /**
      * 拷贝外链时候，对图片进行转存。
      */
    transferImageURL?: ITransferImageURL;
    /**
     * 图片组件初始化结束。
     */
    onInit?: (url: string) => void;
    /**
     * 图片加载成功。
     */
    onLoad?: (url: string, loadSpendTime: number, data: ImageData) => void;
    /**
     * 图片加载失败。
     */
    onError?: (url: string | undefined, extraData?: any) => void | string;
    /**
     * 允许图片懒加载，并在图片离开视口后销毁
     * 默认关闭
     */
    enableLazyLoad?: boolean;
    /**
     * 自定义图片加载中和图片加载失败效果
     */
    renderLoading?: (isError: boolean) => React.ReactNode;
    /**
     * 禁用图片自适应，自适应时图片不会超过纸张, 默认开启自适应
     */
    disableStretchMode?: () => boolean;
    /**
     * 在iOS上一直按住一个目标元素时，Safari会展示一个关于这个链接的callout信息
     * 此属性设置移动端是否禁用原生的长按菜单，达到禁用下载的效果
     */
    disableNativeDownload?: () => boolean;
    /**
     * 自定义合法协议白名单，例如：[http:, https:, blob:]
     */
    protocolAllowList?: string[];
    /**
     * 在粘贴时过滤掉一些data 数据
     */
    filterDataList?: FilterDataItem[];
    /**
     * 不渲染加载态，直接渲染图片，适用于 ssr 场景
     */
    forceRenderDirectly?: (src: string, node: Inline) => string;
}
export interface ILocale {
    /**
     * 默认：「本地上传」
     */
    upload?: string;
    /**
     * 默认：「图片」
     */
    quickInsertTitle?: string;
    /**
     * 默认：「插入图片」
     */
    buttonTitle?: string;
    /**
     * 默认：「预览」
     */
    previewImg?: string;
    /**
     * 默认：「删除」
     */
    deleteImg?: string;
    /**
     * 默认：「下载」
     */
    downloadImg?: string;
    /**
     * 默认：「顺时针旋转」
     */
    rotate?: string;
    /**
     * 默认：「逆时针旋转」
     */
    rotateAntiClockwise?: string;
    /**
     * 默认：「旋转角度」
     */
    rotateInput?: string;
    /**
     * 默认：「旋转90°」
     */
    rotate90?: string;
    /**
     * 默认：「裁剪」
     */
    cropping?: string;
    /**
     * 默认：「边框样式」
     */
    border?: {
        /**
         * 默认：「样式」
         */
        borderInput?: string;
        /**
         * 默认：「边框样式」
         */
        style?: string;
        /**
         * 默认：「边框设置」
         */
        setting?: string;
        /**
         * 默认：「边框粗细」
         */
        weight?: string;
        color?: {
            /**
             * 默认：「边框颜色」
             */
            buttonTitle?: string;
            /**
             * 默认：「默认颜色」
             */
            defaultText?: string;
            /**
             * 默认：「更多颜色」
             */
            customText?: string;
            /**
             * 默认：「确定」
             */
            chooseText?: string;
        };
    };
    /**
     * 默认：「宽度」
     */
    width?: string;
    /**
     * 默认：「高度」
     */
    height?: string;
    /**
     * 默认：「圆角」
     */
    radius?: string;
    /**
     * 默认：「还原图片」
     */
    resetTitle?: string;
    /**
     * 默认：「加载失败，点击重试」
     */
    reloadTips?: string;
    /**
     * 默认：「请选择图片查看布局参数」
     */
    selectImageTip?: string;
    /**
     * 默认： 「图片设置」
     */
    options?: string;
    /**
     * 默认： 「高级设置」
     */
    advancedSettings?: string;
    /**
     * 默认：「锁定宽高比例」
     */
    lockRatio?: string;
    /**
     * 默认：「大小和样式」
     */
    sizeAndStyle?: string;
    /**
     * 默认：「推荐样式」
     */
    recommendStyle?: string;
    /**
     * 默认：「对齐方式」
     */
    alignment?: string;
    /**
     * 默认：「添加图片链接」
     */
    addLink?: string;
    /**
     * 默认：「样式设置」
     */
    styleOptions?: string;
    /**
     * 默认：「恢复默认」
     */
    clearStyle?: string;
    /**
     * 默认：「图片」
     */
    placeholder?: string;
}
declare module '@ali/4ever-cangjie' {
    interface MoPluginConfig {
        image?: ImageConfig;
    }
}
export {};
