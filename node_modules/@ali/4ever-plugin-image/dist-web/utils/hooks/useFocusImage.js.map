{"version":3,"sources":["../../../../src/utils/hooks/useFocusImage.ts"],"names":["React","Image","useFocusImage","controller","value","selection","document","node","useMemo","isCollapsed","focus","getClosestVoid","key","isImage"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP;AAEA,eAAe,SAASC,aAAT,CAAwBC,UAAxB,EAAgD;AAAA,MACrDC,KADqD,GAC3CD,UAD2C,CACrDC,KADqD;AAAA,MAErDC,SAFqD,GAE7BD,KAF6B,CAErDC,SAFqD;AAAA,MAE1CC,QAF0C,GAE7BF,KAF6B,CAE1CE,QAF0C;AAG7D,MAAMC,IAAI,GAAGP,KAAK,CAACQ,OAAN,CAAc,YAAM;AAAA,QACvBC,WADuB,GACAJ,SADA,CACvBI,WADuB;AAAA,QACVC,KADU,GACAL,SADA,CACVK,KADU;;AAE/B,QAAID,WAAJ,EAAiB;AACf,UAAMF,KAAI,GAAGD,QAAQ,CAACK,cAAT,CAAwBD,KAAK,CAACE,GAA9B,EAAmCT,UAAnC,CAAb;;AACA,aAAOF,KAAK,CAACY,OAAN,CAAcN,KAAd,IAAsBA,KAAtB,GAA6B,IAApC;AACD;;AACD,WAAO,IAAP;AACD,GAPY,EAOV,CAACJ,UAAD,EAAaG,QAAb,EAAuBD,SAAvB,CAPU,CAAb;AAQA,SAAOE,IAAP;AACD","sourcesContent":["import React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport Image from '../../mo/models';\n\nexport default function useFocusImage (controller: Controller) {\n  const { value } = controller;\n  const { selection, document } = value;\n  const node = React.useMemo(() => {\n    const { isCollapsed, focus } = selection;\n    if (isCollapsed) {\n      const node = document.getClosestVoid(focus.key, controller);\n      return Image.isImage(node) ? node : null;\n    }\n    return null;\n  }, [controller, document, selection]);\n  return node;\n}\n"],"file":"useFocusImage.js"}