{"version":3,"sources":["../../../../src/bi/latency/createOnPaste.ts"],"names":["tester","logger","createOnPaste","onPaste","event","controller","next","clipboardData","sum","isDingDocs","isDingSheet","isMicrosoftOffice","hasImage","isGoogleDocs","isShimoDocs","isYuqueDocs","isVsCode","hasTextHtml"],"mappings":"AACA,OAAO,KAAKA,MAAZ;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,aAAT,GAA4C;AACzD,SAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,UAAxB,EAAoCC,IAApC,EAA0C;AAAA,QACvCC,aADuC,GACrBH,KADqB,CACvCG,aADuC,EAG/C;;AACAN,IAAAA,MAAM,CAACO,GAAP,CAAW,cAAX;;AACA,QAAIR,MAAM,CAACS,UAAP,CAAkBF,aAAlB,CAAJ,EAAsC;AACpCN,MAAAA,MAAM,CAACO,GAAP,CAAW,sBAAX;AACD,KAFD,MAEO,IAAIR,MAAM,CAACU,WAAP,CAAmBH,aAAnB,CAAJ,EAAuC;AAC5CN,MAAAA,MAAM,CAACO,GAAP,CAAW,uBAAX;AACD,KAFM,MAEA,IAAIR,MAAM,CAACW,iBAAP,CAAyBJ,aAAzB,CAAJ,EAA6C;AAClDN,MAAAA,MAAM,CAACO,GAAP,CAAW,sBAAX;AACD,KAFM,MAEA,IAAIR,MAAM,CAACY,QAAP,CAAgBL,aAAhB,CAAJ,EAAoC;AACzCN,MAAAA,MAAM,CAACO,GAAP,CAAW,gBAAX;AACD,KAFM,MAEA,IAAIR,MAAM,CAACa,YAAP,CAAoBN,aAApB,CAAJ,EAAwC;AAC7CN,MAAAA,MAAM,CAACO,GAAP,CAAW,wBAAX;AACD,KAFM,MAEA,IAAIR,MAAM,CAACc,WAAP,CAAmBP,aAAnB,CAAJ,EAAuC;AAC5CN,MAAAA,MAAM,CAACO,GAAP,CAAW,uBAAX;AACD,KAFM,MAEA,IAAIR,MAAM,CAACe,WAAP,CAAmBR,aAAnB,CAAJ,EAAuC;AAC5CN,MAAAA,MAAM,CAACO,GAAP,CAAW,uBAAX;AACD,KAFM,MAEA,IAAIR,MAAM,CAACgB,QAAP,CAAgBT,aAAhB,CAAJ,EAAoC;AACzCN,MAAAA,MAAM,CAACO,GAAP,CAAW,oBAAX;AACD,KAFM,MAEA,IAAIR,MAAM,CAACiB,WAAP,CAAmBV,aAAnB,CAAJ,EAAuC;AAC5CN,MAAAA,MAAM,CAACO,GAAP,CAAW,sBAAX;AACD,KAFM,MAEA;AACLP,MAAAA,MAAM,CAACO,GAAP,CAAW,uBAAX;AACD;;AAED,WAAOF,IAAI,EAAX;AACD,GA5BD;AA6BD","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport * as tester from '../../utils/tester';\nimport logger from '@ali/4ever-logger';\n/**\n * 该插件只分析数据，不做业务处理\n * @param config\n */\nexport default function createOnPaste(): Plugin['onPaste'] {\n  return function onPaste(event, controller, next) {\n    const { clipboardData } = event;\n\n    // 上报拷贝数据来源\n    logger.sum('paste_action');\n    if (tester.isDingDocs(clipboardData)) {\n      logger.sum('paste_from_ding_docs');\n    } else if (tester.isDingSheet(clipboardData)) {\n      logger.sum('paste_from_ding_sheet');\n    } else if (tester.isMicrosoftOffice(clipboardData)) {\n      logger.sum('paste_from_ms_office');\n    } else if (tester.hasImage(clipboardData)) {\n      logger.sum('paste_from_img');\n    } else if (tester.isGoogleDocs(clipboardData)) {\n      logger.sum('paste_from_google_docs');\n    } else if (tester.isShimoDocs(clipboardData)) {\n      logger.sum('paste_from_shimo_docs');\n    } else if (tester.isYuqueDocs(clipboardData)) {\n      logger.sum('paste_from_yuque_docs');\n    } else if (tester.isVsCode(clipboardData)) {\n      logger.sum('paste_from_vs_code');\n    } else if (tester.hasTextHtml(clipboardData)) {\n      logger.sum('paste_from_text_html');\n    } else {\n      logger.sum('paste_from_text_plain');\n    }\n\n    return next();\n  };\n}\n"],"file":"createOnPaste.js"}