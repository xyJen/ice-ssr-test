{"version":3,"sources":["../../../../src/bi/handlers/createOnEditable.tsx"],"names":["React","ClipboardPad","LazyPastePanel","createOnEditable","clipboard","mounted","props","controller","next","customPanel","value","data","clipboardPad","getCachedClipboardPad","key","initPluginModels","locale","beforeInsertMarkdown","afterInsertMarkdown","getContainer"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAE5B,OAAOC,YAAP;AACA,OAAOC,cAAP;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CACvBC,SADuB,EAEpB;AACH,MAAIC,OAAO,GAAG,IAAd;AACA,SAAO,UACLC,KADK,EAELC,UAFK,EAGLC,IAHK,EAIF;AAAA,QACKC,WADL,GACqBF,UAAU,CAACG,KAAX,CAAiBC,IADtC,CACKF,WADL;AAEH,QAAMG,YAAY,GAAGX,YAAY,CAACY,qBAAb,CAAmCT,SAAnC,oBAAmCA,SAAS,CAAEU,GAA9C,CAArB;;AAEA,QAAIT,OAAJ,EAAa;AACXO,MAAAA,YAAY,QAAZ,YAAAA,YAAY,CAAEG,gBAAd,CAA+BR,UAA/B;AACAF,MAAAA,OAAO,GAAG,KAAV;AACD;;AAED,wBACE,qCACGG,IAAI,EADP,eAEE,eAAC,cAAD;AACE,MAAA,MAAM,EAAEJ,SADV;AAEE,MAAA,WAAW,EAAEK,WAFf;AAGE,MAAA,UAAU,EAAEF,UAHd;AAIE,MAAA,YAAY,EAAEK,YAJhB;AAKE,MAAA,MAAM,EAAER,SAAS,CAACY,MALpB;AAME,MAAA,oBAAoB,EAAEZ,SAAS,CAACa,oBANlC;AAOE,MAAA,mBAAmB,EAAEb,SAAS,CAACc,mBAPjC;AAQE,MAAA,YAAY,EAAEd,SAAS,CAACe;AAR1B,MAFF,CADF;AAeD,GA5BD;AA6BD,CAjCD;;AAmCA,eAAehB,gBAAf","sourcesContent":["import React from 'react';\nimport { Controller, RenderEditableProps } from '@ali/4ever-cangjie';\nimport { ClipboardPluginConfig } from '../../utils/types';\nimport ClipboardPad from '../../utils/ClipboardPad';\nimport LazyPastePanel from '../components/lazyPastePanel';\n\nconst createOnEditable = (\n  clipboard: ClipboardPluginConfig,\n) => {\n  let mounted = true;\n  return (\n    props: RenderEditableProps,\n    controller: Controller,\n    next: Function,\n  ) => {\n    const { customPanel } = controller.value.data;\n    const clipboardPad = ClipboardPad.getCachedClipboardPad(clipboard?.key);\n\n    if (mounted) {\n      clipboardPad?.initPluginModels(controller);\n      mounted = false;\n    }\n\n    return (\n      <>\n        {next()}\n        <LazyPastePanel\n          config={clipboard}\n          customPanel={customPanel}\n          controller={controller}\n          clipboardPad={clipboardPad}\n          locale={clipboard.locale}\n          beforeInsertMarkdown={clipboard.beforeInsertMarkdown}\n          afterInsertMarkdown={clipboard.afterInsertMarkdown}\n          getContainer={clipboard.getContainer}\n        />\n      </>\n    );\n  };\n};\n\nexport default createOnEditable;"],"file":"createOnEditable.js"}