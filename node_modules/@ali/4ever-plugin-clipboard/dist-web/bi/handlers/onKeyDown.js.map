{"version":3,"sources":["../../../../src/bi/handlers/onKeyDown.ts"],"names":["hideCustomPasteButton","isKeyHotkey","isMoveHotKey","event","map","key","some","isEvent","onKeyDown","controller","next","customPanel","value","data","preventDefault"],"mappings":"AAEA,OAAOA,qBAAP;AACA,SAASC,WAAT,QAA4B,WAA5B;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD;AAAA,SAAgC,CAAC,IAAD,EAAO,MAAP,EAAe,OAAf,EAClDC,GADkD,CAC9C,UAACC,GAAD;AAAA,WAASJ,WAAW,CAACI,GAAD,CAApB;AAAA,GAD8C,EAElDC,IAFkD,CAE7C,UAACC,OAAD;AAAA,WAAaA,OAAO,CAACJ,KAAD,CAApB;AAAA,GAF6C,CAAhC;AAAA,CAArB;;AAIA,eAAe,SAASK,SAAT,CACbL,KADa,EAEbM,UAFa,EAGbC,IAHa,EAIb;AAAA,MACQC,WADR,GACwBF,UAAU,CAACG,KAAX,CAAiBC,IADzC,CACQF,WADR;;AAEA,MAAIA,WAAW,IAAIT,YAAY,CAACC,KAAD,CAA/B,EAAwC;AACtC,WAAOA,KAAK,CAACW,cAAN,EAAP;AACD;;AACDd,EAAAA,qBAAqB,CAACS,UAAD,CAArB;AACA,SAAOC,IAAI,EAAX;AACD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport hideCustomPasteButton from '../utils/hideCustomPasteButton';\nimport { isKeyHotkey } from 'is-hotkey';\n\nconst isMoveHotKey = (event: React.KeyboardEvent) => ['up', 'down', 'enter']\n  .map((key) => isKeyHotkey(key))\n  .some((isEvent) => isEvent(event));\n\nexport default function onKeyDown(\n  event: React.KeyboardEvent,\n  controller: Controller,\n  next: Function,\n) {\n  const { customPanel } = controller.value.data;\n  if (customPanel && isMoveHotKey(event)) {\n    return event.preventDefault();\n  }\n  hideCustomPasteButton(controller);\n  return next();\n}\n"],"file":"onKeyDown.js"}