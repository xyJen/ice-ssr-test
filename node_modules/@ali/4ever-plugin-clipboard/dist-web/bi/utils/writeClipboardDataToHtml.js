import { DATA_CLIPBORAD_CANGJIE, SLASH_PLACEHOLDER } from '@ali/4ever-cangjie';
/**
 * @description 自定义的 mime type 数据，挂载到 html 上
 */

function writeClipboardDataToHtml(html, data) {
  if (!Array.isArray(data) || data.length === 0) {
    return html;
  }

  var domparser = new DOMParser();
  var root = domparser.parseFromString(html, 'text/html');
  var clipboardDataNode = root.querySelector("[" + DATA_CLIPBORAD_CANGJIE + "]");

  if (clipboardDataNode && root.body.firstElementChild === clipboardDataNode) {
    data.forEach(function (_ref) {
      var key = _ref[0],
          value = _ref[1];

      if (typeof key === 'string' && typeof value === 'string') {
        clipboardDataNode.setAttribute("data-identifier-" + key.replace(new RegExp('/', 'gm'), SLASH_PLACEHOLDER), value);
      }
    });
  }

  return root.body.innerHTML;
}

export default writeClipboardDataToHtml;
//# sourceMappingURL=writeClipboardDataToHtml.js.map