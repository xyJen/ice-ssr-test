{"version":3,"sources":["../../../../src/bi/utils/getAllCustomClipboardData.ts"],"names":["constants","CUSTOM_MIME_TYPES","customTypes","Set","Object","values","getAllCustomClipboardData","dataTransfer","types","mimeTypes","filter","t","has","map","type","getData"],"mappings":"AAAA,SAA8BA,SAA9B,QAA+C,oBAA/C;IAEQC,iB,GAAsBD,S,CAAtBC,iB;AACR,IAAMC,WAAW,GAAG,IAAIC,GAAJ,CAAQC,MAAM,CAACC,MAAP,CAAcJ,iBAAd,CAAR,CAApB;AAEA;AACA;AACA;;AACA,eAAe,SAASK,yBAAT,CACbC,YADa,EAEO;AACpB,MAAI,EAACA,YAAD,YAACA,YAAY,CAAEC,KAAf,CAAJ,EAA0B;AACxB,WAAO,EAAP;AACD;;AACD,MAAMC,SAAS,GAAGF,YAAY,CAACC,KAA/B;AACA,SAAOC,SAAS,CACbC,MADI,CACG,UAACC,CAAD;AAAA,WAAOT,WAAW,CAACU,GAAZ,CAAgBD,CAAhB,CAAP;AAAA,GADH,EAEJE,GAFI,CAEA,UAACC,IAAD,EAAU;AACb,WAAO,CAACA,IAAD,EAAiBP,YAAjB,oBAAiBA,YAAY,CAAEQ,OAAd,CAAsBD,IAAtB,CAAjB,CAAP;AACH,GAJM,CAAP;AAKD","sourcesContent":["import { CangjieDataTransfer, constants } from '@ali/4ever-cangjie';\n\nconst { CUSTOM_MIME_TYPES } = constants;\nconst customTypes = new Set(Object.values(CUSTOM_MIME_TYPES));\n\n/**\n * @description 获取剪切板上自定义的 mime type 数据\n */\nexport default function getAllCustomClipboardData(\n  dataTransfer: DataTransfer | CangjieDataTransfer | null,\n): [string, string][] {\n  if (!dataTransfer?.types) {\n    return [];\n  }\n  const mimeTypes = dataTransfer.types as string[];\n  return mimeTypes\n    .filter((t) => customTypes.has(t))\n    .map((type) => {\n      return [type as string, dataTransfer?.getData(type) as string];\n  });\n}\n"],"file":"getAllCustomClipboardData.js"}