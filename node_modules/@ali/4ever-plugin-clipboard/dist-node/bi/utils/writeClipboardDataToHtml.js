"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everCangjie = require("@ali/4ever-cangjie");

/**
 * @description 自定义的 mime type 数据，挂载到 html 上
 */
function writeClipboardDataToHtml(html, data) {
  if (!Array.isArray(data) || data.length === 0) {
    return html;
  }

  const domparser = new DOMParser();
  const root = domparser.parseFromString(html, 'text/html');
  const clipboardDataNode = root.querySelector(`[${_everCangjie.DATA_CLIPBORAD_CANGJIE}]`);

  if (clipboardDataNode && root.body.firstElementChild === clipboardDataNode) {
    data.forEach(([key, value]) => {
      if (typeof key === 'string' && typeof value === 'string') {
        clipboardDataNode.setAttribute(`data-identifier-${key.replace(new RegExp('/', 'gm'), _everCangjie.SLASH_PLACEHOLDER)}`, value);
      }
    });
  }

  return root.body.innerHTML;
}

var _default = writeClipboardDataToHtml;
exports.default = _default;
//# sourceMappingURL=writeClipboardDataToHtml.js.map