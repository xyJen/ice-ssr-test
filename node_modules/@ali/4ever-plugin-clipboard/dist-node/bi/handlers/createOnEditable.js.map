{"version":3,"sources":["../../../../src/bi/handlers/createOnEditable.tsx"],"names":["createOnEditable","clipboard","mounted","props","controller","next","customPanel","value","data","clipboardPad","ClipboardPad","getCachedClipboardPad","key","initPluginModels","locale","beforeInsertMarkdown","afterInsertMarkdown","getContainer"],"mappings":";;;;;;;;;AAAA;;AAGA;;AACA;;uBAH4B,a;;AAK5B,MAAMA,gBAAgB,GACpBC,SADuB,IAEpB;AACH,MAAIC,OAAO,GAAG,IAAd;AACA,SAAO,CACLC,KADK,EAELC,UAFK,EAGLC,IAHK,KAIF;AACH,UAAM;AAAEC,MAAAA;AAAF,QAAkBF,UAAU,CAACG,KAAX,CAAiBC,IAAzC;;AACA,UAAMC,YAAY,GAAGC,sBAAaC,qBAAb,CAAmCV,SAAS,EAAEW,GAA9C,CAArB;;AAEA,QAAIV,OAAJ,EAAa;AACXO,MAAAA,YAAY,EAAEI,gBAAd,CAA+BT,UAA/B;AACAF,MAAAA,OAAO,GAAG,KAAV;AACD;;AAED,wBACE,8CACGG,IAAI,EADP,eAEE,eAAC,uBAAD;AACE,MAAA,MAAM,EAAEJ,SADV;AAEE,MAAA,WAAW,EAAEK,WAFf;AAGE,MAAA,UAAU,EAAEF,UAHd;AAIE,MAAA,YAAY,EAAEK,YAJhB;AAKE,MAAA,MAAM,EAAER,SAAS,CAACa,MALpB;AAME,MAAA,oBAAoB,EAAEb,SAAS,CAACc,oBANlC;AAOE,MAAA,mBAAmB,EAAEd,SAAS,CAACe,mBAPjC;AAQE,MAAA,YAAY,EAAEf,SAAS,CAACgB;AAR1B,MAFF,CADF;AAeD,GA5BD;AA6BD,CAjCD;;eAmCejB,gB","sourcesContent":["import React from 'react';\nimport { Controller, RenderEditableProps } from '@ali/4ever-cangjie';\nimport { ClipboardPluginConfig } from '../../utils/types';\nimport ClipboardPad from '../../utils/ClipboardPad';\nimport LazyPastePanel from '../components/lazyPastePanel';\n\nconst createOnEditable = (\n  clipboard: ClipboardPluginConfig,\n) => {\n  let mounted = true;\n  return (\n    props: RenderEditableProps,\n    controller: Controller,\n    next: Function,\n  ) => {\n    const { customPanel } = controller.value.data;\n    const clipboardPad = ClipboardPad.getCachedClipboardPad(clipboard?.key);\n\n    if (mounted) {\n      clipboardPad?.initPluginModels(controller);\n      mounted = false;\n    }\n\n    return (\n      <>\n        {next()}\n        <LazyPastePanel\n          config={clipboard}\n          customPanel={customPanel}\n          controller={controller}\n          clipboardPad={clipboardPad}\n          locale={clipboard.locale}\n          beforeInsertMarkdown={clipboard.beforeInsertMarkdown}\n          afterInsertMarkdown={clipboard.afterInsertMarkdown}\n          getContainer={clipboard.getContainer}\n        />\n      </>\n    );\n  };\n};\n\nexport default createOnEditable;"],"file":"createOnEditable.js"}