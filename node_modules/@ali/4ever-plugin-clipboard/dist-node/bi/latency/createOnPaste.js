"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createOnPaste;

var tester = _interopRequireWildcard(require("../../utils/tester"));

var _everLogger = _interopRequireDefault(require("@ali/4ever-logger"));

/**
 * 该插件只分析数据，不做业务处理
 * @param config
 */
function createOnPaste() {
  return function onPaste(event, controller, next) {
    const {
      clipboardData
    } = event; // 上报拷贝数据来源

    _everLogger.default.sum('paste_action');

    if (tester.isDingDocs(clipboardData)) {
      _everLogger.default.sum('paste_from_ding_docs');
    } else if (tester.isDingSheet(clipboardData)) {
      _everLogger.default.sum('paste_from_ding_sheet');
    } else if (tester.isMicrosoftOffice(clipboardData)) {
      _everLogger.default.sum('paste_from_ms_office');
    } else if (tester.hasImage(clipboardData)) {
      _everLogger.default.sum('paste_from_img');
    } else if (tester.isGoogleDocs(clipboardData)) {
      _everLogger.default.sum('paste_from_google_docs');
    } else if (tester.isShimoDocs(clipboardData)) {
      _everLogger.default.sum('paste_from_shimo_docs');
    } else if (tester.isYuqueDocs(clipboardData)) {
      _everLogger.default.sum('paste_from_yuque_docs');
    } else if (tester.isVsCode(clipboardData)) {
      _everLogger.default.sum('paste_from_vs_code');
    } else if (tester.hasTextHtml(clipboardData)) {
      _everLogger.default.sum('paste_from_text_html');
    } else {
      _everLogger.default.sum('paste_from_text_plain');
    }

    return next();
  };
}
//# sourceMappingURL=createOnPaste.js.map