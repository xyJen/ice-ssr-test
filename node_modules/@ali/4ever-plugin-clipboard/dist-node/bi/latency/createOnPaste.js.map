{"version":3,"sources":["../../../../src/bi/latency/createOnPaste.ts"],"names":["createOnPaste","onPaste","event","controller","next","clipboardData","logger","sum","tester","isDingDocs","isDingSheet","isMicrosoftOffice","hasImage","isGoogleDocs","isShimoDocs","isYuqueDocs","isVsCode","hasTextHtml"],"mappings":";;;;;;;;;;;AACA;;AACA;;AACA;AACA;AACA;AACA;AACe,SAASA,aAAT,GAA4C;AACzD,SAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,UAAxB,EAAoCC,IAApC,EAA0C;AAC/C,UAAM;AAAEC,MAAAA;AAAF,QAAoBH,KAA1B,CAD+C,CAG/C;;AACAI,wBAAOC,GAAP,CAAW,cAAX;;AACA,QAAIC,MAAM,CAACC,UAAP,CAAkBJ,aAAlB,CAAJ,EAAsC;AACpCC,0BAAOC,GAAP,CAAW,sBAAX;AACD,KAFD,MAEO,IAAIC,MAAM,CAACE,WAAP,CAAmBL,aAAnB,CAAJ,EAAuC;AAC5CC,0BAAOC,GAAP,CAAW,uBAAX;AACD,KAFM,MAEA,IAAIC,MAAM,CAACG,iBAAP,CAAyBN,aAAzB,CAAJ,EAA6C;AAClDC,0BAAOC,GAAP,CAAW,sBAAX;AACD,KAFM,MAEA,IAAIC,MAAM,CAACI,QAAP,CAAgBP,aAAhB,CAAJ,EAAoC;AACzCC,0BAAOC,GAAP,CAAW,gBAAX;AACD,KAFM,MAEA,IAAIC,MAAM,CAACK,YAAP,CAAoBR,aAApB,CAAJ,EAAwC;AAC7CC,0BAAOC,GAAP,CAAW,wBAAX;AACD,KAFM,MAEA,IAAIC,MAAM,CAACM,WAAP,CAAmBT,aAAnB,CAAJ,EAAuC;AAC5CC,0BAAOC,GAAP,CAAW,uBAAX;AACD,KAFM,MAEA,IAAIC,MAAM,CAACO,WAAP,CAAmBV,aAAnB,CAAJ,EAAuC;AAC5CC,0BAAOC,GAAP,CAAW,uBAAX;AACD,KAFM,MAEA,IAAIC,MAAM,CAACQ,QAAP,CAAgBX,aAAhB,CAAJ,EAAoC;AACzCC,0BAAOC,GAAP,CAAW,oBAAX;AACD,KAFM,MAEA,IAAIC,MAAM,CAACS,WAAP,CAAmBZ,aAAnB,CAAJ,EAAuC;AAC5CC,0BAAOC,GAAP,CAAW,sBAAX;AACD,KAFM,MAEA;AACLD,0BAAOC,GAAP,CAAW,uBAAX;AACD;;AAED,WAAOH,IAAI,EAAX;AACD,GA5BD;AA6BD","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport * as tester from '../../utils/tester';\nimport logger from '@ali/4ever-logger';\n/**\n * 该插件只分析数据，不做业务处理\n * @param config\n */\nexport default function createOnPaste(): Plugin['onPaste'] {\n  return function onPaste(event, controller, next) {\n    const { clipboardData } = event;\n\n    // 上报拷贝数据来源\n    logger.sum('paste_action');\n    if (tester.isDingDocs(clipboardData)) {\n      logger.sum('paste_from_ding_docs');\n    } else if (tester.isDingSheet(clipboardData)) {\n      logger.sum('paste_from_ding_sheet');\n    } else if (tester.isMicrosoftOffice(clipboardData)) {\n      logger.sum('paste_from_ms_office');\n    } else if (tester.hasImage(clipboardData)) {\n      logger.sum('paste_from_img');\n    } else if (tester.isGoogleDocs(clipboardData)) {\n      logger.sum('paste_from_google_docs');\n    } else if (tester.isShimoDocs(clipboardData)) {\n      logger.sum('paste_from_shimo_docs');\n    } else if (tester.isYuqueDocs(clipboardData)) {\n      logger.sum('paste_from_yuque_docs');\n    } else if (tester.isVsCode(clipboardData)) {\n      logger.sum('paste_from_vs_code');\n    } else if (tester.hasTextHtml(clipboardData)) {\n      logger.sum('paste_from_text_html');\n    } else {\n      logger.sum('paste_from_text_plain');\n    }\n\n    return next();\n  };\n}\n"],"file":"createOnPaste.js"}