"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = LazyPastePanel;

var _interopRequireWildcard2 = _interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard"));

var _react = _interopRequireDefault(require("react"));

var _reactLoadable = _interopRequireDefault(require("react-loadable"));

var _usePreviewCopy = _interopRequireDefault(require("../../common/hooks/usePreviewCopy"));

var _actions = require("../actions");

const _createElement = /*#__PURE__*/_react.default.createElement;
const PastePanel = (0, _reactLoadable.default)({
  loader: () => Promise.resolve().then(() => (0, _interopRequireWildcard2.default)(require("./pastePanel"))),
  loading: () => null
});

function LazyPastePanel(props) {
  const {
    controller,
    config
  } = props;
  const {
    _clipboardPanel = ''
  } = controller.value.data;
  (0, _usePreviewCopy.default)(controller);

  _react.default.useEffect(() => {
    if (!config?.pastePanel && _clipboardPanel) {
      controller.run('onAction', (0, _actions.hideCustomPastePanel)());
    }
  });

  if (!config?.pastePanel || !_clipboardPanel) {
    return null;
  }

  return /*#__PURE__*/_createElement(PastePanel, props);
}
//# sourceMappingURL=lazyPastePanel.js.map