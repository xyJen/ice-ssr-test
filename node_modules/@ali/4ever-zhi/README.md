# 纸 - @ali/4ever-zhi

文档阅读模块，在运行时消费 Slate.Value 格式，并渲染成 React 元素。



## Install

```bash
tnpm install --save @ali/4ever-zhi react
```



## Usage

```jsx
import * as React from 'react';
import * as ReactDOM from 'react-dom';
import { Reader as Zhi, createZhiPlugins } from 'zhi';

const plugins = createZhiPlugins();
const content = ...;
ReactDOM.render(<Zhi plugins={plugins} content={content} />, mountNode);
```



## API

### Reader: React.Component

用于渲染文档内容的 React 组件，接收 Slate.Value 数据，映射为 React 元素，可以通过插件定义不同节点的映射规则。

| 属性        | 说明                                                | 类型             |
| ----------- | --------------------------------------------------- | ---------------- |
| plugins     | 渲染插件，可以定义不同 Slate 节点的映射规则           | Plugin[]         |
| content     | 文档内容，即 mo.jsonMLToValue 后生成的 Slate.Value | Slate.Value              |
| renderEmpty | content 为空时，用于渲染占位元素                    | () => React.Node |



### createZhiPlugins(config)

插件工厂，生产 Reader 所需的插件实例数组，可通过 config 配置不同插件的行为：

#### config.image.onZoomImage(src: string) => void

用户点击图片事件的 handler，可用于实现点击查看大图。

#### config.link.openLink(href: string) => void

用户点击链接事件的 handler，可用于实现点击链接打开网页。

#### config.mention.onMentionClick(data: Object) => void

用户点击 mention 事件的 handler，可用于实现点击 mention 后跳转到对应用户 profile 功能。



## Maintainers

* 本杰