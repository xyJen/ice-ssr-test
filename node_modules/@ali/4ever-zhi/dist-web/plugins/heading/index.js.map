{"version":3,"sources":["../../../../src/plugins/heading/index.tsx"],"names":["React","Heading","MoHeading","HeadingWrapper","ReadParagraph","createZhiListItem","createHeading","moFactory","Paragraph","createParagraphPlugin","config","headingConfig","heading","onHeadingsChange","maybeRenderEditable","renderEditable","props","controller","next","renderNode","_","node","isHeading"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,OAAO,IAAIC,SAApB,QAAqC,eAArC;AACA,OAAOC,cAAP;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,iBAAT,QAAkC,wBAAlC;AACA,OAAOC,aAAP;AACA,SAASC,SAAT,QAA0B,2BAA1B;AAEA,IAAMC,SAAS,GAAGH,iBAAiB,CAACD,aAAD,CAAnC;AAEA,eAAe,SAASK,qBAAT,CAA+BC,MAA/B,EAAuC;AACpD,MAAMT,OAAO,GAAGK,aAAa,CAACE,SAAD,CAA7B;AACA,MAAMG,aAAa,GAAGD,MAAM,CAACE,OAAP,IAAkB,EAAxC;AAFoD,MAG5CC,gBAH4C,GAGvBF,aAHuB,CAG5CE,gBAH4C;AAIpD,MAAMC,mBAAmB,GAAG,OAAOD,gBAAP,KAA4B,UAA5B,GAAyC;AACnEE,IAAAA,cADmE,0BACpDC,KADoD,EAC7CC,UAD6C,EACjCC,IADiC,EAC3B;AACtC,0BACE,eAAC,cAAD,eACMF,KADN;AAEE,QAAA,UAAU,EAAEC,UAFd;AAGE,QAAA,gBAAgB,EAAEN,aAAa,CAACE;AAHlC,UAKGK,IAAI,EALP,CADF;AASD;AAXkE,GAAzC,GAYxB,EAZJ;AAaA,sBACKX,SAAS,CAAC,EAAD,CADd,EAEKO,mBAFL;AAGEK,IAAAA,UAHF,sBAGaH,KAHb,EAGoBI,CAHpB,EAGuBF,IAHvB,EAG6B;AAAA,UACjBG,IADiB,GACRL,KADQ,CACjBK,IADiB;;AAEzB,UAAI,CAACnB,SAAS,CAACoB,SAAV,CAAoBD,IAApB,CAAL,EAAgC;AAC9B,eAAOH,IAAI,EAAX;AACD;;AAED,0BAAO,eAAC,OAAD,eAAaF,KAAb;AAAoB,QAAA,gBAAgB,EAAEH;AAAtC,SAAP;AACD;AAVH;AAYD","sourcesContent":["import * as React from 'react';\nimport { Heading as MoHeading } from '@ali/4ever-mo';\nimport HeadingWrapper from './HeadingWrapper';\nimport { ReadParagraph } from '@ali/4ever-plugin-paragraph';\nimport { createZhiListItem } from '@ali/4ever-plugin-list';\nimport createHeading from '../heading/Heading';\nimport { moFactory } from '@ali/4ever-plugin-heading';\n\nconst Paragraph = createZhiListItem(ReadParagraph);\n\nexport default function createParagraphPlugin(config) {\n  const Heading = createHeading(Paragraph);\n  const headingConfig = config.heading || {};\n  const { onHeadingsChange } = headingConfig;\n  const maybeRenderEditable = typeof onHeadingsChange === 'function' ? {\n    renderEditable(props, controller, next) {\n      return (\n        <HeadingWrapper\n          {...props}\n          controller={controller}\n          onHeadingsChange={headingConfig.onHeadingsChange}\n        >\n          {next()}\n        </HeadingWrapper>\n      );\n    },\n  } : {};\n  return {\n    ...moFactory({}),\n    ...maybeRenderEditable,\n    renderNode(props, _, next) {\n      const { node } = props;\n      if (!MoHeading.isHeading(node)) {\n        return next();\n      }\n\n      return <Heading {...props} onHeadingsChange={onHeadingsChange} />;\n    },\n  };\n}\n"],"file":"index.js"}