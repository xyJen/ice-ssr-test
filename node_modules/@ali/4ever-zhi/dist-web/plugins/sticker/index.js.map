{"version":3,"sources":["../../../../src/plugins/sticker/index.tsx"],"names":["React","Inline","StickerPlugin","Sticker","MoSticker","StickerWrapper","moFactory","DEFAULT_STICKERS","createStickerPlugin","config","stickerConfig","lang","customSticker","sticker","renderNode","props","controller","next","node","isInline","type","TYPE","models","klass","defaultSticker"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAA5B,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,OAAO,IAAIC,SAApB,QAAqC,eAArC;AACA,OAAOC,cAAP;AACA,SAASC,SAAT,QAA0B,2BAA1B;IAEQC,gB,GAA8BL,a,CAA9BK,gB;IAAkBJ,O,GAAYD,a,CAAZC,O;;AAE1B,SAASK,mBAAT,CAA6BC,MAA7B,EAAqC;AACnC,MAAMC,aAAa;AACjBC,IAAAA,IAAI,EAAE,OADW;AAEjBC,IAAAA,aAAa,EAAE,CAACL,gBAAD;AAFE,KAGdE,MAAM,CAACI,OAHO,CAAnB;;AAKA,MAAMA,OAAO,GAAG,IAAIV,OAAJ,CAAYO,aAAZ,CAAhB;AACA,sBACKJ,SAAS,CAAC,EAAD,CADd;AAEEQ,IAAAA,UAFF,sBAEaC,KAFb,EAEoBC,UAFpB,EAEgCC,IAFhC,EAEsC;AAAA,UAC1BC,IAD0B,GACjBH,KADiB,CAC1BG,IAD0B;;AAElC,UAAI,CAACjB,MAAM,CAACkB,QAAP,CAAgBD,IAAhB,CAAD,IAA0BA,IAAI,CAACE,IAAL,KAAchB,SAAS,CAACiB,IAAtD,EAA4D;AAC1D,eAAOJ,IAAI,EAAX;AACD;;AACD,0BACE,eAAC,cAAD;AAAgB,QAAA,IAAI,EAAEC,IAAtB;AAA4B,QAAA,UAAU,EAAEF,UAAxC;AAAoD,QAAA,OAAO,EAAEH;AAA7D,QADF;AAGD,KAVH;AAWES,IAAAA,MAAM,EAAE;AACNC,MAAAA,KAAK,EAAE,QADD;AAENH,MAAAA,IAAI,EAAEhB,SAAS,CAACiB;AAFV;AAXV;AAgBD;;AAEDb,mBAAmB,CAACgB,cAApB,GAAqCjB,gBAArC;AAEA,eAAeC,mBAAf","sourcesContent":["import React from 'react';\nimport { Inline } from '@ali/4ever-cangjie';\nimport { StickerPlugin } from '@ali/4ever-bamboo';\nimport { Sticker as MoSticker } from '@ali/4ever-mo';\nimport StickerWrapper from './stickerWrapper';\nimport { moFactory } from '@ali/4ever-plugin-sticker';\n\nconst { DEFAULT_STICKERS, Sticker } = StickerPlugin;\n\nfunction createStickerPlugin(config) {\n  const stickerConfig = {\n    lang: 'zh_CN',\n    customSticker: [DEFAULT_STICKERS],\n    ...config.sticker,\n  };\n  const sticker = new Sticker(stickerConfig);\n  return {\n    ...moFactory({}),\n    renderNode(props, controller, next) {\n      const { node } = props;\n      if (!Inline.isInline(node) || node.type !== MoSticker.TYPE) {\n        return next();\n      }\n      return (\n        <StickerWrapper node={node} controller={controller} sticker={sticker} />\n      );\n    },\n    models: {\n      klass: 'inline',\n      type: MoSticker.TYPE,\n    },\n  };\n}\n\ncreateStickerPlugin.defaultSticker = DEFAULT_STICKERS;\n\nexport default createStickerPlugin;\n"],"file":"index.js"}