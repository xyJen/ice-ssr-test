{"version":3,"sources":["../../../../../src/plugins/headingGroup/handlers/createRenderNode.tsx"],"names":["React","Block","Heading","HeadingGroupPlugin","Group","utils","Heading1","Heading2","Heading3","Heading4","Heading5","Heading6","headingList","createRenderNode","config","level","hCondition","condition","slice","map","H","node","isBlock","type","generateGroupType","TYPE","renderNode","props","controller","next","attributes","children","some"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,KAAT,QAA8B,oBAA9B;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,SAASC,kBAAT,QAAmC,mBAAnC;AACA,OAAOC,KAAP;IAIEC,K,GACEF,kB,CADFE,K;IAIAC,Q,GAMEJ,O,CANFI,Q;IACAC,Q,GAKEL,O,CALFK,Q;IACAC,Q,GAIEN,O,CAJFM,Q;IACAC,Q,GAGEP,O,CAHFO,Q;IACAC,Q,GAEER,O,CAFFQ,Q;IACAC,Q,GACET,O,CADFS,Q;AAGF,IAAMC,WAAW,GAAG,CAClBN,QADkB,EAElBC,QAFkB,EAGlBC,QAHkB,EAIlBC,QAJkB,EAKlBC,QALkB,EAMlBC,QANkB,CAApB;;AASA,SAASE,gBAAT,CAA0BC,MAA1B,EAA4E;AAAA,sBACpDA,MADoD,CAClEC,KADkE;AAAA,MAClEA,KADkE,8BAC1D,CAD0D;AAE1E,MAAMC,UAAU,GAAGX,KAAK,CAACY,SAAN,OAAAZ,KAAK,EACnBO,WAAW,CAACM,KAAZ,CAAkB,CAAlB,EAAqBH,KAArB,EAA4BI,GAA5B,CAAgC,UAACC,CAAD,EAAO;AACxC,WAAO,UAACC,IAAD,EAAU;AACf,aAAOpB,KAAK,CAACqB,OAAN,CAAcD,IAAd,KAAuBA,IAAI,CAACE,IAAL,KAAclB,KAAK,CAACmB,iBAAN,CAAwBJ,CAAC,CAACK,IAA1B,CAA5C;AACD,KAFD;AAGD,GAJE,CADmB,CAAxB;AAQA,SAAO,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,UAA3B,EAAuCC,IAAvC,EAA6C;AAAA,QAEhDR,IAFgD,GAK9CM,KAL8C,CAEhDN,IAFgD;AAAA,QAGhDS,UAHgD,GAK9CH,KAL8C,CAGhDG,UAHgD;AAAA,QAIhDC,QAJgD,GAK9CJ,KAL8C,CAIhDI,QAJgD;;AAOlD,QAAIf,UAAU,CAACgB,IAAX,CAAgBX,IAAhB,CAAJ,EAA2B;AACzB,0BACE,eAAC,KAAD;AACE,QAAA,IAAI,EAAEA,IADR;AAEE,QAAA,UAAU,EAAES,UAFd;AAGE,QAAA,UAAU,EAAEF,UAHd;AAIE,QAAA,MAAM,EAAEd;AAJV,SAMGiB,QAAQ,EANX,CADF;AAUD;;AAED,WAAOF,IAAI,EAAX;AACD,GArBD;AAsBD;;AAED,eAAehB,gBAAf","sourcesContent":["import * as React from 'react';\nimport { Block, Plugin } from '@ali/4ever-cangjie';\nimport { Heading } from '@ali/4ever-mo';\nimport { HeadingGroupPlugin } from '@ali/4ever-bamboo';\nimport Group from '../components/group';\nimport { HeadingGroupConfig } from '../types';\n\nconst {\n  utils,\n} = HeadingGroupPlugin;\n\nconst {\n  Heading1,\n  Heading2,\n  Heading3,\n  Heading4,\n  Heading5,\n  Heading6,\n} = Heading;\n\nconst headingList = [\n  Heading1,\n  Heading2,\n  Heading3,\n  Heading4,\n  Heading5,\n  Heading6,\n];\n\nfunction createRenderNode(config: HeadingGroupConfig): Plugin['renderNode'] {\n  const { level = 3 } = config;\n  const hCondition = utils.condition(\n    ...headingList.slice(0, level).map((H) => {\n      return (node) => {\n        return Block.isBlock(node) && node.type === utils.generateGroupType(H.TYPE);\n      };\n    }),\n  );\n\n  return function renderNode(props, controller, next) {\n    const {\n      node,\n      attributes,\n      children,\n    } = props;\n\n    if (hCondition.some(node)) {\n      return (\n        <Group\n          node={node as Block}\n          attributes={attributes}\n          controller={controller}\n          config={config}\n        >\n          {children()}\n        </Group>\n      );\n    }\n\n    return next();\n  };\n}\n\nexport default createRenderNode;\n"],"file":"createRenderNode.js"}