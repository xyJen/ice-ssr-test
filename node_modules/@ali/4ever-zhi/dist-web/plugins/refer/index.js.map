{"version":3,"sources":["../../../../src/plugins/refer/index.tsx"],"names":["React","ReferPlugin","moFactory","createReferPlugin","config","referConfig","refer","previewDingTalkFile","renderNode","props","_","next","node","type"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAASC,SAAT,QAA0B,yBAA1B;AAEA,eAAe,SAASC,iBAAT,CAA2BC,MAA3B,EAAmC;AAChD,MAAMC,WAAW,GAAGD,MAAM,CAACE,KAAP,IAAgB,EAApC;AADgD,MAExCC,mBAFwC,GAEhBF,WAFgB,CAExCE,mBAFwC;AAIhD,sBACKL,SAAS,CAAC,EAAD,CADd;AAEEM,IAAAA,UAFF,sBAEaC,KAFb,EAEoBC,CAFpB,EAEuBC,IAFvB,EAE6B;AAAA,UACjBC,IADiB,GACRH,KADQ,CACjBG,IADiB;;AAEzB,UAAIA,IAAI,CAACC,IAAL,KAAc,OAAlB,EAA2B;AACzB,eAAOF,IAAI,EAAX;AACD;;AAED,0BACE,eAAC,WAAD,CAAa,KAAb,eACMF,KADN;AAEE,QAAA,gBAAgB,EAAEF;AAFpB,SADF;AAMD;AAdH;AAgBD","sourcesContent":["import * as React from 'react';\nimport { ReferPlugin } from '@ali/4ever-bamboo';\nimport { moFactory } from '@ali/4ever-plugin-refer';\n\nexport default function createReferPlugin(config) {\n  const referConfig = config.refer || {};\n  const { previewDingTalkFile } = referConfig;\n\n  return {\n    ...moFactory({}),\n    renderNode(props, _, next) {\n      const { node } = props;\n      if (node.type !== 'refer') {\n        return next();\n      }\n\n      return (\n        <ReferPlugin.Refer\n          {...props}\n          onDingpanPreview={previewDingTalkFile}\n        />\n      );\n    },\n  };\n}\n"],"file":"index.js"}