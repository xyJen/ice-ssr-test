import _extends from "@babel/runtime/helpers/extends";
import * as React from 'react';
var _createElement = /*#__PURE__*/React.createElement;
import { ReferPlugin } from '@ali/4ever-bamboo';
import { moFactory } from '@ali/4ever-plugin-refer';
export default function createReferPlugin(config) {
  var referConfig = config.refer || {};
  var previewDingTalkFile = referConfig.previewDingTalkFile;
  return _extends({}, moFactory({}), {
    renderNode: function renderNode(props, _, next) {
      var node = props.node;

      if (node.type !== 'refer') {
        return next();
      }

      return /*#__PURE__*/_createElement(ReferPlugin.Refer, _extends({}, props, {
        onDingpanPreview: previewDingTalkFile
      }));
    }
  });
}
//# sourceMappingURL=index.js.map