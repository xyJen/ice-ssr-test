{"version":3,"sources":["../../../../src/plugins/voteCard/createRenderNode.tsx"],"names":["React","Vote","createRenderNode","votePluginConfig","isGrayEnable","isPublish","nodeProps","controller","node","data","metadata","voteId"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAE5B,SAASC,IAAT;AAEA,eAAe,SAASC,gBAAT,CACbC,gBADa,EAEb;AAAA,MAEQC,YAFR,GAEoCD,gBAFpC,CAEQC,YAFR;AAAA,MAEsBC,SAFtB,GAEoCF,gBAFpC,CAEsBE,SAFtB,EAGA;;AACA,MAAI,CAACD,YAAL,EAAmB;AACjB,WAAO;AAAA,0BAAM,oCAAN;AAAA,KAAP;AACD;;AAED,SAAO,UAACE,SAAD,EAAoCC,UAApC,EAA+D;AAAA;;AACpE;AACA,QAAI,0BAACD,SAAS,CAACE,IAAV,CAAeC,IAAhB,sCAAC,qBAAqBC,QAAtB,aAAC,sBAA+BC,MAAhC,CAAJ,EAA4C;AAC1C,0BAAO,oCAAP;AACD;;AACD,wBACE,eAAC,IAAD;AACE,MAAA,SAAS,EAAEL,SADb;AAEE,MAAA,UAAU,EAAEC,UAFd;AAGE,MAAA,UAAU,EAAEJ,gBAHd;AAIE,MAAA,SAAS,EAAEE;AAJb,MADF;AAQD,GAbD;AAcD","sourcesContent":["import React from 'react';\nimport { Controller, RenderNodeProps, Block } from '@ali/4ever-cangjie';\nimport { VoteCardPlugin } from '@ali/4ever-bamboo';\nimport { Vote } from './components/vote';\n\nexport default function createRenderNode(\n  votePluginConfig: VoteCardPlugin.VotePluginConfig,\n) {\n\n  const { isGrayEnable, isPublish } = votePluginConfig\n  // 公开发布场景，不传此参数，此时灰度放量期间undefined时，不显示投票\n  if (!isGrayEnable) {\n    return () => <></>;\n  }\n\n  return (nodeProps: RenderNodeProps<Block>, controller: Controller) => {\n    // 只读态不渲染尚在编辑状态的投票\n    if (!nodeProps.node.data?.metadata?.voteId) {\n      return <></>;\n    }\n    return (\n      <Vote\n        nodeProps={nodeProps}\n        controller={controller}\n        voteConfig={votePluginConfig}\n        isPublish={isPublish}\n      />\n    );\n  };\n}\n"],"file":"createRenderNode.js"}