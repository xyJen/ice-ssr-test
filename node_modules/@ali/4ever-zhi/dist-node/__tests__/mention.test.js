"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var React = _interopRequireWildcard(require("react"));

var _react2 = require("@testing-library/react");

var _reader = _interopRequireDefault(require("./reader"));

var _mention = _interopRequireDefault(require("./fixtures/mention.json"));

const _createElement = /*#__PURE__*/React.createElement;
describe('Zhi:mention', () => {
  it('正确渲染', () => {
    const asl = ['root', _mention.default];
    const {
      container
    } = (0, _react2.render)( /*#__PURE__*/_createElement(_reader.default, {
      content: asl
    }));
    expect(container.innerHTML).toMatchSnapshot();
  });
  it('点击 mention 触发 onMentionClick 事件', () => {
    const asl = ['root', _mention.default];
    const onMentionClick = jest.fn();
    const {
      container
    } = (0, _react2.render)( /*#__PURE__*/_createElement(_reader.default, {
      content: asl,
      onMentionClick: onMentionClick
    }));
    const ele = container.querySelector('span[data-type="mention"]');

    _react2.fireEvent.click(ele);

    expect(onMentionClick).toHaveBeenCalledWith({
      avatarUrl: '',
      id: '0',
      login: '0',
      name: 'youqing'
    });
  });
  it('hover mention 触发 onMentionHover 事件', () => {
    const asl = ['root', _mention.default];
    const onMentionHover = jest.fn();
    const {
      container
    } = (0, _react2.render)( /*#__PURE__*/_createElement(_reader.default, {
      content: asl,
      onMentionHover: onMentionHover
    }));
    const ele = container.querySelector('span[data-type="mention"]');

    _react2.fireEvent.mouseEnter(ele);

    expect(onMentionHover).toHaveBeenCalledWith({
      avatarUrl: '',
      id: '0',
      login: '0',
      name: 'youqing'
    });
  });
});
//# sourceMappingURL=mention.test.js.map