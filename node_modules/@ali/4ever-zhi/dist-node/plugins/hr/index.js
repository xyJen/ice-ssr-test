"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createHrPlugin;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var React = _interopRequireWildcard(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _weDesign = require("@ali/we-design");

var _everBamboo = require("@ali/4ever-bamboo");

var _everUtils = require("@ali/4ever-utils");

var _everPluginHr = require("@ali/4ever-plugin-hr");

const _createElement = /*#__PURE__*/React.createElement;
const {
  height: themeHeight
} = _everBamboo.theme.hr;

const HrWrapper = /*#__PURE__*/_styledComponents.default.div(["height:", "px;padding:5px 0;"], themeHeight);

function createHrPlugin() {
  return { ...(0, _everPluginHr.moFactory)({}),

    renderNode(props, _, next) {
      const {
        node
      } = props;

      if (node.type !== 'hr') {
        return next();
      }

      const {
        attributes
      } = props;
      const payload = node.data || {}; // @ts-ignore

      const line = /*#__PURE__*/_createElement(_weDesign.CommonLine, (0, _everUtils.parseJsonMLToValue)(payload, _everUtils.MAPPING));

      return /*#__PURE__*/_createElement(HrWrapper, (0, _extends2.default)({
        "data-type": "hr"
      }, attributes), line);
    }

  };
}
//# sourceMappingURL=index.js.map