{"version":3,"sources":["../../../../src/plugins/hr/index.tsx"],"names":["height","themeHeight","theme","hr","HrWrapper","styled","div","createHrPlugin","renderNode","props","_","next","node","type","attributes","payload","data","line","MAPPING"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;uBAL4B,a;AAO5B,MAAM;AAAEA,EAAAA,MAAM,EAAEC;AAAV,IAA0BC,kBAAMC,EAAtC;;AAEA,MAAMC,SAAS,gBAAGC,0BAAOC,GAAV,mCACHL,WADG,CAAf;;AAKe,SAASM,cAAT,GAA0B;AACvC,SAAO,EACL,GAAG,6BAAU,EAAV,CADE;;AAELC,IAAAA,UAAU,CAACC,KAAD,EAAgCC,CAAhC,EAAmCC,IAAnC,EAAyC;AACjD,YAAM;AAAEC,QAAAA;AAAF,UAAWH,KAAjB;;AACA,UAAIG,IAAI,CAACC,IAAL,KAAc,IAAlB,EAAwB;AACtB,eAAOF,IAAI,EAAX;AACD;;AAED,YAAM;AAAEG,QAAAA;AAAF,UAAiBL,KAAvB;AACA,YAAMM,OAAO,GAAGH,IAAI,CAACI,IAAL,IAAa,EAA7B,CAPiD,CAQjD;;AACA,YAAMC,IAAI,gBAAG,eAAC,oBAAD,EAAgB,mCAAmBF,OAAnB,EAA4BG,kBAA5B,CAAhB,CAAb;;AACA,0BACE,eAAC,SAAD;AACE,qBAAU;AADZ,SAEMJ,UAFN,GAIGG,IAJH,CADF;AAQD;;AApBI,GAAP;AAsBD","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { CommonLine } from '@ali/we-design';\nimport { Block, RenderNodeProps } from '@ali/4ever-cangjie';\nimport { theme } from '@ali/4ever-bamboo';\nimport { MAPPING, parseJsonMLToValue } from '@ali/4ever-utils';\nimport { moFactory } from '@ali/4ever-plugin-hr';\n\nconst { height: themeHeight } = theme.hr;\n\nconst HrWrapper = styled.div`\n  height: ${themeHeight}px;\n  padding: 5px 0;\n`;\n\nexport default function createHrPlugin() {\n  return {\n    ...moFactory({}),\n    renderNode(props: RenderNodeProps<Block>, _, next) {\n      const { node } = props;\n      if (node.type !== 'hr') {\n        return next();\n      }\n\n      const { attributes } = props;\n      const payload = node.data || {};\n      // @ts-ignore\n      const line = <CommonLine {...parseJsonMLToValue(payload, MAPPING)} />;\n      return (\n        <HrWrapper\n          data-type=\"hr\"\n          {...attributes}\n        >\n          {line}\n        </HrWrapper>\n      );\n    },\n  };\n}\n"],"file":"index.js"}