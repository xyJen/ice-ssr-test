{"version":3,"sources":["../../../../src/plugins/voteCard/createRenderNode.tsx"],"names":["createRenderNode","votePluginConfig","isGrayEnable","isPublish","nodeProps","controller","node","data","metadata","voteId"],"mappings":";;;;;;;;;AAAA;;AAGA;;uBAF4B,a;;AAIb,SAASA,gBAAT,CACbC,gBADa,EAEb;AAEA,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAA8BF,gBAApC,CAFA,CAGA;;AACA,MAAI,CAACC,YAAL,EAAmB;AACjB,WAAO,mBAAM,6CAAb;AACD;;AAED,SAAO,CAACE,SAAD,EAAoCC,UAApC,KAA+D;AACpE;AACA,QAAI,CAACD,SAAS,CAACE,IAAV,CAAeC,IAAf,EAAqBC,QAArB,EAA+BC,MAApC,EAA4C;AAC1C,0BAAO,6CAAP;AACD;;AACD,wBACE,eAAC,UAAD;AACE,MAAA,SAAS,EAAEL,SADb;AAEE,MAAA,UAAU,EAAEC,UAFd;AAGE,MAAA,UAAU,EAAEJ,gBAHd;AAIE,MAAA,SAAS,EAAEE;AAJb,MADF;AAQD,GAbD;AAcD","sourcesContent":["import React from 'react';\nimport { Controller, RenderNodeProps, Block } from '@ali/4ever-cangjie';\nimport { VoteCardPlugin } from '@ali/4ever-bamboo';\nimport { Vote } from './components/vote';\n\nexport default function createRenderNode(\n  votePluginConfig: VoteCardPlugin.VotePluginConfig,\n) {\n\n  const { isGrayEnable, isPublish } = votePluginConfig\n  // 公开发布场景，不传此参数，此时灰度放量期间undefined时，不显示投票\n  if (!isGrayEnable) {\n    return () => <></>;\n  }\n\n  return (nodeProps: RenderNodeProps<Block>, controller: Controller) => {\n    // 只读态不渲染尚在编辑状态的投票\n    if (!nodeProps.node.data?.metadata?.voteId) {\n      return <></>;\n    }\n    return (\n      <Vote\n        nodeProps={nodeProps}\n        controller={controller}\n        voteConfig={votePluginConfig}\n        isPublish={isPublish}\n      />\n    );\n  };\n}\n"],"file":"createRenderNode.js"}