{"version":3,"sources":["../../../../src/plugins/imTag/index.tsx"],"names":["ImTagContainer","IMTAG_MEASURE_STRING","ImTagPlugin","createZhiImTagPlugin","config","imTagConfig","imTag","locale","imFrom","jumpToConversition","tagType","renderNode","props","node","height","width","metadata","data","imTitle","cid","onClick"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;uBAF4B,a;AAI5B,MAAM;AAAEA,EAAAA,cAAF;AAAkBC,EAAAA;AAAlB,IAA2CC,uBAAjD;AACA,MAAMC,oBAAoB,GAAG,gCAAYC,MAAD,IAA2C;AACjF,QAAMC,WAAW,GAAGD,MAAM,CAACE,KAA3B;AACA,QAAM;AAAEC,IAAAA,MAAM,GAAG;AAAEC,MAAAA,MAAM,EAAEP;AAAV,KAAX;AAA6CQ,IAAAA;AAA7C,MAAoEJ,WAAW,IAAI,EAAzF;AACA,SAAO;AACLK,IAAAA,OAAO,EAAE,IADJ;AAELC,IAAAA,UAAU,EAAGC,KAAD,IAA4B;AACtC,YAAMC,IAAI,GAAGD,KAAK,CAACC,IAAnB;AACA,YAAM;AAAEC,QAAAA,MAAF;AAAUC,QAAAA,KAAV;AAAiBC,QAAAA;AAAjB,UAA8BH,IAAI,CAACI,IAAzC;AACA,YAAM;AAAEC,QAAAA,OAAO,GAAG,EAAZ;AAAgBC,QAAAA;AAAhB,UAAwBH,QAAQ,IAAI,EAA1C;;AACA,YAAMI,OAAO,GAAG,MAAM;AACpB,YAAIX,kBAAkB,IAAIU,GAA1B,EAA+BV,kBAAkB,CAACU,GAAD,CAAlB;AAChC,OAFD;;AAGA,0BACE,eAAC,cAAD;AACE,QAAA,KAAK,EAAEJ,KADT;AAEE,QAAA,MAAM,EAAED,MAFV;AAGE,QAAA,IAAI,EAAG,GAAEP,MAAM,CAACC,MAAO,IAAGU,OAAQ,EAHpC;AAIE,QAAA,OAAO,EAAEE;AAJX,QADF;AAQD;AAjBI,GAAP;AAmBD,CAtB4B,CAA7B;eAwBejB,oB","sourcesContent":["import React from 'react';\nimport { RenderNodeProps, Inline } from '@ali/4ever-cangjie';\nimport { ImTagPlugin, ImTagDataType } from '@ali/4ever-bamboo';\nimport { zhiTagFactory as tagFactory } from '@ali/4ever-factory';\n\nconst { ImTagContainer, IMTAG_MEASURE_STRING } = ImTagPlugin;\nconst createZhiImTagPlugin = tagFactory((config: { imTag: ZhiImTagConfigType }) => {\n  const imTagConfig = config.imTag;\n  const { locale = { imFrom: IMTAG_MEASURE_STRING }, jumpToConversition } = imTagConfig || {};\n  return {\n    tagType: 'im',\n    renderNode: (props: RenderNodeProps) => {\n      const node = props.node as Inline;\n      const { height, width, metadata } = node.data as ImTagDataType;\n      const { imTitle = '', cid } = metadata || {};\n      const onClick = () => {\n        if (jumpToConversition && cid) jumpToConversition(cid);\n      };\n      return (\n        <ImTagContainer\n          width={width}\n          height={height}\n          text={`${locale.imFrom} ${imTitle}`}\n          onClick={onClick}\n        />\n      );\n    },\n  };\n});\n\nexport default createZhiImTagPlugin;\n\nexport type ZhiImTagConfigType = {\n  locale?: {\n    imFrom: string; // 来至会话-国际化\n  };\n  jumpToConversition?: (cid: string) => void;\n};\n"],"file":"index.js"}