"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _everBamboo = require("@ali/4ever-bamboo");

var _utils = require("../utils");

const _createElement = /*#__PURE__*/React.createElement;
const {
  components,
  utils
} = _everBamboo.SubjectPlugin;
const {
  isEmptyNode
} = utils;
const {
  InlinePlaceholder,
  Placeholder
} = components;
const {
  Content
} = _everBamboo.HeadingGroupPlugin;

const SubjectContent = props => {
  const {
    node,
    children,
    config,
    controller,
    ...rest
  } = props;
  const {
    subjectPr = {}
  } = node.data;
  const {
    name
  } = subjectPr;
  const {
    locale = {}
  } = config;
  const {
    reviewTextPlaceholderMobile,
    topicContentPlaceholderMobile,
    conclusionContentPlaceholder
  } = locale;
  const node1 = node.nodes[1];

  const displayPlaceholder1 = item => {
    if (name === 'review' || name === 'topic' || name === 'conclusion') {
      return (0, _utils.isNormalParagraph)(item) && isEmptyNode(item) && node.nodes.length === 2;
    }

    return false;
  };

  var _ref = /*#__PURE__*/_createElement(InlinePlaceholder, {
    "data-placeholder": true
  }, reviewTextPlaceholderMobile);

  var _ref2 = /*#__PURE__*/_createElement(InlinePlaceholder, {
    "data-placeholder": true
  }, topicContentPlaceholderMobile);

  var _ref3 = /*#__PURE__*/_createElement(InlinePlaceholder, {
    "data-placeholder": true
  }, conclusionContentPlaceholder);

  const placeholder = React.useMemo(() => {
    if (name === 'review') {
      return _ref;
    } // 议题内容 placeholder


    if (name === 'topic') {
      return _ref2;
    } // 会议小结内容 placeholder


    if (name === 'conclusion') {
      return _ref3;
    }

    return null;
  }, [conclusionContentPlaceholder, name, topicContentPlaceholderMobile, reviewTextPlaceholderMobile]);

  if (children.length === 0) {
    return null;
  }

  return /*#__PURE__*/_createElement(Content, rest, node1 && /*#__PURE__*/_createElement(Placeholder, {
    controller: controller,
    node: node1,
    display: displayPlaceholder1,
    placeholder: placeholder
  }, children[0]), children.slice(1));
};

SubjectContent.displayName = 'SubjectContent';
var _default = SubjectContent;
exports.default = _default;
//# sourceMappingURL=content.js.map