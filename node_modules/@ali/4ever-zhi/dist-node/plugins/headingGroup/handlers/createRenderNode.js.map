{"version":3,"sources":["../../../../../src/plugins/headingGroup/handlers/createRenderNode.tsx"],"names":["utils","HeadingGroupPlugin","Heading1","Heading2","Heading3","Heading4","Heading5","Heading6","Heading","headingList","createRenderNode","config","level","hCondition","condition","slice","map","H","node","Block","isBlock","type","generateGroupType","TYPE","renderNode","props","controller","next","attributes","children","some"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;uBAH4B,a;AAM5B,MAAM;AACJA,EAAAA;AADI,IAEFC,8BAFJ;AAIA,MAAM;AACJC,EAAAA,QADI;AAEJC,EAAAA,QAFI;AAGJC,EAAAA,QAHI;AAIJC,EAAAA,QAJI;AAKJC,EAAAA,QALI;AAMJC,EAAAA;AANI,IAOFC,eAPJ;AASA,MAAMC,WAAW,GAAG,CAClBP,QADkB,EAElBC,QAFkB,EAGlBC,QAHkB,EAIlBC,QAJkB,EAKlBC,QALkB,EAMlBC,QANkB,CAApB;;AASA,SAASG,gBAAT,CAA0BC,MAA1B,EAA4E;AAC1E,QAAM;AAAEC,IAAAA,KAAK,GAAG;AAAV,MAAgBD,MAAtB;AACA,QAAME,UAAU,GAAGb,KAAK,CAACc,SAAN,CACjB,GAAGL,WAAW,CAACM,KAAZ,CAAkB,CAAlB,EAAqBH,KAArB,EAA4BI,GAA5B,CAAiCC,CAAD,IAAO;AACxC,WAAQC,IAAD,IAAU;AACf,aAAOC,mBAAMC,OAAN,CAAcF,IAAd,KAAuBA,IAAI,CAACG,IAAL,KAAcrB,KAAK,CAACsB,iBAAN,CAAwBL,CAAC,CAACM,IAA1B,CAA5C;AACD,KAFD;AAGD,GAJE,CADc,CAAnB;AAQA,SAAO,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,UAA3B,EAAuCC,IAAvC,EAA6C;AAClD,UAAM;AACJT,MAAAA,IADI;AAEJU,MAAAA,UAFI;AAGJC,MAAAA;AAHI,QAIFJ,KAJJ;;AAMA,QAAIZ,UAAU,CAACiB,IAAX,CAAgBZ,IAAhB,CAAJ,EAA2B;AACzB,0BACE,eAAC,cAAD;AACE,QAAA,IAAI,EAAEA,IADR;AAEE,QAAA,UAAU,EAAEU,UAFd;AAGE,QAAA,UAAU,EAAEF,UAHd;AAIE,QAAA,MAAM,EAAEf;AAJV,SAMGkB,QAAQ,EANX,CADF;AAUD;;AAED,WAAOF,IAAI,EAAX;AACD,GArBD;AAsBD;;eAEcjB,gB","sourcesContent":["import * as React from 'react';\nimport { Block, Plugin } from '@ali/4ever-cangjie';\nimport { Heading } from '@ali/4ever-mo';\nimport { HeadingGroupPlugin } from '@ali/4ever-bamboo';\nimport Group from '../components/group';\nimport { HeadingGroupConfig } from '../types';\n\nconst {\n  utils,\n} = HeadingGroupPlugin;\n\nconst {\n  Heading1,\n  Heading2,\n  Heading3,\n  Heading4,\n  Heading5,\n  Heading6,\n} = Heading;\n\nconst headingList = [\n  Heading1,\n  Heading2,\n  Heading3,\n  Heading4,\n  Heading5,\n  Heading6,\n];\n\nfunction createRenderNode(config: HeadingGroupConfig): Plugin['renderNode'] {\n  const { level = 3 } = config;\n  const hCondition = utils.condition(\n    ...headingList.slice(0, level).map((H) => {\n      return (node) => {\n        return Block.isBlock(node) && node.type === utils.generateGroupType(H.TYPE);\n      };\n    }),\n  );\n\n  return function renderNode(props, controller, next) {\n    const {\n      node,\n      attributes,\n      children,\n    } = props;\n\n    if (hCondition.some(node)) {\n      return (\n        <Group\n          node={node as Block}\n          attributes={attributes}\n          controller={controller}\n          config={config}\n        >\n          {children()}\n        </Group>\n      );\n    }\n\n    return next();\n  };\n}\n\nexport default createRenderNode;\n"],"file":"createRenderNode.js"}