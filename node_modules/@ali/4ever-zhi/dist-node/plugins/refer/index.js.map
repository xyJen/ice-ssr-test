{"version":3,"sources":["../../../../src/plugins/refer/index.tsx"],"names":["createReferPlugin","config","referConfig","refer","previewDingTalkFile","renderNode","props","_","next","node","type"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;uBAD4B,a;;AAGb,SAASA,iBAAT,CAA2BC,MAA3B,EAAmC;AAChD,QAAMC,WAAW,GAAGD,MAAM,CAACE,KAAP,IAAgB,EAApC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAA0BF,WAAhC;AAEA,SAAO,EACL,GAAG,gCAAU,EAAV,CADE;;AAELG,IAAAA,UAAU,CAACC,KAAD,EAAQC,CAAR,EAAWC,IAAX,EAAiB;AACzB,YAAM;AAAEC,QAAAA;AAAF,UAAWH,KAAjB;;AACA,UAAIG,IAAI,CAACC,IAAL,KAAc,OAAlB,EAA2B;AACzB,eAAOF,IAAI,EAAX;AACD;;AAED,0BACE,eAAC,uBAAD,CAAa,KAAb,6BACMF,KADN;AAEE,QAAA,gBAAgB,EAAEF;AAFpB,SADF;AAMD;;AAdI,GAAP;AAgBD","sourcesContent":["import * as React from 'react';\nimport { ReferPlugin } from '@ali/4ever-bamboo';\nimport { moFactory } from '@ali/4ever-plugin-refer';\n\nexport default function createReferPlugin(config) {\n  const referConfig = config.refer || {};\n  const { previewDingTalkFile } = referConfig;\n\n  return {\n    ...moFactory({}),\n    renderNode(props, _, next) {\n      const { node } = props;\n      if (node.type !== 'refer') {\n        return next();\n      }\n\n      return (\n        <ReferPlugin.Refer\n          {...props}\n          onDingpanPreview={previewDingTalkFile}\n        />\n      );\n    },\n  };\n}\n"],"file":"index.js"}