{"version":3,"sources":["../../../../src/plugins/callout/index.ts"],"names":["DEFAULT_STICKERS","Sticker","StickerPlugin","createCalloutPlugin","config","callout","stickerConfig","lang","customSticker","sticker","params","queries","isNodeInColorBlocks","CalloutPlugin","renderNode","getNodeStyle","groupNodes"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAM;AAAEA,EAAAA,gBAAF;AAAoBC,EAAAA;AAApB,IAAgCC,yBAAtC;;AAEA,SAASC,mBAAT,CAA6BC,MAA7B,EAA6C;AAC3C,QAAM;AAAEC,IAAAA,OAAO,GAAG;AAAZ,MAAmBD,MAAzB;AACA,QAAME,aAAa,GAAG;AACpB;AACAC,IAAAA,IAAI,EAAE,OAFc;AAGpB;AACAC,IAAAA,aAAa,EAAE,CAACR,gBAAD,CAJK;AAKpB,OAAGI,MAAM,CAACK;AALU,GAAtB;AAOA,QAAMA,OAAO,GAAG,IAAIR,OAAJ,CAAYK,aAAZ,CAAhB;AACA,QAAMI,MAAM,GAAG;AACbJ,IAAAA,aADa;AAEbG,IAAAA;AAFa,GAAf;AAKA,SAAO,EACL,GAAG,sCAAU,EAAV,CADE;AAELE,IAAAA,OAAO,EAAE;AACPC,MAAAA,mBAAmB,EAAEC,0BAAcD;AAD5B,KAFJ;AAKLE,IAAAA,UAAU,EAAE,+BAAiBJ,MAAjB,CALP;AAMLK,IAAAA,YAAY,EAAEF,0BAAcE,YANvB;AAOLC,IAAAA,UAAU,EAAE,+BAAiBX,OAAjB;AAPP,GAAP;AASD;;eAEcF,mB","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport { StickerPlugin, CalloutPlugin } from '@ali/4ever-bamboo';\nimport createRenderNode from './handlers/createRenderNode';\nimport createGroupNodes from './handlers/createGroupNodes';\nimport { moFactory } from '@ali/4ever-plugin-color-blocks';\n\nconst { DEFAULT_STICKERS, Sticker } = StickerPlugin;\n\nfunction createCalloutPlugin(config): Plugin {\n  const { callout = {} } = config;\n  const stickerConfig = {\n    // @ts-ignore\n    lang: 'zh_CN',\n    // @ts-ignore\n    customSticker: [DEFAULT_STICKERS],\n    ...config.sticker,\n  };\n  const sticker = new Sticker(stickerConfig);\n  const params = {\n    stickerConfig,\n    sticker,\n  };\n\n  return {\n    ...moFactory({}),\n    queries: {\n      isNodeInColorBlocks: CalloutPlugin.isNodeInColorBlocks,\n    },\n    renderNode: createRenderNode(params),\n    getNodeStyle: CalloutPlugin.getNodeStyle,\n    groupNodes: createGroupNodes(callout),\n  };\n}\n\nexport default createCalloutPlugin;\n"],"file":"index.js"}