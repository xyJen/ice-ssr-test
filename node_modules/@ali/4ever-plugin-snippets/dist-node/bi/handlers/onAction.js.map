{"version":3,"sources":["../../../../src/bi/handlers/onAction.ts"],"names":["onAction","action","controller","next","sourceRange","insertTarget","payload","command","Commands","deleteAtRange"],"mappings":";;;;;;;AAAA;;AACA;;AAEO,MAAMA,QAA8B,GAAG,CAACC,MAAD,EAASC,UAAT,EAAqBC,IAArB,KAA8B;AAC1E,MAAI,8CAAqBF,MAArB,CAAJ,EAAkC;AAChC,UAAM;AAAEG,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAAgCJ,MAAM,CAACK,OAA7C;AACAJ,IAAAA,UAAU,CAACK,OAAX,CAAmBC,sBAASC,aAA5B,EAA2CL,WAA3C;AACAC,IAAAA,YAAY;AACZ;AACD;;AACD,SAAOF,IAAI,EAAX;AACD,CARM","sourcesContent":["import { Commands, BiPlugin } from '@ali/4ever-cangjie';\nimport { isReplaceWithSnippet } from '../actions/replaceWithSnippet';\n\nexport const onAction: BiPlugin['onAction'] = (action, controller, next) => {\n  if (isReplaceWithSnippet(action)) {\n    const { sourceRange, insertTarget } = action.payload!;\n    controller.command(Commands.deleteAtRange, sourceRange);\n    insertTarget();\n    return;\n  }\n  return next();\n}"],"file":"onAction.js"}