{"version":3,"sources":["../../../src/bi/createRenderEditable.tsx"],"names":["React","SnippetsPanel","createRenderEditable","config","manager","props","controller","next","getSnippet","trigger","text"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAI5B,SAASC,aAAT;AAEA,OAAO,SAASC,oBAAT,CAA8BC,MAA9B,EAAyDC,OAAzD,EAAkF;AAAA,MAApDD,MAAoD;AAApDA,IAAAA,MAAoD,GAA7B,EAA6B;AAAA;;AACvF;AACA;AACA;AACA;AACA;AAEA,SAAO,UAACE,KAAD,EAA6BC,UAA7B,EAAqDC,IAArD,EAAwE;AAAA,8BACnDH,OAAO,CAACI,UAAR,EADmD;AAAA,QACrEC,OADqE,uBACrEA,OADqE;AAAA,QAC5DC,IAD4D,uBAC5DA,IAD4D;;AAG7E,wBACE,qCACGH,IAAI,EADP,eAEE,eAAC,aAAD;AACE,MAAA,UAAU,EAAED,UADd;AAEE,MAAA,OAAO,EAAEF,OAFX;AAGE,MAAA,cAAc,EAAEK,OAHlB;AAIE,MAAA,WAAW,EAAEC;AAJf,MAFF,CADF;AAWD,GAdD;AAeD","sourcesContent":["import React from 'react';\nimport type { Controller, RenderEditableProps } from '@ali/4ever-cangjie';\n// import { SimpleLazyLoad } from '@ali/4ever-component';\nimport SnippetManager from './snippetManager';\nimport type { PluginConfig } from './utils/types';\nimport { SnippetsPanel } from './components/SnippetsPanel';\n\nexport function createRenderEditable(config: PluginConfig = {}, manager: SnippetManager) {\n  // TODO: FIXME 引入 SimpleLazyLoad 构建时 ts 检查有问题\n  // const LazyLoad = config.lazyload || SimpleLazyLoad;\n  // const LazySnippetsPanel = LazyLoad(() =>\n  //   import('./components/SnippetsPanel').then(({ SnippetsPanel }) => SnippetsPanel),\n  // );\n\n  return (props: RenderEditableProps, controller: Controller, next: Function) => {\n    const { trigger, text } = manager.getSnippet();\n\n    return (\n      <>\n        {next()}\n        <SnippetsPanel\n          controller={controller}\n          manager={manager}\n          currentTrigger={trigger}\n          currentText={text}\n        />\n      </>\n    )\n  };\n}\n"],"file":"createRenderEditable.js"}