{"version":3,"sources":["../../../../src/bi/handlers/onAction.ts"],"names":["Commands","isReplaceWithSnippet","onAction","action","controller","next","payload","sourceRange","insertTarget","command","deleteAtRange"],"mappings":"AAAA,SAASA,QAAT,QAAmC,oBAAnC;AACA,SAASC,oBAAT;AAEA,OAAO,IAAMC,QAA8B,GAAG,SAAjCA,QAAiC,CAACC,MAAD,EAASC,UAAT,EAAqBC,IAArB,EAA8B;AAC1E,MAAIJ,oBAAoB,CAACE,MAAD,CAAxB,EAAkC;AAAA,eACMA,MAAM,CAACG,OADb;AAAA,QACxBC,WADwB,QACxBA,WADwB;AAAA,QACXC,YADW,QACXA,YADW;AAEhCJ,IAAAA,UAAU,CAACK,OAAX,CAAmBT,QAAQ,CAACU,aAA5B,EAA2CH,WAA3C;AACAC,IAAAA,YAAY;AACZ;AACD;;AACD,SAAOH,IAAI,EAAX;AACD,CARM","sourcesContent":["import { Commands, BiPlugin } from '@ali/4ever-cangjie';\nimport { isReplaceWithSnippet } from '../actions/replaceWithSnippet';\n\nexport const onAction: BiPlugin['onAction'] = (action, controller, next) => {\n  if (isReplaceWithSnippet(action)) {\n    const { sourceRange, insertTarget } = action.payload!;\n    controller.command(Commands.deleteAtRange, sourceRange);\n    insertTarget();\n    return;\n  }\n  return next();\n}"],"file":"onAction.js"}