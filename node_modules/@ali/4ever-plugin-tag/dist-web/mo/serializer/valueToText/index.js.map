{"version":3,"sources":["../../../../../src/mo/serializer/valueToText/index.ts"],"names":["Tag","im","group","formula","convertPlugins","valueToText","name","match","node","isTag","convert","data","tagType","metadata","imTitle","targetConvert"],"mappings":"AACA,OAAOA,GAAP;AACA,OAAOC,EAAP;AACA,OAAOC,KAAP;AACA,OAAOC,OAAP;AAEA,IAAMC,cAAc,GAAG;AACrBH,EAAAA,EAAE,EAAFA,EADqB;AAErBC,EAAAA,KAAK,EAALA,KAFqB;AAGrBC,EAAAA,OAAO,EAAPA;AAHqB,CAAvB;AAMA,IAAME,WAA4B,GAAG;AACnCC,EAAAA,IAAI,EAAE,KAD6B;AAGnCC,EAAAA,KAHmC,iBAG7BC,IAH6B,EAGvB;AACV,WAAOR,GAAG,CAACS,KAAJ,CAAUD,IAAV,CAAP;AACD,GALkC;AAOnCE,EAAAA,OAPmC,mBAO3BF,IAP2B,EAOrB;AAAA,eACMA,IADN;AAAA,QACJG,IADI,QACJA,IADI;AAAA,QAEJC,OAFI,GAEkBD,IAFlB,CAEJC,OAFI;AAAA,QAEKC,QAFL,GAEkBF,IAFlB,CAEKE,QAFL;;AAAA,gBAGQA,QAAQ,IAAI,EAHpB;AAAA,QAGJC,OAHI,SAGJA,OAHI;;AAKZ,QAAMC,aAAa,GAAGX,cAAc,CAACQ,OAAD,CAApC;AACA,QAAIG,aAAJ,EAAmB,OAAOA,aAAa,CAACJ,IAAD,CAApB;AAEnB,WAAOG,OAAO,IAAI,EAAlB;AACD;AAhBkC,CAArC;AAmBA,eAAeT,WAAf","sourcesContent":["import { Inline, ValueToTextRule } from '@ali/4ever-cangjie';\nimport Tag from '../../models';\nimport im from './im';\nimport group from './group';\nimport formula from './formula';\n\nconst convertPlugins = {\n  im,\n  group,\n  formula,\n};\n\nconst valueToText: ValueToTextRule = {\n  name: 'tag',\n\n  match(node) {\n    return Tag.isTag(node);\n  },\n\n  convert(node) {\n    const { data } = (node as Inline);\n    const { tagType, metadata } = data;\n    const { imTitle } = metadata || {};\n\n    const targetConvert = convertPlugins[tagType];\n    if (targetConvert) return targetConvert(data);\n\n    return imTitle || '';\n  },\n};\n\nexport default valueToText;\n"],"file":"index.js"}