{"version":3,"sources":["../../../../../src/mo/serializer/jsonMLToHTML/formula.tsx"],"names":["React","renderToString","getKatexString","text","throwOnError","errorColor","formula","attrs","configs","metadata","formulaValue","prettyHTML","__html"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,cAAT,QAA+B,OAA/B;;AAEA,SAASC,cAAT,CAAwBC,IAAxB,EAAsCC,YAAtC,EAA4D;AAAA,MAAtBA,YAAsB;AAAtBA,IAAAA,YAAsB,GAAP,KAAO;AAAA;;AAC1D,SAAOH,cAAc,CAACE,IAAD,EAAO;AAC1BE,IAAAA,UAAU,EAAE,SADc;AAE1BD,IAAAA,YAAY,EAAZA;AAF0B,GAAP,CAArB;AAID;;AAED,eAAe,SAASE,OAAT,CAAiBC,KAAjB,EAA6CC,OAA7C,EAA2D;AAAA,MAChEC,QADgE,GACnDF,KADmD,CAChEE,QADgE;AAAA,MAEvDC,YAFuD,GAEtCD,QAFsC,CAEhEH,OAFgE;;AAAA,aAGjDE,OAAO,CAACF,OAAR,IAAmB,EAH8B;AAAA,MAGhEK,UAHgE,QAGhEA,UAHgE;;AAIxE,MAAIA,UAAJ,EAAgB;AACd,wBACE,eAAC,KAAD,CAAO,QAAP,qBACE;AAAM,mBAAU,KAAhB;AAAsB,MAAA,uBAAuB,EAAE;AAAEC,QAAAA,MAAM,EAAEV,cAAc,CAACQ,YAAD;AAAxB;AAA/C,MADF,CADF;AAKD;;AACD,sBACE,eAAC,KAAD,CAAO,QAAP,qBACE;AAAM,iBAAU;AAAhB,KAAwBA,YAAxB,CADF,CADF;AAKD","sourcesContent":["import * as React from 'react';\nimport { renderToString } from 'katex';\n\nfunction getKatexString(text: string, throwOnError = false) {\n  return renderToString(text, {\n    errorColor: '#FF5219',\n    throwOnError,\n  });\n}\n\nexport default function formula(attrs: Record<string, any>, configs: any) {\n  const { metadata } = attrs;\n  const { formula: formulaValue } = metadata;\n  const { prettyHTML } = configs.formula || {};\n  if (prettyHTML) {\n    return (\n      <React.Fragment>\n        <span data-type=\"tag\" dangerouslySetInnerHTML={{ __html: getKatexString(formulaValue) }} />\n      </React.Fragment>\n    );\n  }\n  return (\n    <React.Fragment>\n      <span data-type=\"tag\" >{formulaValue}</span>\n    </React.Fragment>\n  );\n}\n"],"file":"formula.js"}