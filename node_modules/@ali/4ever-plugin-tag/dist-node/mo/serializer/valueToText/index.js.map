{"version":3,"sources":["../../../../../src/mo/serializer/valueToText/index.ts"],"names":["convertPlugins","im","group","formula","valueToText","name","match","node","Tag","isTag","convert","data","tagType","metadata","imTitle","targetConvert"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,EAAE,EAAFA,WADqB;AAErBC,EAAAA,KAAK,EAALA,cAFqB;AAGrBC,EAAAA,OAAO,EAAPA;AAHqB,CAAvB;AAMA,MAAMC,WAA4B,GAAG;AACnCC,EAAAA,IAAI,EAAE,KAD6B;;AAGnCC,EAAAA,KAAK,CAACC,IAAD,EAAO;AACV,WAAOC,gBAAIC,KAAJ,CAAUF,IAAV,CAAP;AACD,GALkC;;AAOnCG,EAAAA,OAAO,CAACH,IAAD,EAAO;AACZ,UAAM;AAAEI,MAAAA;AAAF,QAAYJ,IAAlB;AACA,UAAM;AAAEK,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAAwBF,IAA9B;AACA,UAAM;AAAEG,MAAAA;AAAF,QAAcD,QAAQ,IAAI,EAAhC;AAEA,UAAME,aAAa,GAAGf,cAAc,CAACY,OAAD,CAApC;AACA,QAAIG,aAAJ,EAAmB,OAAOA,aAAa,CAACJ,IAAD,CAApB;AAEnB,WAAOG,OAAO,IAAI,EAAlB;AACD;;AAhBkC,CAArC;eAmBeV,W","sourcesContent":["import { Inline, ValueToTextRule } from '@ali/4ever-cangjie';\nimport Tag from '../../models';\nimport im from './im';\nimport group from './group';\nimport formula from './formula';\n\nconst convertPlugins = {\n  im,\n  group,\n  formula,\n};\n\nconst valueToText: ValueToTextRule = {\n  name: 'tag',\n\n  match(node) {\n    return Tag.isTag(node);\n  },\n\n  convert(node) {\n    const { data } = (node as Inline);\n    const { tagType, metadata } = data;\n    const { imTitle } = metadata || {};\n\n    const targetConvert = convertPlugins[tagType];\n    if (targetConvert) return targetConvert(data);\n\n    return imTitle || '';\n  },\n};\n\nexport default valueToText;\n"],"file":"index.js"}