{"version":3,"sources":["../../../../../src/mo/serializer/jsonMLToHTML/formula.tsx"],"names":["getKatexString","text","throwOnError","errorColor","formula","attrs","configs","metadata","formulaValue","prettyHTML","__html"],"mappings":";;;;;;;;;AAAA;;AACA;;uBAA4B,a;;AAE5B,SAASA,cAAT,CAAwBC,IAAxB,EAAsCC,YAAY,GAAG,KAArD,EAA4D;AAC1D,SAAO,2BAAeD,IAAf,EAAqB;AAC1BE,IAAAA,UAAU,EAAE,SADc;AAE1BD,IAAAA;AAF0B,GAArB,CAAP;AAID;;AAEc,SAASE,OAAT,CAAiBC,KAAjB,EAA6CC,OAA7C,EAA2D;AACxE,QAAM;AAAEC,IAAAA;AAAF,MAAeF,KAArB;AACA,QAAM;AAAED,IAAAA,OAAO,EAAEI;AAAX,MAA4BD,QAAlC;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAiBH,OAAO,CAACF,OAAR,IAAmB,EAA1C;;AACA,MAAIK,UAAJ,EAAgB;AACd,wBACE,eAAC,KAAD,CAAO,QAAP,qBACE;AAAM,mBAAU,KAAhB;AAAsB,MAAA,uBAAuB,EAAE;AAAEC,QAAAA,MAAM,EAAEV,cAAc,CAACQ,YAAD;AAAxB;AAA/C,MADF,CADF;AAKD;;AACD,sBACE,eAAC,KAAD,CAAO,QAAP,qBACE;AAAM,iBAAU;AAAhB,KAAwBA,YAAxB,CADF,CADF;AAKD","sourcesContent":["import * as React from 'react';\nimport { renderToString } from 'katex';\n\nfunction getKatexString(text: string, throwOnError = false) {\n  return renderToString(text, {\n    errorColor: '#FF5219',\n    throwOnError,\n  });\n}\n\nexport default function formula(attrs: Record<string, any>, configs: any) {\n  const { metadata } = attrs;\n  const { formula: formulaValue } = metadata;\n  const { prettyHTML } = configs.formula || {};\n  if (prettyHTML) {\n    return (\n      <React.Fragment>\n        <span data-type=\"tag\" dangerouslySetInnerHTML={{ __html: getKatexString(formulaValue) }} />\n      </React.Fragment>\n    );\n  }\n  return (\n    <React.Fragment>\n      <span data-type=\"tag\" >{formulaValue}</span>\n    </React.Fragment>\n  );\n}\n"],"file":"formula.js"}