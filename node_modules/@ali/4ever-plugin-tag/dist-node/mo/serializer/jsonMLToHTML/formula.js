"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = formula;

var React = _interopRequireWildcard(require("react"));

var _katex = require("katex");

const _createElement = /*#__PURE__*/React.createElement;

function getKatexString(text, throwOnError = false) {
  return (0, _katex.renderToString)(text, {
    errorColor: '#FF5219',
    throwOnError
  });
}

function formula(attrs, configs) {
  const {
    metadata
  } = attrs;
  const {
    formula: formulaValue
  } = metadata;
  const {
    prettyHTML
  } = configs.formula || {};

  if (prettyHTML) {
    return /*#__PURE__*/_createElement(React.Fragment, null, /*#__PURE__*/_createElement("span", {
      "data-type": "tag",
      dangerouslySetInnerHTML: {
        __html: getKatexString(formulaValue)
      }
    }));
  }

  return /*#__PURE__*/_createElement(React.Fragment, null, /*#__PURE__*/_createElement("span", {
    "data-type": "tag"
  }, formulaValue));
}
//# sourceMappingURL=formula.js.map