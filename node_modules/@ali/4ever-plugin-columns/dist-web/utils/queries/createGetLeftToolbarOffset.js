import { Table, TableCell, TableRow } from '@ali/4ever-plugin-table';
import { OldBambooPlugin } from '@ali/4ever-plugin-list-group';
var isFoldGroupNode = OldBambooPlugin.utils.isFoldGroupNode;
export default function createGetLeftToolbarOffset(isDisabled) {
  return function (controller, data) {
    var _node$data, _node$data$list;

    if (isDisabled && isDisabled()) {
      return undefined;
    }

    var document = controller.value.document;
    var node = data.node;
    var parent = controller.value.document.getParent(node.key);

    if (!TableCell.isTableCell(parent)) {
      return undefined;
    }

    var row = document.getParent(parent.key);
    var table = TableRow.isTableRow(row) && document.getParent(row.key);
    var isColumns = Table.isTable(table) && !!table.data.sr;
    var isFirstLineList = (node == null ? void 0 : (_node$data = node.data) == null ? void 0 : (_node$data$list = _node$data.list) == null ? void 0 : _node$data$list.level) === 0 && isFoldGroupNode(node, controller);

    if (isColumns && !isFirstLineList) {
      return {
        x: -5,
        y: 0
      };
    }

    return undefined;
  };
}
//# sourceMappingURL=createGetLeftToolbarOffset.js.map