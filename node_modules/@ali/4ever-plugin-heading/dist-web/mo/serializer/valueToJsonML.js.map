{"version":3,"sources":["../../../../src/mo/serializer/valueToJsonML.ts"],"names":["Heading","typeToTagMapper","Heading1","TYPE","Heading2","Heading3","Heading4","Heading5","Heading6","typeToTag","type","match","node","isHeading","convert","data"],"mappings":";;AAEA,OAAOA,OAAP;AAEA,IAAMC,eAAuC,4CAC1CD,OAAO,CAACE,QAAR,CAAiBC,IADyB,IAClB,IADkB,mBAE1CH,OAAO,CAACI,QAAR,CAAiBD,IAFyB,IAElB,IAFkB,mBAG1CH,OAAO,CAACK,QAAR,CAAiBF,IAHyB,IAGlB,IAHkB,mBAI1CH,OAAO,CAACM,QAAR,CAAiBH,IAJyB,IAIlB,IAJkB,mBAK1CH,OAAO,CAACO,QAAR,CAAiBJ,IALyB,IAKlB,IALkB,mBAM1CH,OAAO,CAACQ,QAAR,CAAiBL,IANyB,IAMlB,IANkB,mBAA7C;;AASA,SAASM,SAAT,CAAmBC,IAAnB,EAAyC;AACvC;AACA;AACA,SAAOA,IAAI,GAAGT,eAAe,CAACS,IAAD,CAAlB,GAA2B,GAAtC;AACD;;AAED,eAAe;AACbC,EAAAA,KAAK,EAAE,eAACC,IAAD,EAAyB;AAC9B,WAAOZ,OAAO,CAACa,SAAR,CAAkBD,IAAlB,CAAP;AACD,GAHY;AAKbE,EAAAA,OAAO,EAAE,iBAACF,IAAD,EAAyB;AAChC;AACA,WAAO,CAACH,SAAS,CAACG,IAAI,CAACF,IAAN,CAAV,EAAuBE,IAAI,CAACG,IAA5B,CAAP;AACD;AARY,CAAf","sourcesContent":["import { Node, Block } from '@ali/4ever-cangjie';\nimport { JsonML } from '@ali/4ever-utils';\nimport Heading from '../models';\n\nconst typeToTagMapper: Record<string, string> = {\n  [Heading.Heading1.TYPE]: 'h1',\n  [Heading.Heading2.TYPE]: 'h2',\n  [Heading.Heading3.TYPE]: 'h3',\n  [Heading.Heading4.TYPE]: 'h4',\n  [Heading.Heading5.TYPE]: 'h5',\n  [Heading.Heading6.TYPE]: 'h6',\n};\n\nfunction typeToTag(type: string): string {\n  // 没有 block.type 的情况，则渲染为段落，参考 slate 兜底方案\n  // Ref: http://gitlab.alibaba-inc.com/alidocs/we-slate/blob/master/packages/slate-react/src/plugins/after.js#L740\n  return type ? typeToTagMapper[type] : 'p';\n}\n\nexport default {\n  match: (node: Node): boolean => {\n    return Heading.isHeading(node);\n  },\n\n  convert: (node: Block): JsonML => {\n    // @ts-ignore\n    return [typeToTag(node.type), node.data];\n  },\n};\n"],"file":"valueToJsonML.js"}