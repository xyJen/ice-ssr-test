{"version":3,"sources":["../../../../src/mo/serializer/valueToJsonML.ts"],"names":["typeToTagMapper","Heading","Heading1","TYPE","Heading2","Heading3","Heading4","Heading5","Heading6","typeToTag","type","match","node","isHeading","convert","data"],"mappings":";;;;;;;;;AAEA;;AAEA,MAAMA,eAAuC,GAAG;AAC9C,GAACC,gBAAQC,QAAR,CAAiBC,IAAlB,GAAyB,IADqB;AAE9C,GAACF,gBAAQG,QAAR,CAAiBD,IAAlB,GAAyB,IAFqB;AAG9C,GAACF,gBAAQI,QAAR,CAAiBF,IAAlB,GAAyB,IAHqB;AAI9C,GAACF,gBAAQK,QAAR,CAAiBH,IAAlB,GAAyB,IAJqB;AAK9C,GAACF,gBAAQM,QAAR,CAAiBJ,IAAlB,GAAyB,IALqB;AAM9C,GAACF,gBAAQO,QAAR,CAAiBL,IAAlB,GAAyB;AANqB,CAAhD;;AASA,SAASM,SAAT,CAAmBC,IAAnB,EAAyC;AACvC;AACA;AACA,SAAOA,IAAI,GAAGV,eAAe,CAACU,IAAD,CAAlB,GAA2B,GAAtC;AACD;;eAEc;AACbC,EAAAA,KAAK,EAAGC,IAAD,IAAyB;AAC9B,WAAOX,gBAAQY,SAAR,CAAkBD,IAAlB,CAAP;AACD,GAHY;AAKbE,EAAAA,OAAO,EAAGF,IAAD,IAAyB;AAChC;AACA,WAAO,CAACH,SAAS,CAACG,IAAI,CAACF,IAAN,CAAV,EAAuBE,IAAI,CAACG,IAA5B,CAAP;AACD;AARY,C","sourcesContent":["import { Node, Block } from '@ali/4ever-cangjie';\nimport { JsonML } from '@ali/4ever-utils';\nimport Heading from '../models';\n\nconst typeToTagMapper: Record<string, string> = {\n  [Heading.Heading1.TYPE]: 'h1',\n  [Heading.Heading2.TYPE]: 'h2',\n  [Heading.Heading3.TYPE]: 'h3',\n  [Heading.Heading4.TYPE]: 'h4',\n  [Heading.Heading5.TYPE]: 'h5',\n  [Heading.Heading6.TYPE]: 'h6',\n};\n\nfunction typeToTag(type: string): string {\n  // 没有 block.type 的情况，则渲染为段落，参考 slate 兜底方案\n  // Ref: http://gitlab.alibaba-inc.com/alidocs/we-slate/blob/master/packages/slate-react/src/plugins/after.js#L740\n  return type ? typeToTagMapper[type] : 'p';\n}\n\nexport default {\n  match: (node: Node): boolean => {\n    return Heading.isHeading(node);\n  },\n\n  convert: (node: Block): JsonML => {\n    // @ts-ignore\n    return [typeToTag(node.type), node.data];\n  },\n};\n"],"file":"valueToJsonML.js"}