{"version":3,"sources":["../../../../src/bi/commands/createInsert.ts"],"names":["TemplateButton","toggleOpen","createInsert","config","insert","controller","payload","defaultTitle","locale","nameTitleDefault","block","createTemplateButton","title","process","env","NODE_ENV","undefined","dispatch","node","key"],"mappings":";AACA,SAASA,cAAT;AAEA,SAASC,UAAT;AAEA,eAAe,SAASC,YAAT,CAAsBC,MAAtB,EAAqD;AAClE,SAAO,SAASC,MAAT,CACLC,UADK,EAELC,OAFK,EAGL;AAAA;;AACA,QAAMC,YAAY,GAAG,CAAAJ,MAAM,QAAN,8BAAAA,MAAM,CAAEK,MAAR,oCAAgBC,gBAAhB,KAAoC,iBAAzD;AACA,QAAMC,KAAK,GAAGV,cAAc,CAACW,oBAAf,cACRL,OAAO,IAAI,EADH;AAEZM,MAAAA,KAAK,EAAE,CAAAN,OAAO,QAAP,YAAAA,OAAO,CAAEM,KAAT,KAAkBL;AAFb,QAGXM,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GAAkC,MAAlC,GAA2CC,SAHhC,CAAd;AAIAX,IAAAA,UAAU,CAACY,QAAX,CAAoB,0CAApB,EAAgE;AAAEC,MAAAA,IAAI,EAAER;AAAR,KAAhE;AACA,WAAOT,UAAU,CAACI,UAAD,EAAaK,KAAK,CAACS,GAAnB,CAAjB;AACD,GAXD;AAYD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { TemplateButton, TemplateButtonData } from '../../mo';\nimport { TemplateButtonConfig } from '../../type';\nimport { toggleOpen } from './toggleOpen';\n\nexport default function createInsert(config?: TemplateButtonConfig) {\n  return function insert(\n    controller: Controller,\n    payload?: Partial<Omit<TemplateButtonData['metadata'], 'isOpen'>>,\n  ) {\n    const defaultTitle = config?.locale?.nameTitleDefault || 'Add a new to-do';\n    const block = TemplateButton.createTemplateButton({\n      ...(payload || {}),\n      title: payload?.title || defaultTitle,\n    }, process.env.NODE_ENV === 'test' ? 'test' : undefined);\n    controller.dispatch(\"createInsertBlockWithoutExtraBlankAction\", { node: block });\n    return toggleOpen(controller, block.key);\n  };\n}\n"],"file":"createInsert.js"}