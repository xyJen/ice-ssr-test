{"version":3,"sources":["../../../src/components/menu.tsx"],"names":["React","MenuItem","TemplateButtonRole","ImageMenu","props","menuItem","controller","title","rest","isCollapsedAtEdge","value","selection","isDisabled","query","handleClick","useCallback","dispatch","templateButton"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,kBAAT;AAEA;AAEA,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAA8C;AAAA,MACnDC,QADmD,GAC1BD,KAD0B,CACnDC,QADmD;AAAA,MACzCC,UADyC,GAC1BF,KAD0B,CACzCE,UADyC;;AAAA,MAEnDC,KAFmD,GAEhCF,QAFgC,CAEnDE,KAFmD;AAAA,MAEzCC,IAFyC,iCAEhCH,QAFgC;;AAAA,MAInDI,iBAJmD,GAI7BH,UAAU,CAACI,KAAX,CAAiBC,SAJY,CAInDF,iBAJmD;AAK3D,MAAMG,UAAU,GAAGH,iBAAiB,IAC/BH,UAAU,CAACO,KAAX,CAAiB,oBAAjB,CADc,IAEdP,UAAU,CAACO,KAAX,CAAiB,mBAAjB,CAFc,IAGdP,UAAU,CAACO,KAAX,CAAiB,sBAAjB,CAHc,IAIdP,UAAU,CAACO,KAAX,CAAiB,uBAAjB,CAJL;AAMA,MAAMC,WAAW,GAAGd,KAAK,CAACe,WAAN,CAClB;AAAA,WAAMT,UAAU,CAACU,QAAX,CAAoB,sBAApB,CAAN;AAAA,GADkB,EAElB,CAACV,UAAD,CAFkB,CAApB;AAKA,sBACE,eAAC,QAAD,eAAcE,IAAd;AAAoB,IAAA,QAAQ,EAAEI,UAA9B;AAA0C,IAAA,OAAO,EAAEE,WAAnD;AAAgE,IAAA,IAAI,EAAEZ,kBAAkB,CAACe;AAAzF,MACGV,KAAK,IAAI,EADZ,CADF;AAKD","sourcesContent":["import * as React from 'react';\nimport { MenuItem } from '@ali/we-design';\nimport { TemplateButtonRole } from '../utils/role';\nimport { MenuItemInnerProps } from '@ali/4ever-component';\n;\n\nexport default function ImageMenu(props: MenuItemInnerProps) {\n  const { menuItem, controller } = props;\n  const { title, ...rest } = menuItem;\n\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled = isCollapsedAtEdge\n    || controller.query('isSelectionInImage')\n    || controller.query('isSelectionInLink')\n    || controller.query('isSelectionInMention')\n    || controller.query('isSelectionInLinkCard');\n\n  const handleClick = React.useCallback(\n    () => controller.dispatch('insertTemplateButton'),\n    [controller],\n  );\n\n  return (\n    <MenuItem {...rest} disabled={isDisabled} onClick={handleClick} role={TemplateButtonRole.templateButton}>\n      {title || ''}\n    </MenuItem>\n  );\n}\n"],"file":"menu.js"}