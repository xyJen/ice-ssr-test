"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isInNotEmptyTemplateButton;

var _isInTemplateButton = _interopRequireDefault(require("./isInTemplateButton"));

var _mo = require("../../mo");

var _utils = require("../utils");

/**
 * 是否在非空的模板按钮内（打开状态包含内容 || 非打开）
 * @param controller
 * @param data
 * @returns
 */
function isInNotEmptyTemplateButton(controller, data) {
  const {
    node
  } = data;
  const inTemplateButton = (0, _isInTemplateButton.default)(controller, data);

  if (!inTemplateButton) {
    return false;
  }

  const button = controller.value.document.getClosest(node.key, _mo.TemplateButton.isTemplateButton); // 处于打开状态 且 内容为空

  if (_mo.TemplateButton.isOpen(controller, button.key) && button.nodes.length === 1 && (0, _utils.isEmptyNode)(controller, button.nodes[0])) {
    return false;
  }

  return true;
}
//# sourceMappingURL=isInNotEmptyTemplateButton.js.map