{"version":3,"sources":["../../../../src/bi/queries/getLeftToolbarOffset.ts"],"names":["getLeftToolbarOffset","controller","data","node","parent","value","document","getParent","key","TemplateButton","isTemplateButton","x","y"],"mappings":";;;;;;;AACA;;AAMe,SAASA,oBAAT,CACbC,UADa,EAEbC,IAFa,EAGb;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAWD,IAAjB;AACA,MAAI,CAACC,IAAL,EAAW,OAAO,KAAP;AACX,MAAIC,MAAM,GAAGH,UAAU,CAACI,KAAX,CAAiBC,QAAjB,CAA0BC,SAA1B,CAAoCJ,IAAI,CAACK,GAAzC,CAAb;;AACA,SAAOJ,MAAM,IAAI,CAACK,mBAAeC,gBAAf,CAAgCN,MAAhC,CAAlB,EAA2D;AACzDA,IAAAA,MAAM,GAAGH,UAAU,CAACI,KAAX,CAAiBC,QAAjB,CAA0BC,SAA1B,CAAoCH,MAAM,CAACI,GAA3C,CAAT;AACD;;AACD,MAAIJ,MAAJ,EAAY;AACV,WAAO;AACLO,MAAAA,CAAC,EAAE,EADE;AAELC,MAAAA,CAAC,EAAE;AAFE,KAAP;AAID;;AACD,SAAO,KAAP;AACD","sourcesContent":["import { Controller, Node, Block } from '@ali/4ever-cangjie';\nimport { TemplateButton } from '../../mo';\n\ninterface QueryData {\n  node: Node | Block | null;\n}\n\nexport default function getLeftToolbarOffset(\n  controller: Controller,\n  data: QueryData,\n) {\n  const { node } = data;\n  if (!node) return false;\n  let parent = controller.value.document.getParent(node.key);\n  while (parent && !TemplateButton.isTemplateButton(parent)) {\n    parent = controller.value.document.getParent(parent.key);\n  }\n  if (parent) {\n    return {\n      x: 11,\n      y: 0,\n    };\n  }\n  return false;\n}\n"],"file":"getLeftToolbarOffset.js"}