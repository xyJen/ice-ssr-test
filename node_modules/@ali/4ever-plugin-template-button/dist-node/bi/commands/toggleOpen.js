"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toggleOpen = toggleOpen;

var _everCangjie = require("@ali/4ever-cangjie");

var _mo = require("../../mo");

function toggleOpen(controller, key) {
  const {
    injections
  } = controller.value;

  const isOpen = _mo.TemplateButton.isOpen(controller, key);

  const injection = _everCangjie.Injection.create({
    key,
    data: {
      metadata: {
        isOpen: !isOpen
      }
    },

    mergeData(a, b) {
      return { ...a,
        ...b,
        metadata: { ...a.metadata,
          ...b.metadata
        }
      };
    }

  });

  const excludeInjections = injections.filter(inj => inj.key !== key);
  return controller.setInjections(excludeInjections.concat(injection));
}
//# sourceMappingURL=toggleOpen.js.map