{"version":3,"sources":["../../../../src/bi/commands/setNodeData.ts"],"names":["setNodeData","controller","payload","key","data","node","value","document","getNode","command","Commands","setNodeByKey","type","metadata"],"mappings":";;;;;;;AAAA;;AAIO,SAASA,WAAT,CACLC,UADK,EAELC,OAFK,EAGL;AACA,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAgBF,OAAtB;AACA,QAAMG,IAAI,GAAGJ,UAAU,CAACK,KAAX,CAAiBC,QAAjB,CAA0BC,OAA1B,CAAkCL,GAAlC,CAAb;AACAF,EAAAA,UAAU,CAACQ,OAAX,CAAmBC,sBAASC,YAA5B,EAA0CR,GAA1C,EAA+C;AAC7CS,IAAAA,IAAI,EAAEP,IAAI,CAACO,IADkC;AAE7CR,IAAAA,IAAI,EAAE,EACJ,GAAGC,IAAI,CAACD,IADJ;AAEJS,MAAAA,QAAQ,EAAE,EACR,GAAGR,IAAI,CAACD,IAAL,CAAUS,QADL;AAER,WAAGT;AAFK;AAFN;AAFuC,GAA/C;AAUA,SAAOH,UAAP;AACD","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\nimport { TemplateButton } from '../../mo';\nimport { SetDataProps } from '../actions';\n\nexport function setNodeData(\n  controller: Controller,\n  payload: { key: string; data: SetDataProps },\n) {\n  const { key, data } = payload;\n  const node = controller.value.document.getNode(key) as TemplateButton;\n  controller.command(Commands.setNodeByKey, key, {\n    type: node.type,\n    data: {\n      ...node.data,\n      metadata: {\n        ...node.data.metadata,\n        ...data,\n      },\n    },\n  });\n  return controller;\n}\n"],"file":"setNodeData.js"}