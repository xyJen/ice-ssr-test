{"version":3,"sources":["../../../../src/bi/commands/createInsert.ts"],"names":["createInsert","config","insert","controller","payload","defaultTitle","locale","nameTitleDefault","block","TemplateButton","createTemplateButton","title","process","env","NODE_ENV","undefined","dispatch","node","key"],"mappings":";;;;;;;AACA;;AAEA;;AAEe,SAASA,YAAT,CAAsBC,MAAtB,EAAqD;AAClE,SAAO,SAASC,MAAT,CACLC,UADK,EAELC,OAFK,EAGL;AACA,UAAMC,YAAY,GAAGJ,MAAM,EAAEK,MAAR,EAAgBC,gBAAhB,IAAoC,iBAAzD;;AACA,UAAMC,KAAK,GAAGC,mBAAeC,oBAAf,CAAoC,EAChD,IAAIN,OAAO,IAAI,EAAf,CADgD;AAEhDO,MAAAA,KAAK,EAAEP,OAAO,EAAEO,KAAT,IAAkBN;AAFuB,KAApC,EAGXO,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GAAkC,MAAlC,GAA2CC,SAHhC,CAAd;;AAIAZ,IAAAA,UAAU,CAACa,QAAX,CAAoB,0CAApB,EAAgE;AAAEC,MAAAA,IAAI,EAAET;AAAR,KAAhE;AACA,WAAO,4BAAWL,UAAX,EAAuBK,KAAK,CAACU,GAA7B,CAAP;AACD,GAXD;AAYD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { TemplateButton, TemplateButtonData } from '../../mo';\nimport { TemplateButtonConfig } from '../../type';\nimport { toggleOpen } from './toggleOpen';\n\nexport default function createInsert(config?: TemplateButtonConfig) {\n  return function insert(\n    controller: Controller,\n    payload?: Partial<Omit<TemplateButtonData['metadata'], 'isOpen'>>,\n  ) {\n    const defaultTitle = config?.locale?.nameTitleDefault || 'Add a new to-do';\n    const block = TemplateButton.createTemplateButton({\n      ...(payload || {}),\n      title: payload?.title || defaultTitle,\n    }, process.env.NODE_ENV === 'test' ? 'test' : undefined);\n    controller.dispatch(\"createInsertBlockWithoutExtraBlankAction\", { node: block });\n    return toggleOpen(controller, block.key);\n  };\n}\n"],"file":"createInsert.js"}