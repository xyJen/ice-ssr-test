{"version":3,"sources":["../../../src/components/menu.tsx"],"names":["ImageMenu","props","menuItem","controller","title","rest","isCollapsedAtEdge","value","selection","isDisabled","query","handleClick","React","useCallback","dispatch","TemplateButtonRole","templateButton"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;uBAD4B,a;AAG5B;;AAEe,SAASA,SAAT,CAAmBC,KAAnB,EAA8C;AAC3D,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA2BF,KAAjC;AACA,QAAM;AAAEG,IAAAA,KAAF;AAAS,OAAGC;AAAZ,MAAqBH,QAA3B;AAEA,QAAM;AAAEI,IAAAA;AAAF,MAAwBH,UAAU,CAACI,KAAX,CAAiBC,SAA/C;AACA,QAAMC,UAAU,GAAGH,iBAAiB,IAC/BH,UAAU,CAACO,KAAX,CAAiB,oBAAjB,CADc,IAEdP,UAAU,CAACO,KAAX,CAAiB,mBAAjB,CAFc,IAGdP,UAAU,CAACO,KAAX,CAAiB,sBAAjB,CAHc,IAIdP,UAAU,CAACO,KAAX,CAAiB,uBAAjB,CAJL;AAMA,QAAMC,WAAW,GAAGC,KAAK,CAACC,WAAN,CAClB,MAAMV,UAAU,CAACW,QAAX,CAAoB,sBAApB,CADY,EAElB,CAACX,UAAD,CAFkB,CAApB;AAKA,sBACE,eAAC,kBAAD,6BAAcE,IAAd;AAAoB,IAAA,QAAQ,EAAEI,UAA9B;AAA0C,IAAA,OAAO,EAAEE,WAAnD;AAAgE,IAAA,IAAI,EAAEI,yBAAmBC;AAAzF,MACGZ,KAAK,IAAI,EADZ,CADF;AAKD","sourcesContent":["import * as React from 'react';\nimport { MenuItem } from '@ali/we-design';\nimport { TemplateButtonRole } from '../utils/role';\nimport { MenuItemInnerProps } from '@ali/4ever-component';\n;\n\nexport default function ImageMenu(props: MenuItemInnerProps) {\n  const { menuItem, controller } = props;\n  const { title, ...rest } = menuItem;\n\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled = isCollapsedAtEdge\n    || controller.query('isSelectionInImage')\n    || controller.query('isSelectionInLink')\n    || controller.query('isSelectionInMention')\n    || controller.query('isSelectionInLinkCard');\n\n  const handleClick = React.useCallback(\n    () => controller.dispatch('insertTemplateButton'),\n    [controller],\n  );\n\n  return (\n    <MenuItem {...rest} disabled={isDisabled} onClick={handleClick} role={TemplateButtonRole.templateButton}>\n      {title || ''}\n    </MenuItem>\n  );\n}\n"],"file":"menu.js"}