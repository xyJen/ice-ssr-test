{"version":3,"sources":["../../../../src/mo/serializer/jsonMLToValue.ts"],"names":["name","RefBlock","TYPE","match","node","convert","create","data","nodes","decorate","isRefBlock","refblockUUID","regenerateChildrenUUID"],"mappings":";;;;;;;;;AAAA;;AAOA;;eAEe;AACbA,EAAAA,IAAI,EAAEC,gBAASC,IADF;;AAGbC,EAAAA,KAAK,CAACC,IAAD,EAAwB;AAC3B,WAAO,mCAAiBA,IAAjB,MAA2BH,gBAASC,IAA3C;AACD,GALY;;AAObG,EAAAA,OAAO,CAACD,IAAD,EAAsB;AAC3B,WAAOH,gBAASK,MAAT,CAAgB;AACrBC,MAAAA,IAAI,EAAE,sCAAoBH,IAApB,KAA6B,EADd;AAErBI,MAAAA,KAAK,EAAE;AAFc,KAAhB,CAAP;AAID,GAZY;;AAcbC,EAAAA,QAAQ,CAACL,IAAD,EAAmB;AACzB,QAAIH,gBAASS,UAAT,CAAoBN,IAApB,KAA6BA,IAAI,CAACG,IAAL,CAAUI,YAA3C,EAAyD;AACvD,aAAOV,gBAASW,sBAAT,CAAgCR,IAAhC,EAAsCA,IAAI,CAACG,IAAL,CAAUI,YAAhD,EAA8D,MAA9D,CAAP;AACD;;AACD,WAAOP,IAAP;AACD;;AAnBY,C","sourcesContent":["import {\n  Block,\n  jsonMLGetTagName,\n  jsonMLGetAttributes,\n  JsonML,\n  Node,\n} from '@ali/4ever-cangjie';\nimport RefBlock from '../models';\n\nexport default {\n  name: RefBlock.TYPE,\n\n  match(node: JsonML): boolean {\n    return jsonMLGetTagName(node) === RefBlock.TYPE;\n  },\n\n  convert(node: JsonML): Block {\n    return RefBlock.create({\n      data: jsonMLGetAttributes(node) || {},\n      nodes: [],\n    });\n  },\n\n  decorate(node: Node): Node {\n    if (RefBlock.isRefBlock(node) && node.data.refblockUUID) {\n      return RefBlock.regenerateChildrenUUID(node, node.data.refblockUUID, 'uuid');\n    }\n    return node;\n  },\n};\n"],"file":"jsonMLToValue.js"}