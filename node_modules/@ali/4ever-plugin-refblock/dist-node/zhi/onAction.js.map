{"version":3,"sources":["../../../src/zhi/onAction.ts"],"names":["onAction","action","controller","next","isActions","isSetRefBlockInjectionByDocKeyAction","data","docKey","overwrite","payload","command","commands","setRefBlockInjectionByDocKey","isSetRefBlockInjectionByKeyAction","key","setRefBlockInjectionByKey"],"mappings":";;;;;;;AACA;;AACA;;AAEe,SAASA,QAAT,CACbC,MADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AACA,MAAIC,mBAAUC,oCAAV,CAA+CJ,MAA/C,CAAJ,EAA4D;AAC1D,UAAM;AAAEK,MAAAA,IAAF;AAAQC,MAAAA,MAAR;AAAgBC,MAAAA;AAAhB,QAA8BP,MAAM,CAACQ,OAA3C;AACA,WAAOP,UAAU,CAACQ,OAAX,CACLC,mBAASC,4BADJ,EAELL,MAFK,EAGLD,IAHK,EAILE,SAJK,CAAP;AAMD,GARD,MAQO,IAAIJ,mBAAUS,iCAAV,CAA4CZ,MAA5C,CAAJ,EAAyD;AAC9D,UAAM;AAAEK,MAAAA,IAAF;AAAQQ,MAAAA,GAAR;AAAaN,MAAAA;AAAb,QAA2BP,MAAM,CAACQ,OAAxC;AACA,WAAOP,UAAU,CAACQ,OAAX,CACLC,mBAASI,yBADJ,EAELD,GAFK,EAGLR,IAHK,EAILE,SAJK,CAAP;AAMD;AAED;;;AACA,SAAOL,IAAI,EAAX;AACD","sourcesContent":["import { Controller, Action } from '@ali/4ever-cangjie';\nimport { isActions } from '../common/actions';\nimport { commands } from '../common/commands';\n\nexport default function onAction(\n  action: Action,\n  controller: Controller,\n  next: () => void,\n) {\n  if (isActions.isSetRefBlockInjectionByDocKeyAction(action)) {\n    const { data, docKey, overwrite } = action.payload;\n    return controller.command(\n      commands.setRefBlockInjectionByDocKey,\n      docKey,\n      data,\n      overwrite,\n    );\n  } else if (isActions.isSetRefBlockInjectionByKeyAction(action)) {\n    const { data, key, overwrite } = action.payload;\n    return controller.command(\n      commands.setRefBlockInjectionByKey,\n      key,\n      data,\n      overwrite,\n    );\n  }\n\n  /* istanbul ignore next */\n  return next();\n}\n"],"file":"onAction.js"}