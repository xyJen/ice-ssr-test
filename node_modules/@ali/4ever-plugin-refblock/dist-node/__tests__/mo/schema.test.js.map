{"version":3,"sources":["../../../../src/__tests__/mo/schema.test.tsx"],"names":["createController","value","Controller","create","plugins","normalize","describe","test","docKey","refblockUUID","expected","controller","expect","toJSON","toEqual"],"mappings":";;;;AACA;;AACA;;AACA;;AAHA;AAKA,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AAC/B,SAAOC,wBAAWC,MAAX,CACL;AAAEF,IAAAA,KAAF;AAASG,IAAAA,OAAO,EAAE,CAAC,iBAAU,EAAV,CAAD;AAAlB,GADK,EAEL;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAFK,CAAP;AAID;;WAeW,mC;;YAiBA;AAAO,EAAA,IAAI,EAAC;AAAZ,GACE,mCADF,C;;AA9BZC,QAAQ,CAAC,iBAAD,EAAoB,MAAM;AAChCC,EAAAA,IAAI,CAAC,0CAAD,EAA6C,MAAM;AACrD,UAAMN,KAAK,GACT,qCACE,wCACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,GAAG,EAAC,UAFN;AAGE,MAAA,IAAI,EAAE;AACJO,QAAAA,MAAM,EAAE,OADJ;AAEJC,QAAAA,YAAY,EAAE;AAFV;AAHR,YADF,CADF,CADF;AAiBA,UAAMC,QAAQ,GACZ,qCACE,wCACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,GAAG,EAAC,UAFN;AAGE,MAAA,IAAI,EAAE;AACJF,QAAAA,MAAM,EAAE,OADJ;AAEJC,QAAAA,YAAY,EAAE;AAFV;AAHR,aADF,CADF,CADF;AAmBA,UAAME,UAAU,GAAGX,gBAAgB,CAACC,KAAD,CAAnC;AACAW,IAAAA,MAAM,CAACD,UAAU,CAACV,KAAX,CAAiBY,MAAjB,EAAD,CAAN,CAAkCC,OAAlC,CAA0CJ,QAAQ,CAACG,MAAT,EAA1C;AACD,GAvCG,CAAJ;AAwCD,CAzCO,CAAR","sourcesContent":["/** @jsx jsx */\nimport { Controller, Value } from '@ali/4ever-cangjie';\nimport { jsx } from '@ali/4ever-dev-test';\nimport moFactory from '../../mo';\n\nfunction createController(value) {\n  return Controller.create(\n    { value, plugins: [moFactory({})] },\n    { normalize: true },\n  );\n}\n\ndescribe('RefBlock Schema', () => {\n  test('replace single text child with paragraph', () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"refblock\"\n            key=\"refblock\"\n            data={{\n              docKey: 'doc-a',\n              refblockUUID: 'doc-a-uuid',\n            }}\n          >\n            <text></text>\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n\n    const expected = (\n      <value>\n        <document>\n          <block\n            type=\"refblock\"\n            key=\"refblock\"\n            data={{\n              docKey: 'doc-a',\n              refblockUUID: 'doc-a-uuid',\n            }}\n          >\n            <block type=\"paragraph\">\n              <text></text>\n            </block>\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n\n    const controller = createController(value);\n    expect(controller.value.toJSON()).toEqual(expected.toJSON());\n  });\n});\n"],"file":"schema.test.js"}