import { Commands, hotkeys } from '@ali/4ever-cangjie';
import { getClosestRefBlockInSelection } from "../../utils/logic";
export default function onKeyDown(event, controller, next) {
  // 全选选中引用块
  if (hotkeys.isSelectAll(event)) {
    var refblock = getClosestRefBlockInSelection(controller.value);

    if (!refblock || !refblock.nodes.length || controller.query('shouldSelectAll', refblock)) {
      return next();
    }

    event.preventDefault();
    var firstChild = refblock.nodes[0];
    var lastChild = refblock.nodes[refblock.nodes.length - 1];
    return controller.command(Commands.moveAnchorToStartOfNode, firstChild).command(Commands.moveFocusToEndOfNode, lastChild);
  }

  return next();
}
//# sourceMappingURL=onKeyDown.js.map