{"version":3,"sources":["../../../../src/bi/commands/insertRefBlock.ts"],"names":["Commands","Paragraph","RefBlock","insertRefBlock","controller","data","refblock","create","nodes","dispatch","node","command","moveToEndOfNode","focus"],"mappings":"AAAA,SAAqBA,QAArB,QAAqC,oBAArC;AACA,SAASC,SAAT,QAA0B,6BAA1B;AACA,OAAOC,QAAP;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,cAAT,CACLC,UADK,EAELC,IAFK,EAGL;AACA,MAAMC,QAAQ,GAAGJ,QAAQ,CAACK,MAAT,CAAgB;AAC/BF,IAAAA,IAAI,EAAJA,IAD+B;AAE/BG,IAAAA,KAAK,EAAE,CAACP,SAAS,CAACM,MAAV,EAAD;AAFwB,GAAhB,CAAjB;AAKAH,EAAAA,UAAU,CAACK,QAAX,CAAoB,0CAApB,EAAgE;AAAEC,IAAAA,IAAI,EAAEJ;AAAR,GAAhE;AAEA,SAAOF,UAAU,CACdO,OADI,CACIX,QAAQ,CAACY,eADb,EAC8BN,QAD9B,EAEJK,OAFI,CAEIX,QAAQ,CAACa,KAFb,CAAP;AAGD","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\nimport { Paragraph } from '@ali/4ever-plugin-paragraph';\nimport RefBlock, { RefBlockData } from '../../mo/models';\n\n/**\n * 插入引用块\n * @param controller\n * @param data\n * @returns\n */\nexport function insertRefBlock(\n  controller: Controller,\n  data: RefBlockData,\n) {\n  const refblock = RefBlock.create({\n    data,\n    nodes: [Paragraph.create()],\n  });\n\n  controller.dispatch('createInsertBlockWithoutExtraBlankAction', { node: refblock });\n\n  return controller\n    .command(Commands.moveToEndOfNode, refblock)\n    .command(Commands.focus);\n}\n"],"file":"insertRefBlock.js"}