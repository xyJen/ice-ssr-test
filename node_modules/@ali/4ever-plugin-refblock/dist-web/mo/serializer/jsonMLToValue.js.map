{"version":3,"sources":["../../../../src/mo/serializer/jsonMLToValue.ts"],"names":["jsonMLGetTagName","jsonMLGetAttributes","RefBlock","name","TYPE","match","node","convert","create","data","nodes","decorate","isRefBlock","refblockUUID","regenerateChildrenUUID"],"mappings":"AAAA,SAEEA,gBAFF,EAGEC,mBAHF,QAMO,oBANP;AAOA,OAAOC,QAAP;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAED,QAAQ,CAACE,IADF;AAGbC,EAAAA,KAHa,iBAGPC,IAHO,EAGgB;AAC3B,WAAON,gBAAgB,CAACM,IAAD,CAAhB,KAA2BJ,QAAQ,CAACE,IAA3C;AACD,GALY;AAObG,EAAAA,OAPa,mBAOLD,IAPK,EAOgB;AAC3B,WAAOJ,QAAQ,CAACM,MAAT,CAAgB;AACrBC,MAAAA,IAAI,EAAER,mBAAmB,CAACK,IAAD,CAAnB,IAA6B,EADd;AAErBI,MAAAA,KAAK,EAAE;AAFc,KAAhB,CAAP;AAID,GAZY;AAcbC,EAAAA,QAda,oBAcJL,IAdI,EAcc;AACzB,QAAIJ,QAAQ,CAACU,UAAT,CAAoBN,IAApB,KAA6BA,IAAI,CAACG,IAAL,CAAUI,YAA3C,EAAyD;AACvD,aAAOX,QAAQ,CAACY,sBAAT,CAAgCR,IAAhC,EAAsCA,IAAI,CAACG,IAAL,CAAUI,YAAhD,EAA8D,MAA9D,CAAP;AACD;;AACD,WAAOP,IAAP;AACD;AAnBY,CAAf","sourcesContent":["import {\n  Block,\n  jsonMLGetTagName,\n  jsonMLGetAttributes,\n  JsonML,\n  Node,\n} from '@ali/4ever-cangjie';\nimport RefBlock from '../models';\n\nexport default {\n  name: RefBlock.TYPE,\n\n  match(node: JsonML): boolean {\n    return jsonMLGetTagName(node) === RefBlock.TYPE;\n  },\n\n  convert(node: JsonML): Block {\n    return RefBlock.create({\n      data: jsonMLGetAttributes(node) || {},\n      nodes: [],\n    });\n  },\n\n  decorate(node: Node): Node {\n    if (RefBlock.isRefBlock(node) && node.data.refblockUUID) {\n      return RefBlock.regenerateChildrenUUID(node, node.data.refblockUUID, 'uuid');\n    }\n    return node;\n  },\n};\n"],"file":"jsonMLToValue.js"}