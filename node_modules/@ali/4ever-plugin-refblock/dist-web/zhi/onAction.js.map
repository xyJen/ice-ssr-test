{"version":3,"sources":["../../../src/zhi/onAction.ts"],"names":["isActions","commands","onAction","action","controller","next","isSetRefBlockInjectionByDocKeyAction","payload","data","docKey","overwrite","command","setRefBlockInjectionByDocKey","isSetRefBlockInjectionByKeyAction","key","setRefBlockInjectionByKey"],"mappings":"AACA,SAASA,SAAT;AACA,SAASC,QAAT;AAEA,eAAe,SAASC,QAAT,CACbC,MADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AACA,MAAIL,SAAS,CAACM,oCAAV,CAA+CH,MAA/C,CAAJ,EAA4D;AAAA,0BACtBA,MAAM,CAACI,OADe;AAAA,QAClDC,IADkD,mBAClDA,IADkD;AAAA,QAC5CC,MAD4C,mBAC5CA,MAD4C;AAAA,QACpCC,SADoC,mBACpCA,SADoC;AAE1D,WAAON,UAAU,CAACO,OAAX,CACLV,QAAQ,CAACW,4BADJ,EAELH,MAFK,EAGLD,IAHK,EAILE,SAJK,CAAP;AAMD,GARD,MAQO,IAAIV,SAAS,CAACa,iCAAV,CAA4CV,MAA5C,CAAJ,EAAyD;AAAA,2BAC7BA,MAAM,CAACI,OADsB;AAAA,QACtDC,KADsD,oBACtDA,IADsD;AAAA,QAChDM,GADgD,oBAChDA,GADgD;AAAA,QAC3CJ,UAD2C,oBAC3CA,SAD2C;AAE9D,WAAON,UAAU,CAACO,OAAX,CACLV,QAAQ,CAACc,yBADJ,EAELD,GAFK,EAGLN,KAHK,EAILE,UAJK,CAAP;AAMD;AAED;;;AACA,SAAOL,IAAI,EAAX;AACD","sourcesContent":["import { Controller, Action } from '@ali/4ever-cangjie';\nimport { isActions } from '../common/actions';\nimport { commands } from '../common/commands';\n\nexport default function onAction(\n  action: Action,\n  controller: Controller,\n  next: () => void,\n) {\n  if (isActions.isSetRefBlockInjectionByDocKeyAction(action)) {\n    const { data, docKey, overwrite } = action.payload;\n    return controller.command(\n      commands.setRefBlockInjectionByDocKey,\n      docKey,\n      data,\n      overwrite,\n    );\n  } else if (isActions.isSetRefBlockInjectionByKeyAction(action)) {\n    const { data, key, overwrite } = action.payload;\n    return controller.command(\n      commands.setRefBlockInjectionByKey,\n      key,\n      data,\n      overwrite,\n    );\n  }\n\n  /* istanbul ignore next */\n  return next();\n}\n"],"file":"onAction.js"}