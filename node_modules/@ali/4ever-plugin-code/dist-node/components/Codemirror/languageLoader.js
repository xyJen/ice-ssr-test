"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.loadLanguageMode = loadLanguageMode;

var _interopRequireWildcard2 = _interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard"));

var _getAsync = _interopRequireDefault(require("get-async"));

var _languages = require("../../utils/constants/languages");

const languages = (0, _languages.createCodeLanguages)();

async function loadLanguageMode(key) {
  const mode = languages.find(l => l.key === key)?.mode;

  if (!mode) {
    return key;
  }

  await (0, _getAsync.default)(`we-editor-code-language-${key}`, () => {
    return Promise.resolve(`codemirror/mode/${mode}/${mode}.js`).then(s => (0, _interopRequireWildcard2.default)(require(s)));
  });
  return key;
}
//# sourceMappingURL=languageLoader.js.map