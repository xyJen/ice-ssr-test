{"version":3,"sources":["../../../../src/components/Codemirror/styled.tsx"],"names":["defaultBgColor","darkBgColor","Wrapper","styled","div","codeTheme","props","print","css","MAX_HEIGHT","theme","readOnly"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;AAHA;AAiBA,MAAMA,cAAc,GAAG,SAAvB;AACA,MAAMC,WAAW,GAAG,SAApB;;AAEO,MAAMC,OAAO,gBAAGC,0BAAOC,GAAV,mkDAIHC,qBAAU,aAAV,CAJG,EAOhBC,KAAK,IAAI,CAACA,KAAK,CAACC,KAAP,QAAgBC,qBAAhB,0BACKC,qBADL,CAPO,EAWhBH,KAAK,IAAK;AACd,wBAAwBA,KAAK,CAACI,KAAN,KAAgB,SAAhB,GAA4BV,cAA5B,GAA6CC,WAAY;AACjF,GAboB,EA+BdK,KAAK,IAAK;AAChB,0BAA0BA,KAAK,CAACI,KAAN,KAAgB,SAAhB,GAA4BV,cAA5B,GAA6CC,WAAY;AACnF,KAjCoB,EAqEID,cArEJ,EAyEdM,KAAK,IAAI,CAACA,KAAK,CAACC,KAAP,QAAgBC,qBAAhB,0BACKC,qBADL,CAzEK,EAuHd,CAAC;AAAEE,EAAAA;AAAF,CAAD,KAAmBA,QAAQ,GAAG,gBAAH,GAAsB,EAvHnC,CAAb","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport styled, { css } from 'styled-components';\nimport { codeTheme } from '@ali/4ever-utils';\nimport { MAX_HEIGHT } from '../../utils/constants/dimension';\n\ninterface WrapperProps {\n  zoom: number;\n  scale: number;\n  className: string;\n  ref: React.RefObject<HTMLDivElement>;\n  readOnly?: boolean;\n  // theme\n  theme: string;\n  // 生成长图/pdf 模式下，展开全部代码块内容\n  print?: boolean;\n}\n\nconst defaultBgColor = '#f5f6f7';\nconst darkBgColor = '#282a36';\n\nexport const Wrapper = styled.div<WrapperProps>`\n  display: flex;\n  flex-direction: column;\n  outline: none;\n  line-height: ${codeTheme['line-height']};\n  /* 为避免粘贴大段代码时，从弹性变为 fixed 导致的页面跳动问题，\n      外层容器需要 overflow：hidden；该属性不能放在 resizer 上，会导致 handle 被隐藏 */\n  ${props => !props.print && css`\n    max-height: ${MAX_HEIGHT}px;\n  `}\n  /* 避免闪烁 */\n  ${props => `\n    background-color: ${props.theme === 'default' ? defaultBgColor : darkBgColor};\n  `}\n  /* 这个样式会导致 zoom hack 时，chrome 下字体出现模糊 */\n  /*overflow-y: hidden;*/\n  height: 100%;\n  border-radius: 8px;\n\n  /**\n    https://stackoverflow.com/a/31831776/1648392\n    cangjie content 指定了 user-select none， 在 safari 下无法输入\n  */\n  user-select: auto;\n\n  &, & * {\n    box-sizing: border-box;\n  }\n\n  .CodeMirror {\n    height: 100%;\n    ${props => `\n      background-color: ${props.theme === 'default' ? defaultBgColor : darkBgColor};\n    `}\n    border-radius: 8px;\n    z-index: 0;\n    padding: 1px;\n    /* 覆盖自定义主题、仓颉 laser 插件对 border 的覆盖 */\n    border: 1px solid transparent !important;\n  }\n\n  .CodeMirror pre.CodeMirror-line, .CodeMirror pre.CodeMirror-line-like {\n    font-size: 1em;\n    font-family: \"SFMono-Regular\",Consolas,\"Liberation Mono\",Menlo,Courier,monospace !important;\n  }\n\n  .CodeMirror .collab-selection {\n    background-color: rgba(243, 155, 53, .7) !important; \n    color: white;\n  }\n\n  .CodeMirror .find-and-replace {\n    background-color: #FFE62E !important; \n  }\n\n  .CodeMirror .CodeMirror-sizer {\n    box-sizing: content-box;\n  }\n\n  .CodeMirror .find-and-replace-selected {\n    background-color: #FF9933!important; \n  }\n\n  .CodeMirror.cm-s-default {\n    color: rgba(17, 31, 44, 0.56);\n  }\n\n  .CodeMirror.cm-s-default .CodeMirror-gutters {\n    border-right: none;\n    background-color: ${defaultBgColor};\n  }\n\n  .CodeMirror .CodeMirror-scroll {\n    ${props => !props.print && css`\n      max-height: ${MAX_HEIGHT}px;\n    `}\n  }\n\n  // zoom 时会有双滚动条，移除掉\n  .CodeMirror-scroll::-webkit-scrollbar {\n    display: none;\n  }\n\n  .CodeMirror-overlayscroll-horizontal,\n  .CodeMirror-overlayscroll-vertical {\n    background: transparent;\n  }\n\n  .CodeMirror-overlayscroll-horizontal div,\n  .CodeMirror-overlayscroll-vertical div {\n    background: #d9dbdd;\n    cursor: auto;\n  }\n  .CodeMirror-overlayscroll-horizontal div:hover,\n  .CodeMirror-overlayscroll-vertical div:hover {\n    background: #c6c9cd;\n  }\n\n  .CodeMirror.cm-s-dracula {\n    .CodeMirror-overlayscroll-horizontal div,\n    .CodeMirror-overlayscroll-vertical div {\n      background: #70737a;\n    }\n    .CodeMirror-scrollbar-filler {\n      background-color: inherit;\n    }\n  }\n\n  .CodeMirror-linenumber {\n    user-select: none;\n  }\n\n  .CodeMirror-cursor {\n    border-width: 2px !important;\n  }\n\n  .CodeMirror-cursors {\n    position: relative;\n    left: -1px;\n    ${({ readOnly }) => (readOnly ? 'display: none;' : '')}\n  }\n`;\n"],"file":"styled.js"}