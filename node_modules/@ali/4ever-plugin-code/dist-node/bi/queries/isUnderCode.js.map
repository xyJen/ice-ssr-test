{"version":3,"sources":["../../../../src/bi/queries/isUnderCode.ts"],"names":["isUnderCode","controller","selection","document","value","isCollapsed","start","getStart","previousBlock","getPreviousBlock","key","type"],"mappings":";;;;;;;AAEe,SAASA,WAAT,CAAqBC,UAArB,EAA6C;AAC1D,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA0BF,UAAU,CAACG,KAA3C;;AACA,MAAI,CAACF,SAAL,EAAgB;AACd,WAAO,KAAP;AACD;;AACD,QAAM;AAAEG,IAAAA;AAAF,MAAkBH,SAAxB;AACA,QAAMI,KAAK,GAAGJ,SAAS,CAACK,QAAV,CAAmBJ,QAAnB,CAAd;AACA,QAAMK,aAAa,GAAGL,QAAQ,CAACM,gBAAT,CAA0BH,KAAK,CAACI,GAAhC,CAAtB;;AACA,MAAI,CAACL,WAAD,IAAgB,CAACG,aAArB,EAAoC;AAClC,WAAO,KAAP;AACD;;AACD,SAAOA,aAAa,CAACG,IAAd,KAAuB,MAA9B;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\n\nexport default function isUnderCode(controller: Controller) {\n  const { selection, document } = controller.value;\n  if (!selection) {\n    return false;\n  }\n  const { isCollapsed } = selection;\n  const start = selection.getStart(document);\n  const previousBlock = document.getPreviousBlock(start.key);\n  if (!isCollapsed || !previousBlock) {\n    return false;\n  }\n  return previousBlock.type === 'code';\n}\n"],"file":"isUnderCode.js"}