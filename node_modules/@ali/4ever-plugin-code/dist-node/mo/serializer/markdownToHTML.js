"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
const rule = {
  ruleName: 'code',
  rewrite: [{
    name: 'fence',
    createRenderer: md => {
      const defaultRule = md.renderer.rules.fence;
      return (...args) => {
        if (!defaultRule) {
          return '';
        }

        const defaultOutput = defaultRule(...args);
        const matches = defaultOutput.match(/^<pre><code( class=".+")?>([\s\S]*)<\/code><\/pre>\n$/);

        if (!matches) {
          return defaultOutput;
        }

        const [_, classNames, code] = matches;
        return `<pre><code${classNames || ''}>${code.replace(/\n$/, '')}</code></pre>\n`;
      };
    }
  }]
};
var _default = rule;
exports.default = _default;
//# sourceMappingURL=markdownToHTML.js.map