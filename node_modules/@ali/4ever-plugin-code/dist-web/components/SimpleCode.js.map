{"version":3,"sources":["../../../src/components/SimpleCode.tsx"],"names":["React","styled","css","noop","SpacingUtil","codeTheme","MAX_HEIGHT","Code","pre","theme","height","props","lineWrapping","SimpleCode","forwardRef","ref","code","onTouchStart","onMouseDown","onClick","node","print","marginLeft","marginRight","marginTop","marginBottom","maxHeight","toStyle"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AACA,SAASC,IAAT,QAAqB,WAArB;AAEA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,UAAT;AAgBA,IAAMC,IAAI,gBAAGN,MAAM,CAACO,GAAV,qLAOY;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,SAAgBA,KAAK,KAAK,SAAV,GAAsB,uBAAtB,GAAgD,SAAhE;AAAA,CAPZ,EAQQ;AAAA,MAAGA,KAAH,SAAGA,KAAH;AAAA,SAAgBA,KAAK,KAAK,SAAV,GAAsB,wBAAtB,GAAiD,qBAAjE;AAAA,CARR,EAWE;AAAA,MAAGC,MAAH,SAAGA,MAAH;AAAA,SAAiBA,MAAM,GAAMA,MAAN,UAAmB,SAA1C;AAAA,CAXF,EAYOL,SAAS,CAAC,aAAD,CAZhB,EAgBN,UAACM,KAAD;AAAA,SAAWA,KAAK,CAACC,YAAN,IAAsBV,GAAtB,kEAAX;AAAA,CAhBM,EAsBN,UAACS,KAAD;AAAA,SAAW,CAACA,KAAK,CAACC,YAAP,IAAuBV,GAAvB,uBAAX;AAAA,CAtBM,EA2BG;AAAA,MAAGO,KAAH,SAAGA,KAAH;AAAA,SAAgBA,KAAK,KAAK,SAAV,GAAsB,wBAAtB,GAAiD,SAAjE;AAAA,CA3BH,CAAV;AA+BA,IAAMI,UAAU,gBAAGb,KAAK,CAACc,UAAN,CACjB,UAACH,KAAD,EAAQI,GAAR,EAAgB;AAAA,MAEZC,IAFY,GAWVL,KAXU,CAEZK,IAFY;AAAA,MAGZN,MAHY,GAWVC,KAXU,CAGZD,MAHY;AAAA,MAIZD,KAJY,GAWVE,KAXU,CAIZF,KAJY;AAAA,4BAWVE,KAXU,CAKZM,YALY;AAAA,MAKZA,YALY,oCAKGd,IALH;AAAA,2BAWVQ,KAXU,CAMZO,WANY;AAAA,MAMZA,WANY,mCAMEf,IANF;AAAA,uBAWVQ,KAXU,CAOZQ,OAPY;AAAA,MAOZA,OAPY,+BAOFhB,IAPE;AAAA,MAQZiB,IARY,GAWVT,KAXU,CAQZS,IARY;AAAA,MASZR,YATY,GAWVD,KAXU,CASZC,YATY;AAAA,MAUZS,KAVY,GAWVV,KAXU,CAUZU,KAVY;AAad,sBACE,eAAC,IAAD;AACE,IAAA,KAAK;AACHC,MAAAA,UAAU,EAAEjB,SAAS,CAAC,aAAD,CADlB;AAEHkB,MAAAA,WAAW,EAAElB,SAAS,CAAC,cAAD,CAFnB;AAGHmB,MAAAA,SAAS,EAAEnB,SAAS,CAAC,YAAD,CAHjB;AAIHoB,MAAAA,YAAY,EAAEpB,SAAS,CAAC,eAAD,CAJpB;AAKHqB,MAAAA,SAAS,EAAE,CAACL,KAAD,GAASf,UAAT,GAAsB;AAL9B,OAMAF,WAAW,CAACuB,OAAZ,CAAoBP,IAApB,CANA,CADP;AASE,IAAA,GAAG,EAAEL,GATP;AAUE,IAAA,MAAM,EAAEL,MAVV;AAWE,IAAA,KAAK,EAAED,KAXT;AAYE,IAAA,YAAY,EAAEG,YAZhB;AAaE,IAAA,YAAY,EAAEK,YAbhB;AAcE,IAAA,WAAW,EAAEC,WAdf;AAeE,IAAA,OAAO,EAAEC,OAfX;AAgBE,sBAAe,WAhBjB;AAiBE;AAjBF,kBAmBE,6BAAOH,IAAP,CAnBF,CADF;AAuBD,CArCgB,CAAnB;AAwCA,eAAeH,UAAf","sourcesContent":["import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { noop } from 'lodash-es';\nimport { Block } from '@ali/4ever-cangjie';\nimport { SpacingUtil, codeTheme } from '@ali/4ever-utils';\nimport { MAX_HEIGHT } from '../utils/constants/dimension';\n\ninterface SimpleCodeProps {\n  height: number | undefined;\n  code: string;\n  theme: 'dracula' | 'default';\n  onMouseDown?: (event: React.MouseEvent) => void;\n  onTouchStart?: (event: React.TouchEvent) => void;\n  onClick?: (event: React.MouseEvent) => void;\n  node: Block;\n  // 是否 auto wrap\n  lineWrapping: boolean;\n  // print\n  print?: boolean;\n}\n\nconst Code = styled.pre<\n  Pick<SimpleCodeProps, 'height' | 'theme' | 'lineWrapping'> &\n  React.DetailedHTMLProps<\n    React.HTMLAttributes<HTMLPreElement>,\n    HTMLPreElement\n  >\n  >`\n  background-color: ${({ theme }) => (theme === 'default' ? 'rgba(246,248,249,0.8)' : '#282a36')};\n  border-color: ${({ theme }) => (theme === 'default' ? 'rgba(17, 31, 44, 0.08)' : 'rgba(17, 31, 44, 1)')};\n  padding: 10px;\n  border-radius: 5px;\n  height: ${({ height }) => (height ? `${height}px` : 'inherit')};\n  line-height: ${codeTheme['line-height']};\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n\n  ${(props) => props.lineWrapping && css`\n      word-wrap: break-word;\n      white-space: pre-wrap;\n      word-break: normal;\n  `}\n\n  ${(props) => !props.lineWrapping && css`\n      word-wrap: normal;\n  `}\n\n  code {\n    color: ${({ theme }) => (theme === 'default' ? 'rgba(17, 31, 44, 0.56)' : '#FFFFFF')};\n  }\n`;\n\nconst SimpleCode = React.forwardRef<HTMLPreElement, SimpleCodeProps>(\n  (props, ref) => {\n    const {\n      code,\n      height,\n      theme,\n      onTouchStart = noop,\n      onMouseDown = noop,\n      onClick = noop,\n      node,\n      lineWrapping,\n      print,\n    } = props;\n\n    return (\n      <Code\n        style={{\n          marginLeft: codeTheme['margin-left'],\n          marginRight: codeTheme['margin-right'],\n          marginTop: codeTheme['margin-top'],\n          marginBottom: codeTheme['margin-bottom'],\n          maxHeight: !print ? MAX_HEIGHT : 'none',\n          ...SpacingUtil.toStyle(node),\n        }}\n        ref={ref}\n        height={height}\n        theme={theme}\n        lineWrapping={lineWrapping}\n        onTouchStart={onTouchStart}\n        onMouseDown={onMouseDown}\n        onClick={onClick}\n        data-hover-box=\"borderBox\"\n        data-plugin-scrollable\n      >\n        <code>{code}</code>\n      </Code>\n    );\n  },\n);\n\nexport default SimpleCode;\n"],"file":"SimpleCode.js"}