import { diff_match_patch as DiffMatchPatch, DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL } from 'diff-match-patch';
var diffMatchPatchInstance = new DiffMatchPatch();
export function diffsToPatchs(oldValue, newValue) {
  var result = [];
  var patches = diffMatchPatchInstance.patch_make(oldValue, newValue);
  Object.keys(patches).forEach(function (i) {
    var patch = patches[i];
    var offset = patch.start1;
    patch.diffs.forEach(function (_ref) {
      var type = _ref[0],
          value = _ref[1];

      switch (type) {
        case DIFF_DELETE:
          result.push({
            type: 'delete',
            value: value,
            offset: offset
          });
          break;

        case DIFF_INSERT:
          result.push({
            type: 'insert',
            value: value,
            offset: offset
          });
          offset += value.length;
          break;

        case DIFF_EQUAL:
          offset += value.length;
          break;

        default:
          throw Error("Unsupported operation type: " + type);
      }
    });
  });
  return result;
}
//# sourceMappingURL=diffMatch.js.map