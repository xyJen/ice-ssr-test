{"version":3,"sources":["../../../../src/bi/queries/isUnderCode.ts"],"names":["isUnderCode","controller","value","selection","document","isCollapsed","start","getStart","previousBlock","getPreviousBlock","key","type"],"mappings":"AAEA,eAAe,SAASA,WAAT,CAAqBC,UAArB,EAA6C;AAAA,0BAC1BA,UAAU,CAACC,KADe;AAAA,MAClDC,SADkD,qBAClDA,SADkD;AAAA,MACvCC,QADuC,qBACvCA,QADuC;;AAE1D,MAAI,CAACD,SAAL,EAAgB;AACd,WAAO,KAAP;AACD;;AAJyD,MAKlDE,WALkD,GAKlCF,SALkC,CAKlDE,WALkD;AAM1D,MAAMC,KAAK,GAAGH,SAAS,CAACI,QAAV,CAAmBH,QAAnB,CAAd;AACA,MAAMI,aAAa,GAAGJ,QAAQ,CAACK,gBAAT,CAA0BH,KAAK,CAACI,GAAhC,CAAtB;;AACA,MAAI,CAACL,WAAD,IAAgB,CAACG,aAArB,EAAoC;AAClC,WAAO,KAAP;AACD;;AACD,SAAOA,aAAa,CAACG,IAAd,KAAuB,MAA9B;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\n\nexport default function isUnderCode(controller: Controller) {\n  const { selection, document } = controller.value;\n  if (!selection) {\n    return false;\n  }\n  const { isCollapsed } = selection;\n  const start = selection.getStart(document);\n  const previousBlock = document.getPreviousBlock(start.key);\n  if (!isCollapsed || !previousBlock) {\n    return false;\n  }\n  return previousBlock.type === 'code';\n}\n"],"file":"isUnderCode.js"}