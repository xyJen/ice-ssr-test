import n from"@babel/runtime/helpers/extends";import t from"@babel/runtime/helpers/inheritsLoose";import{Level as e,NoopAppender as i}from"@ali/we-logger-main";import{normalizeError as o,normalizeLog as r}from"@ali/we-logger-utils";import s from"@ali/alife-logger-docs";var a=function(i){function a(n){var t;return void 0===n&&(n={}),(t=i.call(this)||this)._instance=void 0,t._ignoreFunction=void 0,n.weIgnore&&t.setupIgnore(n.weIgnore),t._instance=s.createExtraInstance(n,[]),t}t(a,i);var c=a.prototype;return c.getArms=function(){return this._instance},c.setConfig=function(n){n.weIgnore&&this.setupIgnore(n.weIgnore),this._instance.setConfig(n)},c.getConfig=function(){return this._instance.getConfig()},c.setupIgnore=function(n){this._ignoreFunction=n},c.ignore=function(n,t){return!!this._ignoreFunction&&this._ignoreFunction(n,t)},c.setBaseInfo=function(n){this._instance.setCommonInfo(n)},c.sum=function(n){this._instance.sum(n,1)},c.avg=function(n,t){void 0===t&&(t=0),this._instance.avg(n,t)},c.log=function(t,i,s){if(s)if(t!==e.ERROR&&t!==e.FATAL){var a=r(s),c=n({"log-category":i,"log-level":e[t]},a);this._instance.custom(c)}else{var g=o(s);g&&(i&&(g.name=i),this._instance.error(g))}},c.api=function(n){this._instance.api(n)},a}(i);export default a;
