"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _actions = require("../actions");

var _insertCard = _interopRequireDefault(require("../commands/insertCard"));

var _removeCard = _interopRequireDefault(require("../commands/removeCard"));

var _setCardData = _interopRequireDefault(require("../commands/setCardData"));

var _setCardInjection = _interopRequireDefault(require("../commands/setCardInjection"));

var _default = customizedAction => {
  return function onAction(action, controller, next) {
    const {
      type,
      payload
    } = action;

    if (type === _actions.CARD_REMOVE) {
      const {
        node
      } = payload;
      return controller.command(_removeCard.default, node);
    }

    if (type === _actions.CARD_SET_DATA) {
      const {
        node,
        mergeData
      } = payload;
      return controller.command(_setCardData.default, node, mergeData);
    }

    if (type === _actions.CARD_SET_INJECTION) {
      const {
        node,
        injection
      } = payload;
      return controller.command(_setCardInjection.default, node, injection);
    }

    if (type === _actions.CARD_INSERT) {
      return controller.command(_insertCard.default, payload);
    }

    return customizedAction ? customizedAction(action, controller, next) : next();
  };
};

exports.default = _default;
//# sourceMappingURL=createOnAction.js.map