"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everCangjie = require("@ali/4ever-cangjie");

var _everPluginCard = require("@ali/4ever-plugin-card");

var _everPluginBasic = require("@ali/4ever-plugin-basic");

var _cardStore = require("../utils/cardStore");

var _default = (controller, payload) => {
  const finalNode = _everCangjie.Block.isBlock(payload) ? payload : _everCangjie.Block.create({
    type: _everPluginCard.Card.TYPE,
    data: { ...payload
    }
  });
  controller.run('onAction', _everPluginBasic.biActions.createInsertBlockWithoutExtraBlankAction({
    node: finalNode
  }));
  (0, _cardStore.setOwnerAndFirstCreated)(finalNode.key, true);
  return controller;
};

exports.default = _default;
//# sourceMappingURL=insertCard.js.map