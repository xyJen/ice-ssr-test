{"version":3,"sources":["../../../../src/zhi/groupFactory/index.tsx"],"names":["groupFactory","createPlugin","createGroupPlugin","zhiConfig","myPlugin","commands","onAction","queries","groupNodes","renderNode","renderMark","groupType","config","shouldNodeComponentUpdate","onCangjieSelect","factoryCommands"],"mappings":";;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AAKO,SAASA,YAAT,CACLC,YADK,EAEL;AACA,SAAO,SAASC,iBAAT,CAA2BC,SAA3B,EAAsC;AAC3C,UAAMC,QAAQ,GAAGH,YAAY,CAACE,SAAD,CAA7B;AACA,UAAM;AACJE,MAAAA,QADI;AAEJC,MAAAA,QAFI;AAGJC,MAAAA,OAHI;AAIJC,MAAAA,UAJI;AAKJC,MAAAA,UALI;AAMJC,MAAAA,UANI;AAOJC,MAAAA;AAPI,QAQFP,QARJ;AASA,UAAMQ,MAAM,GAAGT,SAAS,CAACQ,SAAD,CAAT,IAAwB,EAAvC;AACA,WAAO;AACLE,MAAAA,yBAAyB,EAAE,0DADtB;AAELJ,MAAAA,UAAU,EAAEA,UAAU,IAAI,8CAAiBE,SAAjB,CAFrB;AAGLD,MAAAA,UAAU,EAAEA,UAAU,IAAI,8CAAiBE,MAAjB,CAHrB;AAILJ,MAAAA,UAJK;AAKLF,MAAAA,QAAQ,EAAE,6BAAeA,QAAf,CALL;AAMLQ,MAAAA,eAAe,EAAE,oCAAsBF,MAAtB,CANZ;AAOLP,MAAAA,QAAQ,EAAE,EACR,GAAGU,eADK;AAER,WAAGV;AAFK,OAPL;AAWLE,MAAAA;AAXK,KAAP;AAaD,GAzBD;AA0BD","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport { createShouldComponentUpdate, createRenderNode } from '@ali/4ever-plugin-group-factory';\nimport { createRenderMark } from '@ali/4ever-plugin-heading-group';\nimport createOnAction from './handlers/createOnAction';\nimport createOnCangjieSelect from './handlers/createOnCangjieSelect';\nimport * as factoryCommands from './commands';\nexport interface CustomizedZhiGroupPluginType extends Plugin {\n  groupType: string;\n}\n\nexport function groupFactory(\n  createPlugin: (zhiConfig) => CustomizedZhiGroupPluginType,\n) {\n  return function createGroupPlugin(zhiConfig) {\n    const myPlugin = createPlugin(zhiConfig);\n    const {\n      commands,\n      onAction,\n      queries,\n      groupNodes,\n      renderNode,\n      renderMark,\n      groupType,\n    } = myPlugin;\n    const config = zhiConfig[groupType] || {};\n    return {\n      shouldNodeComponentUpdate: createShouldComponentUpdate(),\n      renderNode: renderNode || createRenderNode(groupType),\n      renderMark: renderMark || createRenderMark(config),\n      groupNodes,\n      onAction: createOnAction(onAction),\n      onCangjieSelect: createOnCangjieSelect(config),\n      commands: {\n        ...factoryCommands,\n        ...commands,\n      },\n      queries,\n    };\n  };\n}\n"],"file":"index.js"}