{"version":3,"sources":["../../../src/groupFactory/index.tsx"],"names":["groupFactory","createPlugin","createGroupPlugin","bizConfig","myPlugin","onAction","onKeyDown","queries","commands","groupNodes","renderNode","renderMark","groupType","config","shouldNodeComponentUpdate","onCangjieSelect","factoryCommands","actions"],"mappings":";;;;;;;;;;;AAAA;;AAOA;;AAEA;;AACA;;AAGO,SAASA,YAAT,CACLC,YADK,EAEL;AACA,SAAO,SAASC,iBAAT,CAA2BC,SAA3B,EAAsD;AAC3D,UAAMC,QAAQ,GAAGH,YAAY,CAACE,SAAD,CAA7B;AACA,UAAM;AACJE,MAAAA,QADI;AAEJC,MAAAA,SAFI;AAGJC,MAAAA,OAHI;AAIJC,MAAAA,QAJI;AAKJC,MAAAA,UALI;AAMJC,MAAAA,UANI;AAOJC,MAAAA,UAPI;AAQJC,MAAAA;AARI,QASFR,QATJ;AAUA,UAAMS,MAAM,GAAGV,SAAS,CAACS,SAAD,CAAT,IAAwB,EAAvC;AACA,WAAO;AACLE,MAAAA,yBAAyB,EAAE,0DADtB;AAELJ,MAAAA,UAAU,EAAEA,UAAU,IAAI,8CAAiBE,SAAjB,CAFrB;AAGL;AACAD,MAAAA,UAAU,EAAEA,UAAU,IAAI,8CAAiBE,MAAjB,CAJrB;AAKLJ,MAAAA,UALK;AAMLJ,MAAAA,QAAQ,EAAE,6BAAeA,QAAf,CANL;AAOLC,MAAAA,SAAS,EAAEA,SAAS,IAAI,8CAPnB;AAQLS,MAAAA,eAAe,EAAE,mDAAsBF,MAAtB,CARZ;AASLL,MAAAA,QAAQ,EAAE,EACR,GAAGQ,eADK;AAER,WAAGR;AAFK,OATL;AAaLD,MAAAA;AAbK,KAAP;AAeD,GA5BD;AA6BD;;AAEDP,YAAY,CAACiB,OAAb,GAAuBA,+BAAvB;AACAjB,YAAY,CAACQ,QAAb,GAAwBQ,eAAxB","sourcesContent":["import {\n  createShouldComponentUpdate,\n  createRenderNode,\n  createOnKeyDown,\n  createOnCangjieSelect,\n  actions,\n} from '@ali/4ever-plugin-group-factory';\nimport { createRenderMark } from '@ali/4ever-plugin-heading-group';\nimport type { CustomizedBiGroupPluginType } from '@ali/4ever-plugin-group-factory';\nimport createOnAction from './handlers/createOnAction';\nimport * as factoryCommands from './commands';\nimport type { BiPluginConfig } from '@ali/4ever-cangjie';\n\nexport function groupFactory(\n  createPlugin: (bizConfig: BiPluginConfig) => CustomizedBiGroupPluginType,\n) {\n  return function createGroupPlugin(bizConfig: BiPluginConfig) {\n    const myPlugin = createPlugin(bizConfig);\n    const {\n      onAction,\n      onKeyDown,\n      queries,\n      commands,\n      groupNodes,\n      renderNode,\n      renderMark,\n      groupType,\n    } = myPlugin;\n    const config = bizConfig[groupType] || {};\n    return {\n      shouldNodeComponentUpdate: createShouldComponentUpdate(),\n      renderNode: renderNode || createRenderNode(groupType),\n      // @ts-ignore\n      renderMark: renderMark || createRenderMark(config),\n      groupNodes,\n      onAction: createOnAction(onAction),\n      onKeyDown: onKeyDown || createOnKeyDown(),\n      onCangjieSelect: createOnCangjieSelect(config),\n      commands: {\n        ...factoryCommands,\n        ...commands,\n      },\n      queries,\n    };\n  };\n}\n\ngroupFactory.actions = actions;\ngroupFactory.commands = factoryCommands;\n"],"file":"index.js"}