{"version":3,"sources":["../../../../src/embedFactory/commands/insertFile.ts"],"names":["controller","props","query","command","Commands","insertBlock","moveToStartOfNextText","type","data","id","name","src","previewSize","size","viewType","mimeType","errorType"],"mappings":";;;;;;;AAAA;;eAGe,CAACA,UAAD,EAAyBC,KAAzB,KAAmC;AAChD,MAAID,UAAU,CAACE,KAAX,CAAiB,wBAAjB,CAAJ,EAAgD;AAC9CF,IAAAA,UAAU,CAACG,OAAX,CAAmBC,sBAASC,WAA5B,EAAyC,WAAzC;AACD;;AACD,MAAIL,UAAU,CAACE,KAAX,CAAiB,yBAAjB,CAAJ,EAAiD;AAC/CF,IAAAA,UAAU,CAACG,OAAX,CAAmBC,sBAASE,qBAA5B;AACD;;AAEDN,EAAAA,UAAU,CACPG,OADH,CACWC,sBAASC,WADpB,EACiC;AAC7BE,IAAAA,IAAI,EAAE,OADuB;AAE7BC,IAAAA,IAAI,EAAE;AACJC,MAAAA,EAAE,EAAER,KAAK,CAACQ,EADN;AAEJC,MAAAA,IAAI,EAAET,KAAK,CAACS,IAFR;AAGJC,MAAAA,GAAG,EAAEV,KAAK,CAACU,GAHP;AAIJC,MAAAA,WAAW,EAAEX,KAAK,CAACW,WAJf;AAKJC,MAAAA,IAAI,EAAEZ,KAAK,CAACY,IALR;AAMJC,MAAAA,QAAQ,EAAEb,KAAK,CAACa,QANZ;AAOJP,MAAAA,IAAI,EAAEN,KAAK,CAACM,IAPR;AAQJQ,MAAAA,QAAQ,EAAEd,KAAK,CAACc,QARZ;AASJC,MAAAA,SAAS,EAAEf,KAAK,CAACe;AATb;AAFuB,GADjC,EAeGb,OAfH,CAeWC,sBAASC,WAfpB,EAeiC,WAfjC;AAiBA,SAAOL,UAAP;AACD,C","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\n\n\nexport default (controller: Controller, props) => {\n  if (controller.query('isCollapsedInBlockVoid')) {\n    controller.command(Commands.insertBlock, 'paragraph');\n  }\n  if (controller.query('isCollapsedInInlineVoid')) {\n    controller.command(Commands.moveToStartOfNextText);\n  }\n\n  controller\n    .command(Commands.insertBlock, {\n      type: 'embed',\n      data: {\n        id: props.id,\n        name: props.name,\n        src: props.src,\n        previewSize: props.previewSize,\n        size: props.size,\n        viewType: props.viewType,\n        type: props.type,\n        mimeType: props.mimeType,\n        errorType: props.errorType,\n      },\n    })\n    .command(Commands.insertBlock, 'paragraph');\n\n  return controller;\n};\n"],"file":"insertFile.js"}