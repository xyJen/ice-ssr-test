{"version":3,"sources":["../../../../src/embedFactory/commands/insertFile.ts"],"names":["Commands","controller","props","query","command","insertBlock","moveToStartOfNextText","type","data","id","name","src","previewSize","size","viewType","mimeType","errorType"],"mappings":"AAAA,SAAqBA,QAArB,QAAqC,oBAArC;AAGA,gBAAe,UAACC,UAAD,EAAyBC,KAAzB,EAAmC;AAChD,MAAID,UAAU,CAACE,KAAX,CAAiB,wBAAjB,CAAJ,EAAgD;AAC9CF,IAAAA,UAAU,CAACG,OAAX,CAAmBJ,QAAQ,CAACK,WAA5B,EAAyC,WAAzC;AACD;;AACD,MAAIJ,UAAU,CAACE,KAAX,CAAiB,yBAAjB,CAAJ,EAAiD;AAC/CF,IAAAA,UAAU,CAACG,OAAX,CAAmBJ,QAAQ,CAACM,qBAA5B;AACD;;AAEDL,EAAAA,UAAU,CACPG,OADH,CACWJ,QAAQ,CAACK,WADpB,EACiC;AAC7BE,IAAAA,IAAI,EAAE,OADuB;AAE7BC,IAAAA,IAAI,EAAE;AACJC,MAAAA,EAAE,EAAEP,KAAK,CAACO,EADN;AAEJC,MAAAA,IAAI,EAAER,KAAK,CAACQ,IAFR;AAGJC,MAAAA,GAAG,EAAET,KAAK,CAACS,GAHP;AAIJC,MAAAA,WAAW,EAAEV,KAAK,CAACU,WAJf;AAKJC,MAAAA,IAAI,EAAEX,KAAK,CAACW,IALR;AAMJC,MAAAA,QAAQ,EAAEZ,KAAK,CAACY,QANZ;AAOJP,MAAAA,IAAI,EAAEL,KAAK,CAACK,IAPR;AAQJQ,MAAAA,QAAQ,EAAEb,KAAK,CAACa,QARZ;AASJC,MAAAA,SAAS,EAAEd,KAAK,CAACc;AATb;AAFuB,GADjC,EAeGZ,OAfH,CAeWJ,QAAQ,CAACK,WAfpB,EAeiC,WAfjC;AAiBA,SAAOJ,UAAP;AACD,CA1BD","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\n\n\nexport default (controller: Controller, props) => {\n  if (controller.query('isCollapsedInBlockVoid')) {\n    controller.command(Commands.insertBlock, 'paragraph');\n  }\n  if (controller.query('isCollapsedInInlineVoid')) {\n    controller.command(Commands.moveToStartOfNextText);\n  }\n\n  controller\n    .command(Commands.insertBlock, {\n      type: 'embed',\n      data: {\n        id: props.id,\n        name: props.name,\n        src: props.src,\n        previewSize: props.previewSize,\n        size: props.size,\n        viewType: props.viewType,\n        type: props.type,\n        mimeType: props.mimeType,\n        errorType: props.errorType,\n      },\n    })\n    .command(Commands.insertBlock, 'paragraph');\n\n  return controller;\n};\n"],"file":"insertFile.js"}