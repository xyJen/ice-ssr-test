{"version":3,"sources":["../../../src/groupFactory/index.tsx"],"names":["createShouldComponentUpdate","createRenderNode","createOnKeyDown","createOnCangjieSelect","actions","createRenderMark","createOnAction","factoryCommands","groupFactory","createPlugin","createGroupPlugin","bizConfig","myPlugin","onAction","onKeyDown","queries","commands","groupNodes","renderNode","renderMark","groupType","config","shouldNodeComponentUpdate","onCangjieSelect"],"mappings":";AAAA,SACEA,2BADF,EAEEC,gBAFF,EAGEC,eAHF,EAIEC,qBAJF,EAKEC,OALF,QAMO,iCANP;AAOA,SAASC,gBAAT,QAAiC,iCAAjC;AAEA,OAAOC,cAAP;AACA,OAAO,KAAKC,eAAZ;AAGA,OAAO,SAASC,YAAT,CACLC,YADK,EAEL;AACA,SAAO,SAASC,iBAAT,CAA2BC,SAA3B,EAAsD;AAC3D,QAAMC,QAAQ,GAAGH,YAAY,CAACE,SAAD,CAA7B;AAD2D,QAGzDE,QAHyD,GAWvDD,QAXuD,CAGzDC,QAHyD;AAAA,QAIzDC,SAJyD,GAWvDF,QAXuD,CAIzDE,SAJyD;AAAA,QAKzDC,OALyD,GAWvDH,QAXuD,CAKzDG,OALyD;AAAA,QAMzDC,QANyD,GAWvDJ,QAXuD,CAMzDI,QANyD;AAAA,QAOzDC,UAPyD,GAWvDL,QAXuD,CAOzDK,UAPyD;AAAA,QAQzDC,UARyD,GAWvDN,QAXuD,CAQzDM,UARyD;AAAA,QASzDC,UATyD,GAWvDP,QAXuD,CASzDO,UATyD;AAAA,QAUzDC,SAVyD,GAWvDR,QAXuD,CAUzDQ,SAVyD;AAY3D,QAAMC,MAAM,GAAGV,SAAS,CAACS,SAAD,CAAT,IAAwB,EAAvC;AACA,WAAO;AACLE,MAAAA,yBAAyB,EAAEtB,2BAA2B,EADjD;AAELkB,MAAAA,UAAU,EAAEA,UAAU,IAAIjB,gBAAgB,CAACmB,SAAD,CAFrC;AAGL;AACAD,MAAAA,UAAU,EAAEA,UAAU,IAAId,gBAAgB,CAACgB,MAAD,CAJrC;AAKLJ,MAAAA,UAAU,EAAVA,UALK;AAMLJ,MAAAA,QAAQ,EAAEP,cAAc,CAACO,QAAD,CANnB;AAOLC,MAAAA,SAAS,EAAEA,SAAS,IAAIZ,eAAe,EAPlC;AAQLqB,MAAAA,eAAe,EAAEpB,qBAAqB,CAACkB,MAAD,CARjC;AASLL,MAAAA,QAAQ,eACHT,eADG,EAEHS,QAFG,CATH;AAaLD,MAAAA,OAAO,EAAPA;AAbK,KAAP;AAeD,GA5BD;AA6BD;AAEDP,YAAY,CAACJ,OAAb,GAAuBA,OAAvB;AACAI,YAAY,CAACQ,QAAb,GAAwBT,eAAxB","sourcesContent":["import {\n  createShouldComponentUpdate,\n  createRenderNode,\n  createOnKeyDown,\n  createOnCangjieSelect,\n  actions,\n} from '@ali/4ever-plugin-group-factory';\nimport { createRenderMark } from '@ali/4ever-plugin-heading-group';\nimport type { CustomizedBiGroupPluginType } from '@ali/4ever-plugin-group-factory';\nimport createOnAction from './handlers/createOnAction';\nimport * as factoryCommands from './commands';\nimport type { BiPluginConfig } from '@ali/4ever-cangjie';\n\nexport function groupFactory(\n  createPlugin: (bizConfig: BiPluginConfig) => CustomizedBiGroupPluginType,\n) {\n  return function createGroupPlugin(bizConfig: BiPluginConfig) {\n    const myPlugin = createPlugin(bizConfig);\n    const {\n      onAction,\n      onKeyDown,\n      queries,\n      commands,\n      groupNodes,\n      renderNode,\n      renderMark,\n      groupType,\n    } = myPlugin;\n    const config = bizConfig[groupType] || {};\n    return {\n      shouldNodeComponentUpdate: createShouldComponentUpdate(),\n      renderNode: renderNode || createRenderNode(groupType),\n      // @ts-ignore\n      renderMark: renderMark || createRenderMark(config),\n      groupNodes,\n      onAction: createOnAction(onAction),\n      onKeyDown: onKeyDown || createOnKeyDown(),\n      onCangjieSelect: createOnCangjieSelect(config),\n      commands: {\n        ...factoryCommands,\n        ...commands,\n      },\n      queries,\n    };\n  };\n}\n\ngroupFactory.actions = actions;\ngroupFactory.commands = factoryCommands;\n"],"file":"index.js"}