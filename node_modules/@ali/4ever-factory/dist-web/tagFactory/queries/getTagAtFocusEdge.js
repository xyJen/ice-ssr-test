import { Inline } from '@ali/4ever-cangjie';
/**
 * 获取focus边缘的tag节点
 * @param controller
 * @param dire 方向
 */

export default function getTagAtFocusEdge(controller, dire) {
  var _controller$value = controller.value,
      selection = _controller$value.selection,
      focusText = _controller$value.focusText,
      document = _controller$value.document;
  if (!selection || !focusText) return null;
  var start = selection.getStart(document);

  if (dire === 'Backward' && start.isAtStartOfNode(focusText)) {
    var preNode = document.getPreviousSibling(focusText.key);
    if (preNode && Inline.isInline(preNode) && preNode.type === 'tag') return preNode;
  } else if (dire === 'Forward' && start.isAtEndOfNode(focusText)) {
    var nextNode = document.getNextSibling(focusText.key);
    if (nextNode && Inline.isInline(nextNode) && nextNode.type === 'tag') return nextNode;
  }

  return null;
}
//# sourceMappingURL=getTagAtFocusEdge.js.map