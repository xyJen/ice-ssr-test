{"version":3,"sources":["../../../../src/tagFactory/command/insertTag.ts"],"names":["Commands","Inline","setOwnerAndFirstCreated","controller","payload","finalNode","create","type","data","command","insertInline","key"],"mappings":";AAAA,SAAqBA,QAArB,EAA+BC,MAA/B,QAA6C,oBAA7C;AACA,SAASC,uBAAT;AAwBA,gBAAe,UAACC,UAAD,EAAyBC,OAAzB,EAAwD;AACrE,MAAMC,SAAS,GAAGJ,MAAM,CAACK,MAAP,CAAc;AAC9BC,IAAAA,IAAI,EAAE,KADwB;AAE9BC,IAAAA,IAAI,eACCJ,OADD;AAF0B,GAAd,CAAlB;AAMAD,EAAAA,UAAU,CAACM,OAAX,CAAmBT,QAAQ,CAACU,YAA5B,EAA0CL,SAA1C;AAEAH,EAAAA,uBAAuB,CAACG,SAAS,CAACM,GAAX,EAAgB,IAAhB,CAAvB;AAEA,SAAOR,UAAP;AACD,CAZD","sourcesContent":["import { Controller, Commands, Inline } from '@ali/4ever-cangjie';\nimport { setOwnerAndFirstCreated } from '../utils/tagStore';\n\nexport interface InsertTagdPayload {\n  /**\n   * 卡片子类型\n   */\n  tagType: string;\n\n  /**\n   * 卡片初始高度，排版需要\n   */\n  height: number;\n\n  /**\n   * 卡片初始宽度，排版需要\n   */\n  width: number;\n\n  /**\n   * 卡片元数据\n   */\n  metadata: any;\n}\n\nexport default (controller: Controller, payload: InsertTagdPayload) => {\n  const finalNode = Inline.create({\n    type: 'tag',\n    data: {\n      ...payload,\n    },\n  });\n  controller.command(Commands.insertInline, finalNode);\n\n  setOwnerAndFirstCreated(finalNode.key, true);\n\n  return controller;\n};\n\n"],"file":"insertTag.js"}