{"version":3,"sources":["../../../../src/zhi/groupFactory/index.tsx"],"names":["createShouldComponentUpdate","createRenderNode","createRenderMark","createOnAction","createOnCangjieSelect","factoryCommands","groupFactory","createPlugin","createGroupPlugin","zhiConfig","myPlugin","commands","onAction","queries","groupNodes","renderNode","renderMark","groupType","config","shouldNodeComponentUpdate","onCangjieSelect"],"mappings":";AACA,SAASA,2BAAT,EAAsCC,gBAAtC,QAA8D,iCAA9D;AACA,SAASC,gBAAT,QAAiC,iCAAjC;AACA,OAAOC,cAAP;AACA,OAAOC,qBAAP;AACA,OAAO,KAAKC,eAAZ;AAKA,OAAO,SAASC,YAAT,CACLC,YADK,EAEL;AACA,SAAO,SAASC,iBAAT,CAA2BC,SAA3B,EAAsC;AAC3C,QAAMC,QAAQ,GAAGH,YAAY,CAACE,SAAD,CAA7B;AAD2C,QAGzCE,QAHyC,GAUvCD,QAVuC,CAGzCC,QAHyC;AAAA,QAIzCC,QAJyC,GAUvCF,QAVuC,CAIzCE,QAJyC;AAAA,QAKzCC,OALyC,GAUvCH,QAVuC,CAKzCG,OALyC;AAAA,QAMzCC,UANyC,GAUvCJ,QAVuC,CAMzCI,UANyC;AAAA,QAOzCC,UAPyC,GAUvCL,QAVuC,CAOzCK,UAPyC;AAAA,QAQzCC,UARyC,GAUvCN,QAVuC,CAQzCM,UARyC;AAAA,QASzCC,SATyC,GAUvCP,QAVuC,CASzCO,SATyC;AAW3C,QAAMC,MAAM,GAAGT,SAAS,CAACQ,SAAD,CAAT,IAAwB,EAAvC;AACA,WAAO;AACLE,MAAAA,yBAAyB,EAAEnB,2BAA2B,EADjD;AAELe,MAAAA,UAAU,EAAEA,UAAU,IAAId,gBAAgB,CAACgB,SAAD,CAFrC;AAGLD,MAAAA,UAAU,EAAEA,UAAU,IAAId,gBAAgB,CAACgB,MAAD,CAHrC;AAILJ,MAAAA,UAAU,EAAVA,UAJK;AAKLF,MAAAA,QAAQ,EAAET,cAAc,CAACS,QAAD,CALnB;AAMLQ,MAAAA,eAAe,EAAEhB,qBAAqB,CAACc,MAAD,CANjC;AAOLP,MAAAA,QAAQ,eACHN,eADG,EAEHM,QAFG,CAPH;AAWLE,MAAAA,OAAO,EAAPA;AAXK,KAAP;AAaD,GAzBD;AA0BD","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport { createShouldComponentUpdate, createRenderNode } from '@ali/4ever-plugin-group-factory';\nimport { createRenderMark } from '@ali/4ever-plugin-heading-group';\nimport createOnAction from './handlers/createOnAction';\nimport createOnCangjieSelect from './handlers/createOnCangjieSelect';\nimport * as factoryCommands from './commands';\nexport interface CustomizedZhiGroupPluginType extends Plugin {\n  groupType: string;\n}\n\nexport function groupFactory(\n  createPlugin: (zhiConfig) => CustomizedZhiGroupPluginType,\n) {\n  return function createGroupPlugin(zhiConfig) {\n    const myPlugin = createPlugin(zhiConfig);\n    const {\n      commands,\n      onAction,\n      queries,\n      groupNodes,\n      renderNode,\n      renderMark,\n      groupType,\n    } = myPlugin;\n    const config = zhiConfig[groupType] || {};\n    return {\n      shouldNodeComponentUpdate: createShouldComponentUpdate(),\n      renderNode: renderNode || createRenderNode(groupType),\n      renderMark: renderMark || createRenderMark(config),\n      groupNodes,\n      onAction: createOnAction(onAction),\n      onCangjieSelect: createOnCangjieSelect(config),\n      commands: {\n        ...factoryCommands,\n        ...commands,\n      },\n      queries,\n    };\n  };\n}\n"],"file":"index.js"}