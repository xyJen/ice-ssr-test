{"version":3,"sources":["../../../../../src/cardFactory/components/cardContainer/index.tsx"],"names":["React","isNumber","classnames","Card","CardWrapper","Container","props","children","cardStyle","node","attributes","isMobile","isSelected","restrictSize","controller","data","cardType","height","spacing","isFocused","value","realHeight","style","useMemo","cssHeight","overflow","calcStyle","width","className","selected","Boolean","TYPE"],"mappings":";AAAA,OAAOA,KAAP,MAAqC,OAArC;qBAC4B,a;AAA5B,SAASC,QAAT,QAAyB,WAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,SAASC,IAAT,EAAeC,WAAf,QAAkC,wBAAlC;;AAcA,IAAMC,SAA4C,GAAG,SAA/CA,SAA+C,CAACC,KAAD,EAAW;AAAA,MAE5DC,QAF4D,GAU1DD,KAV0D,CAE5DC,QAF4D;AAAA,yBAU1DD,KAV0D,CAG5DE,SAH4D;AAAA,MAG5DA,SAH4D,iCAGhD,EAHgD;AAAA,MAI5DC,IAJ4D,GAU1DH,KAV0D,CAI5DG,IAJ4D;AAAA,MAK5DC,UAL4D,GAU1DJ,KAV0D,CAK5DI,UAL4D;AAAA,MAM5DC,QAN4D,GAU1DL,KAV0D,CAM5DK,QAN4D;AAAA,MAO5DC,UAP4D,GAU1DN,KAV0D,CAO5DM,UAP4D;AAAA,MAQ5DC,YAR4D,GAU1DP,KAV0D,CAQ5DO,YAR4D;AAAA,MAS5DC,UAT4D,GAU1DR,KAV0D,CAS5DQ,UAT4D;AAAA,mBAWxBL,IAAI,CAACM,IAXmB;AAAA,MAWtDC,QAXsD,cAWtDA,QAXsD;AAAA,MAW5CC,MAX4C,cAW5CA,MAX4C;AAAA,MAWpCC,OAXoC,cAWpCA,OAXoC;AAAA,MAYtDC,SAZsD,GAYxCL,UAAU,CAACM,KAZ6B,CAYtDD,SAZsD;AAc9D,MAAME,UAAU,GAAGV,QAAQ,GAAG,MAAH,GAAYM,MAAvC;AACA,MAAMK,KAAoB,GAAGtB,KAAK,CAACuB,OAAN,CAAc,YAAM;AAC/C,QAAIC,SAAc,GAAG,MAArB;AACA,QAAIC,QAAQ,GAAG,SAAf;;AACA,QAAIZ,YAAJ,EAAkB;AAChBW,MAAAA,SAAS,GAAGvB,QAAQ,CAACoB,UAAD,CAAR,GAA0BA,UAA1B,UAA2CA,UAAvD;AACAI,MAAAA,QAAQ,GAAG,QAAX;AACD;;AACD,QAAMC,SAAwB;AAC5BT,MAAAA,MAAM,EAAEO,SADoB;AAE5BG,MAAAA,KAAK,EAAE,MAFqB;AAG5BF,MAAAA,QAAQ,EAARA;AAH4B,OAIzBjB,SAJyB,CAA9B;;AAMA,WAAOkB,SAAP;AACD,GAd4B,EAc1B,CAACL,UAAD,EAAaH,OAAb,EAAsBL,YAAtB,CAd0B,CAA7B;AAgBA,MAAMe,SAAiB,GAAG5B,KAAK,CAACuB,OAAN,CAAc;AAAA,WAAMrB,UAAU,CAAC;AACvD2B,MAAAA,QAAQ,EAAEC,OAAO,CAAClB,UAAU,IAAIO,SAAf;AADsC,KAAD,CAAhB;AAAA,GAAd,EAEtB,CAACP,UAAD,EAAaO,SAAb,CAFsB,CAA1B;AAIA,sBACE,eAAC,WAAD;AACE,IAAA,KAAK,EAAEG;AADT,KAEMZ,UAFN;AAGE,mBAAaM,QAHf;AAIE,iBAAWb,IAAI,CAAC4B,IAJlB;AAKE,IAAA,SAAS,EAAEH;AALb,MAOGrB,QAPH,CADF;AAUD,CA7CD;;AA+CA,eAAeF,SAAf","sourcesContent":["import React, { CSSProperties } from 'react';\nimport { isNumber } from 'lodash-es';\nimport classnames from 'classnames';\nimport { RenderNodeProps } from '@ali/4ever-cangjie';\nimport { Card, CardWrapper } from '@ali/4ever-plugin-card';\nimport { CardLocale } from '../../type';\nimport type { BiPluginConfig } from '@ali/4ever-cangjie';\n\ninterface RenderCardChildrenProps extends Omit<RenderNodeProps<Card>, 'children'> {\n  locale?: CardLocale;\n  isMobile?: boolean;\n  children: JSX.Element;\n  config: BiPluginConfig;\n  restrictSize?: boolean;\n  disableSelected?: boolean;\n  cardStyle?: React.CSSProperties;\n}\n\nconst Container: React.FC<RenderCardChildrenProps> = (props) => {\n  const {\n    children,\n    cardStyle = {},\n    node,\n    attributes,\n    isMobile,\n    isSelected,\n    restrictSize,\n    controller,\n  } = props;\n  const { cardType, height, spacing } = node.data;\n  const { isFocused } = controller.value;\n\n  const realHeight = isMobile ? 'auto' : height;\n  const style: CSSProperties = React.useMemo(() => {\n    let cssHeight: any = 'auto';\n    let overflow = 'initial';\n    if (restrictSize) {\n      cssHeight = isNumber(realHeight) ? `${realHeight}px` : realHeight;\n      overflow = 'hidden';\n    }\n    const calcStyle: CSSProperties = {\n      height: cssHeight,\n      width: '100%',\n      overflow,\n      ...cardStyle,\n    };\n    return calcStyle;\n  }, [realHeight, spacing, restrictSize]);\n\n  const className: string = React.useMemo(() => classnames({\n    selected: Boolean(isSelected && isFocused),\n  }), [isSelected, isFocused]);\n\n  return (\n    <CardWrapper\n      style={style}\n      {...attributes}\n      data-testid={cardType}\n      data-type={Card.TYPE}\n      className={className}\n    >\n      {children}\n    </CardWrapper>);\n};\n\nexport default Container;\n"],"file":"index.js"}