"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everCangjie = require("@ali/4ever-cangjie");

var _default = {
  name: 'embed',

  onOpenTag(state, name, attrs) {
    if (name !== 'video') return false;
    const rawAttrs = {
      src: attrs.src || '',
      name: attrs.title ? attrs.title : '',
      type: 'video',
      mimeType: '',
      size: Number(attrs['data-size']) || 0,
      viewType: 'preview',
      previewSize: {
        height: 300
      }
    };
    const embed = ['embed', rawAttrs, (0, _everCangjie.createTextWithString)('')];
    state.push(embed);
    return true;
  },

  onCloseTag(state, name) {
    if (name !== 'video') return false;
    const video = state.pop();
    state.append(video);
    return true;
  }

};
exports.default = _default;
//# sourceMappingURL=htmlToJsonML.js.map