import { useRef, useCallback } from 'react';
import useFlush from "./useFlush";
export default (function (initialState) {
  var state = useRef(initialState || {}).current;
  var flush = useFlush();
  var handleChange = useCallback(function (newState) {
    // @ts-ignore
    Object.assign(state, newState);
    flush();
  }, [state, flush]);
  return [state, handleChange];
});