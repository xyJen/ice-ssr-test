# component-demo

we-cli docs: https://pds.alibaba-inc.com/alidocs/we-cli/

## 环境

安装 nodejs/yarn(包管理器)：

```
wget --no-check-certificate -O- https://pds.alibaba-inc.com/chengyu/tnvm/install.sh | bash
source $HOME/.tnvm/tnvm.sh
tnvm install node-v12.16.3
npm install --registry=https://registry.npm.alibaba-inc.com -g yarn @ali/yarn tnpm
```

在当前目录安装项目依赖

```
ayarn
```

## 目录

- i18nResource: 多语言文件目录，由美杜莎生成，格式为 i18next 语言格式
- locale: 多语言最终目录，自动生成
- src: 源文件目录，格式为 es20xx
- `__tests__`: 单测文件目录，格式为 jest
- stories: 示例文件目录，采用 storybook，文档可用 mdx 或代码注释生成
- pkg: 最终发布到 npm 的文件目录，由工具产出
- build: 合并 docs/stories，可发往 pages.alibaba-inc.com 的演示，由工具产出

## 命令

- yarn start: 基于 stories 和 src 目录文件进行 storybook 开发调试
- yarn build-storybook: 构建 build 目录，用来发往 pages.alibaba-inc.com 做演示
- yarn build: 构建 pkg 目录，用来发往 npm
- yarn test: 运行 \_\_tests\_\_ 目录内的 jest 测试用例
- yarn clean: 清除构建目录
- yarn typechecking: 类型检查
- yarn pub: 构建组件并发布到 tnpm
- yarn coverage: 运行 \_\_tests\_\_ 目录内的 jest 测试用例并产生测试覆盖率
- yarn lint: 利用统一 eslint 规则对代码进行检测并自动修复. [react](https://f2e.alibaba-inc.com/markdown?spm=a2o8t.11089562.0.0.728d6654WqXR0O&gitlab=f2e-specs%2Fstyle-guide%2F1.coding%2F4.react-style-guide.md), [typescript](https://f2e.alibaba-inc.com/markdown?spm=a2o8t.11089562.0.0.7fd06654vCIwC5&gitlab=f2e-specs%2Fstyle-guide%2F1.coding%2F6.typescript-style-guide.md)
- yarn styleint: 利用统一 stylelint 规则对代码进行检测. [css](https://f2e.alibaba-inc.com/markdown?spm=a2o8t.11089562.0.0.79cd6654wLGFPf&gitlab=f2e-specs%2Fstyle-guide%2F1.coding%2F2.css-style-guide.md)
- yarn site: 构建 storybook 并部署到 demo 平台，需要配置 pages.alibaba-inc.com ，例如 https://pages.alibaba-inc.com/p/1773539


we-cli docs: https://pds.alibaba-inc.com/alidocs/we-cli/