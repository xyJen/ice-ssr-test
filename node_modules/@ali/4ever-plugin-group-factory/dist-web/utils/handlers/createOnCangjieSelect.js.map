{"version":3,"sources":["../../../../src/utils/handlers/createOnCangjieSelect.ts"],"names":["toggleFold","createAutoUnfold","createOnCangjieSelect","config","autoUnfold","fold","handleAutoUnfold","onAutoUnfold","controller","node","run","onCangjieSelect","event","next"],"mappings":"AACA,SAASA,UAAT,EAAqBC,gBAArB,QAA6C,iCAA7C;;AAEA,SAASC,qBAAT,CAA+BC,MAA/B,EAAuF;AAAA,2BACxCA,MADwC,CAC7EC,UAD6E;AAAA,MAC7EA,UAD6E,mCAChE,KADgE;AAAA,qBACxCD,MADwC,CACzDE,IADyD;AAAA,MACzDA,IADyD,6BAClD,KADkD;AAGrF,MAAMC,gBAAgB,GAAGL,gBAAgB,CAAC;AACxCM,IAAAA,YAAY,EAAE,sBAACC,UAAD,EAAaC,IAAb;AAAA,aAAsBD,UAAU,CAACE,GAAX,CAAe,UAAf,EAA2BV,UAAU,CAAC;AACxES,QAAAA,IAAI,EAAJA,IADwE;AAExEJ,QAAAA,IAAI,EAAJA;AAFwE,OAAD,CAArC,CAAtB;AAAA;AAD0B,GAAD,CAAzC;AAOA,SAAO,SAASM,eAAT,CAAyBC,KAAzB,EAAgCJ,UAAhC,EAA4CK,IAA5C,EAAkD;AACvD,QAAIT,UAAJ,EAAgB;AACdE,MAAAA,gBAAgB,CAACM,KAAD,EAAQJ,UAAR,CAAhB;AACD;;AACD,WAAOK,IAAI,EAAX;AACD,GALD;AAMD;;AAED,eAAeX,qBAAf","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport { toggleFold, createAutoUnfold } from '@ali/4ever-plugin-heading-group'\n\nfunction createOnCangjieSelect(config: Record<string, any>): Plugin['onCangjieSelect'] {\n  const { autoUnfold = false, fold = false } = config;\n\n  const handleAutoUnfold = createAutoUnfold({\n    onAutoUnfold: (controller, node) => controller.run('onAction', toggleFold({\n      node,\n      fold,\n    })),\n  });\n\n  return function onCangjieSelect(event, controller, next) {\n    if (autoUnfold) {\n      handleAutoUnfold(event, controller);\n    }\n    return next();\n  };\n}\n\nexport default createOnCangjieSelect;\n"],"file":"createOnCangjieSelect.js"}