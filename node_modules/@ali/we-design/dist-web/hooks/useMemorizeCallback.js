import { useRef } from 'react';
import { isEqual } from "../utils";
export default (function (callback) {
  var cache = useRef([]);
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var found = cache.current.find(function (pair) {
      return isEqual(pair[0], args);
    });

    if (found) {
      return found[1];
    } else {
      var fn = callback.apply(void 0, args);
      cache.current.push([args, fn]);
      return fn;
    }
  };
});