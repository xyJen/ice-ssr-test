import dayjs from 'dayjs';
var DATE_RE = /^(\d{4})(\/|\s|-|\.)?(\d{1,2})?(\/|\s|-|\.)?(\d{1,2})?$/;
var TIME_RE = /^(\d{1,2}):(\d{1,2})?:(\d{1,2})?$/;

function checkDay(yearString, monthString, dayString) {
  var monthNumber = Number(monthString);
  var daysInMonth = dayjs().set('year', Number(yearString)).set('month', Number(monthNumber - 1)).daysInMonth();
  return !!Number(dayString) && Number(dayString) <= daysInMonth;
}

function checkMonth(monthString) {
  var monthNumber = Number(monthString);
  return !!monthString && monthNumber < 13;
}

export function checkDate(dateString) {
  var reg = dateString.match(DATE_RE);

  if (reg) {
    var years = reg[1],
        deliYM = reg[2],
        months = reg[3],
        deliMD = reg[4],
        day = reg[5];
    return !!(years && deliYM && months && deliMD && day) && checkDay(years, months, day) && checkMonth(months);
  }

  return false;
}
export function checkTime(timeString) {
  var reg = timeString.match(TIME_RE);

  if (reg) {
    var hour = reg[1],
        minute = reg[2],
        second = reg[3];
    return !!(hour && minute && second) && Number(hour) < 24 && Number(minute) < 60 && Number(second) < 60;
  }

  return false;
}