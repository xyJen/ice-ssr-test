{"version":3,"sources":["../../../../src/bi/utils/getTextOffsetInsideInlineCode.ts"],"names":["InlineCode","getTextOffsetInsideInlineCode","value","selection","isExpanded","isInlineCode","anchorInline","anchor","isTextPoint","offset"],"mappings":"AACA,OAAOA,UAAP;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,6BAAT,CACbC,KADa,EAEE;AAAA,MACPC,SADO,GACOD,KADP,CACPC,SADO;AAEf,MAAI,CAACA,SAAD,IAAcA,SAAS,CAACC,UAA5B,EAAwC,OAAO,IAAP,CAFzB,CAGf;;AACA,MACEJ,UAAU,CAACK,YAAX,CAAwBH,KAAK,CAACI,YAA9B,KACAH,SAAS,CAACI,MAAV,CAAiBC,WAAjB,EAFF,EAGE;AACA,WAAOL,SAAS,CAACI,MAAV,CAAiBE,MAAxB;AACD;;AACD,SAAO,IAAP;AACD","sourcesContent":["import { Value } from '@ali/4ever-cangjie';\nimport InlineCode from '../../mo/models';\n\n/**\n * 首先判断Text节点的左侧/右侧是否有Inline Code\n * 如果有，则计算光标处于Inline Code左右侧Text节点的偏移量\n * @param value\n * @return\n */\nexport default function getTextOffsetInsideInlineCode(\n  value: Value,\n): number | null {\n  const { selection } = value;\n  if (!selection || selection.isExpanded) return null;\n  //若当前选中点为 text 起始，则试探前后一个节点是否为 inline\n  if (\n    InlineCode.isInlineCode(value.anchorInline) &&\n    selection.anchor.isTextPoint()\n  ) {\n    return selection.anchor.offset;\n  }\n  return null;\n}\n"],"file":"getTextOffsetInsideInlineCode.js"}