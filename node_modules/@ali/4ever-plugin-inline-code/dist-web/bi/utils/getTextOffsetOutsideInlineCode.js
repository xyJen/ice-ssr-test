import getCurTextNode from "./getCurTextNode";
import InlineCode from "../../mo/models";
/**
 * 首先判断Text节点的左侧/右侧是否有Inline Code
 * 如果有，则计算光标处于Inline Code左右侧Text节点的偏移量
 * @param value
 * @param side
 * @return
 */

export default function getTextOffsetOutsideInlineCode(value, side) {
  var selection = value.selection,
      document = value.document;
  if (!selection || selection.isExpanded) return null; //若当前选中点为 text 起始，则试探前后一个节点是否为 inline

  var curTextNode = getCurTextNode(value);
  if (!curTextNode) return null; // 试探后一个节点是否为Inline Code Node

  var maybeInlineNode = side === 'left' ? document.getNextSibling(curTextNode.key) : document.getPreviousSibling(curTextNode.key);

  if (InlineCode.isInlineCode(maybeInlineNode)) {
    var anchor = selection.anchor;
    return anchor.offset;
  }

  return null;
}
//# sourceMappingURL=getTextOffsetOutsideInlineCode.js.map