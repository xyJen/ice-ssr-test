import { Commands } from '@ali/4ever-cangjie';
import InlineCode from "../../mo/models";
export default function isSelectionInInlineCode(controller) {
  var value = controller.value;
  var selection = value.selection,
      document = value.document;
  if (!selection || selection.isCollapsed) return false; // 收缩选区,当选区选择Inline Code边缘情况时，保证anchor和focus属于Inline Code节点上

  controller.command(Commands.select, selection.shrinkBoundary(document));
  var _controller$value = controller.value,
      newSelection = _controller$value.selection,
      newDocument = _controller$value.document;
  var startPoint = newSelection.getStart(newDocument);
  var endPoint = newSelection.getEnd(newDocument);
  var startInline = newDocument.getClosestInline(startPoint.key);
  var endInline = newDocument.getClosestInline(endPoint.key);

  if (!(InlineCode.isInlineCode(startInline) && InlineCode.isInline(endInline))) {
    return false;
  }

  var startKey = startInline == null ? void 0 : startInline.key;
  var endKey = endInline == null ? void 0 : endInline.key;
  return !!(startKey && endKey) ? startKey === endKey : false;
}
//# sourceMappingURL=isSelectionInInlineCode.js.map