{"version":3,"sources":["../../../../../src/mo/serializer/valueToText/index.ts"],"names":["Card","projectCard","calendar","url","link","convertPlugins","valueToText","name","match","node","isCard","convert","data","cardType","metadata","subject","targetConvert"],"mappings":"AACA,OAAOA,IAAP;AACA,OAAOC,WAAP;AACA,OAAOC,QAAP;AACA,OAAOC,GAAP;AACA,OAAOC,IAAP;AAEA,IAAMC,cAAc,GAAG;AACrBJ,EAAAA,WAAW,EAAXA,WADqB;AAErBC,EAAAA,QAAQ,EAARA,QAFqB;AAGrBC,EAAAA,GAAG,EAAHA,GAHqB;AAIrBC,EAAAA,IAAI,EAAJA;AAJqB,CAAvB;AAOA,IAAME,WAA4B,GAAG;AACnCC,EAAAA,IAAI,EAAE,MAD6B;AAGnCC,EAAAA,KAHmC,iBAG7BC,IAH6B,EAGvB;AACV,WAAOT,IAAI,CAACU,MAAL,CAAYD,IAAZ,CAAP;AACD,GALkC;AAOnCE,EAAAA,OAPmC,mBAO3BF,IAP2B,EAOrB;AAAA,eACMA,IADN;AAAA,QACJG,IADI,QACJA,IADI;AAAA,QAEJC,QAFI,GAEmBD,IAFnB,CAEJC,QAFI;AAAA,QAEMC,QAFN,GAEmBF,IAFnB,CAEME,QAFN;;AAAA,gBAGQA,QAAQ,IAAI,EAHpB;AAAA,QAGJC,OAHI,SAGJA,OAHI;;AAIZ,QAAMC,aAAa,GAAGX,cAAc,CAACQ,QAAD,CAApC;AACA,QAAIG,aAAJ,EAAmB,OAAOA,aAAa,CAACJ,IAAD,CAApB;AAEnB,WAAOG,OAAO,IAAI,EAAlB;AACD;AAfkC,CAArC;AAkBA,eAAeT,WAAf","sourcesContent":["import type { Block, ValueToTextRule } from '@ali/4ever-cangjie';\nimport Card from '../../models';\nimport projectCard from './projectCard';\nimport calendar from './calendar';\nimport url from './url';\nimport link from './link';\n\nconst convertPlugins = {\n  projectCard,\n  calendar,\n  url,\n  link,\n};\n\nconst valueToText: ValueToTextRule = {\n  name: 'card',\n\n  match(node) {\n    return Card.isCard(node);\n  },\n\n  convert(node) {\n    const { data } = (node as Block);\n    const { cardType, metadata } = data;\n    const { subject } = metadata || {};\n    const targetConvert = convertPlugins[cardType];\n    if (targetConvert) return targetConvert(data);\n\n    return subject || '';\n  },\n};\n\nexport default valueToText;\n"],"file":"index.js"}