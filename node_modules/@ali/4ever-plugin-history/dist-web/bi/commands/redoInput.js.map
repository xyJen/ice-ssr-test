{"version":3,"sources":["../../../../src/bi/commands/redoInput.ts"],"names":["equal","canRedo","redoInput","controller","nextDocument","value","document","query","command"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AAEA,SAASC,OAAT;AAEA,OAAO,SAASC,SAAT,CAAmBC,UAAnB,EAA2C;AAChD,MAAIC,YAA6B,GAAG,IAApC;;AACA,KAAG;AACDA,IAAAA,YAAY,GAAGD,UAAU,CAACE,KAAX,CAAiBC,QAAhC;;AACA,QAAIH,UAAU,CAACI,KAAX,CAAiBN,OAAjB,CAAJ,EAA+B;AAC7BE,MAAAA,UAAU,CAACK,OAAX,CAAmB,MAAnB;AACD,KAFD,MAEO;AACL;AACD,KANA,CAOH;;AACC,GARD,QAQSR,KAAK,CAACG,UAAU,CAACE,KAAX,CAAiBC,QAAlB,EAA4BF,YAA5B,CARd;;AASA,SAAOD,UAAP;AACD","sourcesContent":["import equal from 'fast-deep-equal';\nimport { Controller, Document } from '@ali/4ever-cangjie';\nimport { canRedo } from '../queries/canRedo';\n\nexport function redoInput(controller: Controller) {\n  let nextDocument: Document | null = null;\n  do {\n    nextDocument = controller.value.document;\n    if (controller.query(canRedo)) {\n      controller.command('redo');\n    } else {\n      break;\n    }\n  // TODO: 使用自写的 is 替换 fast-deep-equal\n  } while (equal(controller.value.document, nextDocument));\n  return controller;\n}\n"],"file":"redoInput.js"}