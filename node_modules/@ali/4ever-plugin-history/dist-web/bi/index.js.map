{"version":3,"sources":["../../../src/bi/index.ts"],"names":["toolbar","queries","commands","actions","isActions","onAction","onKeyDown","createRenderToolbar","key","biFactory","config","historyConfig","history","renderToolbar","canUndo","canRedo","models"],"mappings":"AAAA,OAAOA,OAAP;AACA,SAASC,OAAT;AACA,SAASC,QAAT;AACA,SAASC,OAAT,EAAkBC,SAAlB;AACA,OAAOC,QAAP;AACA,OAAOC,SAAP;AACA,OAAOC,mBAAP;AAEA,SAASC,GAAT;AAEA,OAAO,IAAMC,SAAoB,GAAG,SAAvBA,SAAuB,CAACC,MAAD,EAAY;AAC9C,MAAMC,aAAa,GAAGD,MAAM,CAACE,OAAP,IAAkB,EAAxC;AAEA,SAAO;AACLJ,IAAAA,GAAG,EAAHA,GADK;AAELR,IAAAA,OAAO,EAAEA,OAAO,CAACW,aAAD,CAFX;AAGLE,IAAAA,aAAa,EAAEN,mBAAmB,CAACI,aAAD,CAH7B;AAILV,IAAAA,OAAO,EAAE;AACPa,MAAAA,OAAO,EAAEH,aAAa,CAACG,OAAd,GAAwBH,aAAa,CAACG,OAAtC,GAAgDb,OAAO,CAACa,OAD1D;AAEPC,MAAAA,OAAO,EAAEJ,aAAa,CAACI,OAAd,GAAwBJ,aAAa,CAACI,OAAtC,GAAgDd,OAAO,CAACc;AAF1D,KAJJ;AAQLb,IAAAA,QAAQ,EAARA,QARK;AASLC,IAAAA,OAAO,EAAPA,OATK;AAULC,IAAAA,SAAS,EAATA,SAVK;AAWLC,IAAAA,QAAQ,EAARA,QAXK;AAYLC,IAAAA,SAAS,EAATA,SAZK;AAaLU,IAAAA,MAAM,EAAE;AAbH,GAAP;AAeD,CAlBM","sourcesContent":["import toolbar from './toolbar';\nimport { queries } from './queries';\nimport { commands } from './commands';\nimport { actions, isActions } from './actions';\nimport onAction from './handlers/onAction';\nimport onKeyDown from './handlers/onKeyDown';\nimport createRenderToolbar from './createRenderToolbar';\nimport type { BiFactory } from '@ali/4ever-cangjie';\nimport { key } from '../utils/meta';\n\nexport const biFactory: BiFactory = (config) => {\n  const historyConfig = config.history || {};\n\n  return {\n    key,\n    toolbar: toolbar(historyConfig),\n    renderToolbar: createRenderToolbar(historyConfig),\n    queries: {\n      canUndo: historyConfig.canUndo ? historyConfig.canUndo : queries.canUndo,\n      canRedo: historyConfig.canRedo ? historyConfig.canRedo : queries.canRedo,\n    },\n    commands,\n    actions,\n    isActions,\n    onAction,\n    onKeyDown,\n    models: [],\n  };\n};\n"],"file":"index.js"}