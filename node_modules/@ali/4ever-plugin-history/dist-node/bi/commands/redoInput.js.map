{"version":3,"sources":["../../../../src/bi/commands/redoInput.ts"],"names":["redoInput","controller","nextDocument","value","document","query","canRedo","command"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEO,SAASA,SAAT,CAAmBC,UAAnB,EAA2C;AAChD,MAAIC,YAA6B,GAAG,IAApC;;AACA,KAAG;AACDA,IAAAA,YAAY,GAAGD,UAAU,CAACE,KAAX,CAAiBC,QAAhC;;AACA,QAAIH,UAAU,CAACI,KAAX,CAAiBC,gBAAjB,CAAJ,EAA+B;AAC7BL,MAAAA,UAAU,CAACM,OAAX,CAAmB,MAAnB;AACD,KAFD,MAEO;AACL;AACD,KANA,CAOH;;AACC,GARD,QAQS,4BAAMN,UAAU,CAACE,KAAX,CAAiBC,QAAvB,EAAiCF,YAAjC,CART;;AASA,SAAOD,UAAP;AACD","sourcesContent":["import equal from 'fast-deep-equal';\nimport { Controller, Document } from '@ali/4ever-cangjie';\nimport { canRedo } from '../queries/canRedo';\n\nexport function redoInput(controller: Controller) {\n  let nextDocument: Document | null = null;\n  do {\n    nextDocument = controller.value.document;\n    if (controller.query(canRedo)) {\n      controller.command('redo');\n    } else {\n      break;\n    }\n  // TODO: 使用自写的 is 替换 fast-deep-equal\n  } while (equal(controller.value.document, nextDocument));\n  return controller;\n}\n"],"file":"redoInput.js"}