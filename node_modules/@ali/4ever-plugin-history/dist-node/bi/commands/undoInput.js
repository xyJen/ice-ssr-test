"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.undoInput = undoInput;

var _fastDeepEqual = _interopRequireDefault(require("fast-deep-equal"));

var _canUndo = require("../queries/canUndo");

function undoInput(controller) {
  let previousDocument = null;

  do {
    previousDocument = controller.value.document;

    if (controller.query(_canUndo.canUndo)) {
      controller.command('undo');
    } else {
      break;
    } // TODO: 使用自写的 is 替换 fast-deep-equal

  } while ((0, _fastDeepEqual.default)(controller.value.document, previousDocument));

  return controller;
}
//# sourceMappingURL=undoInput.js.map