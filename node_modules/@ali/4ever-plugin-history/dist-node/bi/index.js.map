{"version":3,"sources":["../../../src/bi/index.ts"],"names":["biFactory","config","historyConfig","history","key","toolbar","renderToolbar","queries","canUndo","canRedo","commands","actions","isActions","onAction","onKeyDown","models"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEO,MAAMA,SAAoB,GAAIC,MAAD,IAAY;AAC9C,QAAMC,aAAa,GAAGD,MAAM,CAACE,OAAP,IAAkB,EAAxC;AAEA,SAAO;AACLC,IAAAA,GAAG,EAAHA,SADK;AAELC,IAAAA,OAAO,EAAE,sBAAQH,aAAR,CAFJ;AAGLI,IAAAA,aAAa,EAAE,kCAAoBJ,aAApB,CAHV;AAILK,IAAAA,OAAO,EAAE;AACPC,MAAAA,OAAO,EAAEN,aAAa,CAACM,OAAd,GAAwBN,aAAa,CAACM,OAAtC,GAAgDD,iBAAQC,OAD1D;AAEPC,MAAAA,OAAO,EAAEP,aAAa,CAACO,OAAd,GAAwBP,aAAa,CAACO,OAAtC,GAAgDF,iBAAQE;AAF1D,KAJJ;AAQLC,IAAAA,QAAQ,EAARA,kBARK;AASLC,IAAAA,OAAO,EAAPA,gBATK;AAULC,IAAAA,SAAS,EAATA,kBAVK;AAWLC,IAAAA,QAAQ,EAARA,iBAXK;AAYLC,IAAAA,SAAS,EAATA,kBAZK;AAaLC,IAAAA,MAAM,EAAE;AAbH,GAAP;AAeD,CAlBM","sourcesContent":["import toolbar from './toolbar';\nimport { queries } from './queries';\nimport { commands } from './commands';\nimport { actions, isActions } from './actions';\nimport onAction from './handlers/onAction';\nimport onKeyDown from './handlers/onKeyDown';\nimport createRenderToolbar from './createRenderToolbar';\nimport type { BiFactory } from '@ali/4ever-cangjie';\nimport { key } from '../utils/meta';\n\nexport const biFactory: BiFactory = (config) => {\n  const historyConfig = config.history || {};\n\n  return {\n    key,\n    toolbar: toolbar(historyConfig),\n    renderToolbar: createRenderToolbar(historyConfig),\n    queries: {\n      canUndo: historyConfig.canUndo ? historyConfig.canUndo : queries.canUndo,\n      canRedo: historyConfig.canRedo ? historyConfig.canRedo : queries.canRedo,\n    },\n    commands,\n    actions,\n    isActions,\n    onAction,\n    onKeyDown,\n    models: [],\n  };\n};\n"],"file":"index.js"}