{"version":3,"sources":["../../../src/utils/simpleMapCache.ts"],"names":["SimpleMapCache","constructor","max","cache","Map","get","key","add","value","has","delete","size","keys","next","set"],"mappings":";;;;;;;AAAA,MAAMA,cAAN,CAAwB;AAGtBC,EAAAA,WAAW,CAACC,GAAD,EAAe;AAAA,SAFlBA,GAEkB;AAAA,SADlBC,KACkB,GADM,IAAIC,GAAJ,EACN;AACxB,SAAKF,GAAL,GAAWA,GAAG,IAAI,GAAlB;AACD;;AACDG,EAAAA,GAAG,CAACC,GAAD,EAAc;AACf,WAAO,KAAKH,KAAL,CAAWE,GAAX,CAAeC,GAAf,CAAP;AACD;;AACDC,EAAAA,GAAG,CAACD,GAAD,EAAcE,KAAd,EAAwB;AACzB,QAAG,KAAKL,KAAL,CAAWM,GAAX,CAAeH,GAAf,CAAH,EAAwB;AACtB;AACA,WAAKH,KAAL,CAAWO,MAAX,CAAkBJ,GAAlB;AACD;;AAAA;;AAED,QAAG,KAAKH,KAAL,CAAWQ,IAAX,GAAkB,KAAKT,GAA1B,EAA+B;AAC7B;AACA,WAAKC,KAAL,CAAWO,MAAX,CAAkB,KAAKP,KAAL,CAAWS,IAAX,GAAkBC,IAAlB,GAAyBL,KAA3C;AACD;;AAED,SAAKL,KAAL,CAAWW,GAAX,CAAeR,GAAf,EAAoBE,KAApB;AACD;;AArBqB;;eAwBTR,c","sourcesContent":["class SimpleMapCache<T> {\n  private max: number;\n  private cache: Map<string, T> = new Map();\n  constructor(max?: number) {\n    this.max = max || 200;\n  }\n  get(key: string) {\n    return this.cache.get(key);\n  }\n  add(key: string, value: T) {\n    if(this.cache.has(key)) {\n      // 更新\n      this.cache.delete(key);\n    };\n\n    if(this.cache.size > this.max) {\n      // 强制删除第一个\n      this.cache.delete(this.cache.keys().next().value);\n    }\n\n    this.cache.set(key, value);\n  }\n}\n\nexport default SimpleMapCache;"],"file":"simpleMapCache.js"}