"use strict";

var _everCangjie = require("@ali/4ever-cangjie");

var _ind = require("../utils/formats/ind");

const testCases = [{
  name: '普通段落缩进',
  input: {
    klass: 'block',
    type: 'paragraph',
    data: {
      ind: {
        left: 28
      }
    },
    nodes: [{
      klass: 'text',
      leaves: [{
        klass: 'leaf',
        text: '首',
        marks: [{
          klass: 'mark',
          type: 'sz',
          data: {
            value: 16,
            szUnit: 'pt'
          }
        }]
      }, {
        klass: 'leaf',
        text: '行'
      }]
    }]
  },
  output: {
    left: 28
  }
}, {
  name: '首行缩进',
  input: {
    klass: 'block',
    type: 'paragraph',
    data: {
      ind: {
        left: 28,
        firstLineChars: 200
      }
    },
    nodes: [{
      klass: 'text',
      leaves: [{
        klass: 'leaf',
        text: '首',
        marks: [{
          klass: 'mark',
          type: 'sz',
          data: {
            value: 16,
            szUnit: 'pt'
          }
        }]
      }, {
        klass: 'leaf',
        text: '行'
      }]
    }]
  },
  output: {
    left: 28,
    firstLine: 42.66666666666666,
    firstLineChars: 200
  }
}, {
  name: '悬挂缩进',
  input: {
    klass: 'block',
    type: 'paragraph',
    data: {
      ind: {
        left: 28,
        hangingChars: 200
      }
    },
    nodes: [{
      klass: 'text',
      leaves: [{
        klass: 'leaf',
        text: '首',
        marks: [{
          klass: 'mark',
          type: 'sz',
          data: {
            value: 16,
            szUnit: 'pt'
          }
        }]
      }, {
        klass: 'leaf',
        text: '行'
      }]
    }]
  },
  output: {
    left: 0,
    hanging: 42.66666666666666,
    hangingChars: 200
  }
}];
describe('test IndUtil.fromBlock', () => {
  testCases.forEach(testCase => {
    const {
      name,
      input,
      output
    } = testCase;
    it(`ind: ${name}`, () => {
      const node = _everCangjie.Block.fromJSON(input);

      expect(_ind.IndUtil.fromBlock(node)).toEqual(output);
    });
  });
});
//# sourceMappingURL=ind.test.js.map