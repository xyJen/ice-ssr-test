"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _everCangjie = require("@ali/4ever-cangjie");

var _fontRenderFallback = _interopRequireDefault(require("../../utils/fontRenderFallback"));

var _fixtures = _interopRequireDefault(require("./fixtures"));

const supportFonts = _fontRenderFallback.default.getSupportFonts();

describe('字体渲染降级', () => {
  supportFonts.forEach((font, index) => {
    it(`${font}: ${_fixtures.default[index]}`, () => {
      const fallback = _fontRenderFallback.default.getFontFallback(_everCangjie.Mark.create({
        type: 'fonts',
        data: {
          ascii: font,
          eastAsia: font,
          cs: font,
          hAnsi: font
        }
      }));

      expect(fallback).toBe(_fixtures.default[index]);
    });
  });
  it('different fonts', () => {
    const fallback = _fontRenderFallback.default.getFontFallback(_everCangjie.Mark.create({
      type: 'fonts',
      data: {
        ascii: 'Impact',
        eastAsia: 'SimSun',
        cs: 'Times New Roman',
        hAnsi: 'Times New Roman'
      }
    }));

    expect(fallback).toBe('Impact,SimSun,宋体,Songti SC,NSimSun,STSong,serif,Times New Roman');
  });
  it('hint fonts', () => {
    const fallback = _fontRenderFallback.default.getFontFallback(_everCangjie.Mark.create({
      type: 'fonts',
      data: {
        ascii: 'Impact',
        eastAsia: 'SimSun',
        cs: 'Times New Roman',
        hAnsi: 'Times New Roman',
        hint: 'eastAsia'
      }
    }));

    expect(fallback).toBe('SimSun,宋体,Songti SC,NSimSun,STSong,serif,Times New Roman');
  });
});
//# sourceMappingURL=fontsRenderFallback.test.js.map