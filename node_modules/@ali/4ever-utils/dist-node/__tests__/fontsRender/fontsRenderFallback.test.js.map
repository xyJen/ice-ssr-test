{"version":3,"sources":["../../../../src/__tests__/fontsRender/fontsRenderFallback.test.ts"],"names":["supportFonts","fontRenderFallback","getSupportFonts","describe","forEach","font","index","it","fixtures","fallback","getFontFallback","Mark","create","type","data","ascii","eastAsia","cs","hAnsi","expect","toBe","hint"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA,MAAMA,YAAY,GAAGC,4BAAmBC,eAAnB,EAArB;;AAEAC,QAAQ,CAAC,QAAD,EAAW,MAAM;AACvBH,EAAAA,YAAY,CAACI,OAAb,CAAqB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACpCC,IAAAA,EAAE,CAAE,GAAEF,IAAK,KAAIG,kBAASF,KAAT,CAAgB,EAA7B,EAAgC,MAAM;AACtC,YAAMG,QAAQ,GAAGR,4BAAmBS,eAAnB,CAAmCC,kBAAKC,MAAL,CAAY;AAC9DC,QAAAA,IAAI,EAAE,OADwD;AAE9DC,QAAAA,IAAI,EAAE;AACJC,UAAAA,KAAK,EAAEV,IADH;AAEJW,UAAAA,QAAQ,EAAEX,IAFN;AAGJY,UAAAA,EAAE,EAAEZ,IAHA;AAIJa,UAAAA,KAAK,EAAEb;AAJH;AAFwD,OAAZ,CAAnC,CAAjB;;AASAc,MAAAA,MAAM,CAACV,QAAD,CAAN,CAAiBW,IAAjB,CAAsBZ,kBAASF,KAAT,CAAtB;AACD,KAXC,CAAF;AAYD,GAbD;AAeAC,EAAAA,EAAE,CAAC,iBAAD,EAAoB,MAAM;AAC1B,UAAME,QAAQ,GAAGR,4BAAmBS,eAAnB,CAAmCC,kBAAKC,MAAL,CAAY;AAC9DC,MAAAA,IAAI,EAAE,OADwD;AAE9DC,MAAAA,IAAI,EAAE;AACJC,QAAAA,KAAK,EAAE,QADH;AAEJC,QAAAA,QAAQ,EAAE,QAFN;AAGJC,QAAAA,EAAE,EAAE,iBAHA;AAIJC,QAAAA,KAAK,EAAE;AAJH;AAFwD,KAAZ,CAAnC,CAAjB;;AASAC,IAAAA,MAAM,CAACV,QAAD,CAAN,CAAiBW,IAAjB,CAAsB,iEAAtB;AACD,GAXC,CAAF;AAaAb,EAAAA,EAAE,CAAC,YAAD,EAAe,MAAM;AACrB,UAAME,QAAQ,GAAGR,4BAAmBS,eAAnB,CAAmCC,kBAAKC,MAAL,CAAY;AAC9DC,MAAAA,IAAI,EAAE,OADwD;AAE9DC,MAAAA,IAAI,EAAE;AACJC,QAAAA,KAAK,EAAE,QADH;AAEJC,QAAAA,QAAQ,EAAE,QAFN;AAGJC,QAAAA,EAAE,EAAE,iBAHA;AAIJC,QAAAA,KAAK,EAAE,iBAJH;AAKJG,QAAAA,IAAI,EAAE;AALF;AAFwD,KAAZ,CAAnC,CAAjB;;AAUAF,IAAAA,MAAM,CAACV,QAAD,CAAN,CAAiBW,IAAjB,CAAsB,0DAAtB;AACD,GAZC,CAAF;AAaD,CA1CO,CAAR","sourcesContent":["import { Mark } from '@ali/4ever-cangjie';\nimport fontRenderFallback from '../../utils/fontRenderFallback';\nimport fixtures from './fixtures';\nconst supportFonts = fontRenderFallback.getSupportFonts();\n\ndescribe('字体渲染降级', () => {\n  supportFonts.forEach((font, index) => {\n    it(`${font}: ${fixtures[index]}`, () => {\n      const fallback = fontRenderFallback.getFontFallback(Mark.create({\n        type: 'fonts',\n        data: {\n          ascii: font,\n          eastAsia: font,\n          cs: font,\n          hAnsi: font,\n        }\n      }));\n      expect(fallback).toBe(fixtures[index]);\n    });\n  });\n\n  it('different fonts', () => {\n    const fallback = fontRenderFallback.getFontFallback(Mark.create({\n      type: 'fonts',\n      data: {\n        ascii: 'Impact',\n        eastAsia: 'SimSun',\n        cs: 'Times New Roman',\n        hAnsi: 'Times New Roman',\n      }\n    }));\n    expect(fallback).toBe('Impact,SimSun,宋体,Songti SC,NSimSun,STSong,serif,Times New Roman');\n  });\n\n  it('hint fonts', () => {\n    const fallback = fontRenderFallback.getFontFallback(Mark.create({\n      type: 'fonts',\n      data: {\n        ascii: 'Impact',\n        eastAsia: 'SimSun',\n        cs: 'Times New Roman',\n        hAnsi: 'Times New Roman',\n        hint: 'eastAsia',\n      }\n    }));\n    expect(fallback).toBe('SimSun,宋体,Songti SC,NSimSun,STSong,serif,Times New Roman');\n  });\n});\n"],"file":"fontsRenderFallback.test.js"}