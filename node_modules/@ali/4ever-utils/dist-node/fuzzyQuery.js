"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fuzzySearch = fuzzySearch;
exports.getFuzzyQuery = void 0;

var _interopRequireWildcard2 = _interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard"));

const specialChars = '\\/[]{}()+-*?|,^$.<>:&`';
/**
 * 获取模糊搜索的正则表达式
 * @param text 模糊匹配的目标对象字符串
 * @returns 用于模糊匹配 text 的正则
 */

const getFuzzyQuery = text => new RegExp(Array.from(text).map(c => specialChars.indexOf(c) !== -1 ? `\\${c}` : c.toLowerCase()).join('(.*?)'));

exports.getFuzzyQuery = getFuzzyQuery;

async function fuzzySearch(items, query, options) {
  const fuzzy = await Promise.resolve().then(() => (0, _interopRequireWildcard2.default)(require('fuzzaldrin-plus')));
  return fuzzy.filter(items, query, options);
}
//# sourceMappingURL=fuzzyQuery.js.map