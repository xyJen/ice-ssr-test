{"version":3,"sources":["../../../src/utils/copyToClipboard.ts"],"names":["environment","copyToClipboard","text","onCopied","el","document","createElement","value","body","appendChild","setAttribute","style","position","left","IS_IOS","setSelectionRange","length","select","execCommand","removeChild"],"mappings":"AAAA,SAASA,WAAT,QAA4B,oBAA5B;AAEA,eAAe,SAASC,eAAT,CACbC,IADa,EAEbC,QAFa,EAGb;AACA,MAAMC,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAX;AACAF,EAAAA,EAAE,CAACG,KAAH,GAAWL,IAAX;AACAG,EAAAA,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,EAA1B;AACAA,EAAAA,EAAE,CAACM,YAAH,CAAgB,UAAhB,EAA4B,EAA5B;AACAN,EAAAA,EAAE,CAACO,KAAH,CAASC,QAAT,GAAoB,UAApB;AACAR,EAAAA,EAAE,CAACO,KAAH,CAASE,IAAT,GAAgB,SAAhB;;AACA,MAAIb,WAAW,CAACc,MAAhB,EAAwB;AACtBV,IAAAA,EAAE,CAACW,iBAAH,CAAqB,CAArB,EAAwBb,IAAI,CAACc,MAA7B;AACD,GAFD,MAEO;AACLZ,IAAAA,EAAE,CAACa,MAAH;AACD;;AACDZ,EAAAA,QAAQ,CAACa,WAAT,CAAqB,MAArB;AACAb,EAAAA,QAAQ,CAACG,IAAT,CAAcW,WAAd,CAA0Bf,EAA1B;;AACA,MAAI,OAAOD,QAAP,KAAoB,UAAxB,EAAoC;AAClCA,IAAAA,QAAQ,CAACD,IAAD,CAAR;AACD;AACF","sourcesContent":["import { environment } from '@ali/4ever-cangjie';\n\nexport default function copyToClipboard(\n  text: string,\n  onCopied?: (text: string) => void,\n) {\n  const el = document.createElement('textarea');\n  el.value = text;\n  document.body.appendChild(el);\n  el.setAttribute('readonly', '');\n  el.style.position = 'absolute';\n  el.style.left = '-9999px';\n  if (environment.IS_IOS) {\n    el.setSelectionRange(0, text.length);\n  } else {\n    el.select();\n  }\n  document.execCommand('copy');\n  document.body.removeChild(el);\n  if (typeof onCopied === 'function') {\n    onCopied(text);\n  }\n}\n"],"file":"copyToClipboard.js"}