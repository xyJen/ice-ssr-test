import { Document } from '@ali/4ever-cangjie';
import { get } from 'lodash-es';
import { isTable, isTableRow, isTableCell } from "./nodeTypes";
/**
 * 检测 fragment 是否仅包含一个 tableCell
 * @param fragment
 */

export function isSingleTableCell(fragment) {
  var table = fragment.nodes[0];
  var tableRow = get(table, ['nodes', 0]);
  var tableCell = get(tableRow, ['nodes', 0]);
  return fragment.nodes.length === 1 && isTable(table) && table.nodes.length === 1 && isTableRow(tableRow) && tableRow.nodes.length === 1 && isTableCell(tableCell);
}
/**
 * 从 fragment 中把 single tableCell 解构出来
 * @param fragment
 */

export function unwrapSingleTableCell(fragment) {
  var table = fragment.nodes[0];
  var tableRow = get(table, ['nodes', 0]);
  var tableCell = get(tableRow, ['nodes', 0]);

  if (isTableCell(tableCell)) {
    return Document.create({
      nodes: tableCell.nodes
    });
  }

  return fragment;
}
//# sourceMappingURL=singleTableCell.js.map