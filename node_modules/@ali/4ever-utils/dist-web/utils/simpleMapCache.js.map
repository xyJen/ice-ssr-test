{"version":3,"sources":["../../../src/utils/simpleMapCache.ts"],"names":["SimpleMapCache","max","cache","Map","get","key","add","value","has","size","keys","next","set"],"mappings":"IAAMA,c;AAGJ,0BAAYC,GAAZ,EAA0B;AAAA,SAFlBA,GAEkB;AAAA,SADlBC,KACkB,GADM,IAAIC,GAAJ,EACN;AACxB,SAAKF,GAAL,GAAWA,GAAG,IAAI,GAAlB;AACD;;;;SACDG,G,GAAA,aAAIC,GAAJ,EAAiB;AACf,WAAO,KAAKH,KAAL,CAAWE,GAAX,CAAeC,GAAf,CAAP;AACD,G;;SACDC,G,GAAA,aAAID,GAAJ,EAAiBE,KAAjB,EAA2B;AACzB,QAAG,KAAKL,KAAL,CAAWM,GAAX,CAAeH,GAAf,CAAH,EAAwB;AACtB;AACA,WAAKH,KAAL,WAAkBG,GAAlB;AACD;;AAAA;;AAED,QAAG,KAAKH,KAAL,CAAWO,IAAX,GAAkB,KAAKR,GAA1B,EAA+B;AAC7B;AACA,WAAKC,KAAL,WAAkB,KAAKA,KAAL,CAAWQ,IAAX,GAAkBC,IAAlB,GAAyBJ,KAA3C;AACD;;AAED,SAAKL,KAAL,CAAWU,GAAX,CAAeP,GAAf,EAAoBE,KAApB;AACD,G;;;;;AAGH,eAAeP,cAAf","sourcesContent":["class SimpleMapCache<T> {\n  private max: number;\n  private cache: Map<string, T> = new Map();\n  constructor(max?: number) {\n    this.max = max || 200;\n  }\n  get(key: string) {\n    return this.cache.get(key);\n  }\n  add(key: string, value: T) {\n    if(this.cache.has(key)) {\n      // 更新\n      this.cache.delete(key);\n    };\n\n    if(this.cache.size > this.max) {\n      // 强制删除第一个\n      this.cache.delete(this.cache.keys().next().value);\n    }\n\n    this.cache.set(key, value);\n  }\n}\n\nexport default SimpleMapCache;"],"file":"simpleMapCache.js"}