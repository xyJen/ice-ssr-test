{"version":3,"sources":["../../src/fuzzyQuery.ts"],"names":["specialChars","getFuzzyQuery","text","RegExp","Array","from","map","c","indexOf","toLowerCase","join","fuzzySearch","items","query","options","fuzzy","filter"],"mappings":";;AAEA,IAAMA,YAAY,GAAG,yBAArB;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD;AAAA,SAAkB,IAAIC,MAAJ,CAC7CC,KAAK,CAACC,IAAN,CAAWH,IAAX,EAAiBI,GAAjB,CAAqB,UAACC,CAAD;AAAA,WAAOP,YAAY,CAACQ,OAAb,CAAqBD,CAArB,MAA4B,CAAC,CAA7B,UAAsCA,CAAtC,GAA4CA,CAAC,CAACE,WAAF,EAAnD;AAAA,GAArB,EAAyFC,IAAzF,CAA8F,OAA9F,CAD6C,CAAlB;AAAA,CAAtB;AAIP,gBAAsBC,WAAtB;AAAA;AAAA;;;0EAAO,iBAAwDC,KAAxD,EAAoEC,KAApE,EAAmFC,OAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACe,OAAO,iBAAP,CADf;;AAAA;AACCC,YAAAA,KADD;AAAA,6CAEEA,KAAK,CAACC,MAAN,CAAaJ,KAAb,EAAoBC,KAApB,EAA2BC,OAA3B,CAFF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import type { IFilterOptions } from 'fuzzaldrin-plus';\n\nconst specialChars = '\\\\/[]{}()+-*?|,^$.<>:&`';\n\n/**\n * 获取模糊搜索的正则表达式\n * @param text 模糊匹配的目标对象字符串\n * @returns 用于模糊匹配 text 的正则\n */\nexport const getFuzzyQuery = (text: string) => new RegExp(\n  Array.from(text).map((c) => specialChars.indexOf(c) !== -1 ? `\\\\${c}` : c.toLowerCase()).join('(.*?)')\n);\n\nexport async function fuzzySearch<T extends (string | object)>(items: T[], query: string, options?: IFilterOptions) {\n  const fuzzy = await import('fuzzaldrin-plus');\n  return fuzzy.filter(items, query, options);\n}"],"file":"fuzzyQuery.js"}