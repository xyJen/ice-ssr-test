/* eslint-disable @typescript-eslint/ban-ts-comment */
import { Block, domUtils } from '@ali/4ever-cangjie';
import findBlockKeyFromEvent from "./utils/findBlockKeyFromEvent";

function findDocumentNode(document) {
  try {
    // eslint-disable-next-line react/no-find-dom-node
    var domNode = domUtils.findDOMNode(document.key);
    return domNode;
  } catch (error) {// ignore
  }

  return null;
}

export default function getBlock(event, document, options) {
  var _block;

  var _ref = options || {},
      zoomContainer = _ref.zoomContainer;

  var container = zoomContainer || findDocumentNode(document);
  var blockKey = findBlockKeyFromEvent(event, container, options);
  var block = document.getNode(blockKey);

  if ((_block = block) != null && _block.isElement() && block.type === 'line') {
    block = document.getParent(block.key);
  }

  var result = Block.isBlock(block) ? {
    block: block
  } : {};
  return result;
}
//# sourceMappingURL=getBlock.js.map