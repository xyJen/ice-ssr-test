{"version":3,"sources":["../../../../src/utils/createMarkFactory/createOnAction.ts"],"names":["capitalize","MARK_TOGGLE","createOnAction","markType","onAction","action","controller","next","type","payload","mark","command"],"mappings":"AACA,SAASA,UAAT,QAA2B,WAA3B;AACA,SAASC,WAAT;AAEA,eAAe,SAASC,cAAT,CAAwBC,QAAxB,EAAkC;AAC/C,SAAO,SAASC,QAAT,CAAkBC,MAAlB,EAA0BC,UAA1B,EAAkDC,IAAlD,EAAwD;AAAA,QACrDC,IADqD,GACnCH,MADmC,CACrDG,IADqD;AAAA,QAC/CC,OAD+C,GACnCJ,MADmC,CAC/CI,OAD+C;AAE7D,QAAID,IAAI,KAAKP,WAAT,IAAwB,CAAAQ,OAAO,QAAP,YAAAA,OAAO,CAAEC,IAAT,MAAkBP,QAA9C,EAAwD,OAAOI,IAAI,EAAX;AAFK,QAGrDG,IAHqD,GAG5CD,OAH4C,CAGrDC,IAHqD;AAI7DJ,IAAAA,UAAU,CAACK,OAAX,YAA4BX,UAAU,CAACU,IAAD,CAAtC,EAJ6D,CAK7D;;AACA,WAAOH,IAAI,EAAX;AACD,GAPD;AAQD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { capitalize } from 'lodash-es';\nimport { MARK_TOGGLE } from './actions';\n\nexport default function createOnAction(markType) {\n  return function onAction(action, controller: Controller, next) {\n    const { type, payload } = action;\n    if (type !== MARK_TOGGLE || payload?.mark !== markType) return next();\n    const { mark } = payload;\n    controller.command(`toggle${capitalize(mark)}`);\n    // 列表等插件还依赖此 action\n    return next();\n  };\n}\n"],"file":"createOnAction.js"}