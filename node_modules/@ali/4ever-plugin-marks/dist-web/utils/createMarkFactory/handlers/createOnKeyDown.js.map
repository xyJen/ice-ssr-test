{"version":3,"sources":["../../../../../src/utils/createMarkFactory/handlers/createOnKeyDown.ts"],"names":["isKeyHotkey","createToggleMark","createSpaceHandler","createOnKeyDown","mark","hotKey","delimiter","insideWhitespace","alwaysTrailSpace","isHotKey","onSpace","onKeyDown","event","editor","next"],"mappings":"AAAA,SAASA,WAAT,QAA4B,WAA5B;AACA,OAAOC,gBAAP;AACA,SAASC,kBAAT,QAA8C,kBAA9C;AAEA,eAAe,SAASC,eAAT,CAAyBC,IAAzB,EAA+BC,MAA/B,EAAuCC,SAAvC,EAA2EC,gBAA3E,EAAsGC,gBAAtG,EAAgI;AAAA,MAA1BA,gBAA0B;AAA1BA,IAAAA,gBAA0B,GAAP,KAAO;AAAA;;AAC7I,MAAMC,QAAQ,GAAGT,WAAW,CAACK,MAAD,CAA5B;AAEA,MAAIK,OAAJ;;AACA,MAAIJ,SAAJ,EAAe;AACbI,IAAAA,OAAO,GAAGR,kBAAkB,CAAC;AAAEE,MAAAA,IAAI,EAAJA,IAAF;AAAQE,MAAAA,SAAS,EAATA,SAAR;AAAmBC,MAAAA,gBAAgB,EAAhBA,gBAAnB;AAAqCC,MAAAA,gBAAgB,EAAhBA;AAArC,KAAD,CAA5B;AACD;;AAED,SAAO,SAASG,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkCC,IAAlC,EAAwC;AAC7C,QAAIL,QAAQ,CAACG,KAAD,CAAZ,EAAqB;AACnB,aAAOX,gBAAgB,CAACG,IAAD,CAAhB,CAAuBS,MAAvB,CAAP;AACD;;AACD,WAAOC,IAAI,EAAX;AACD,GALD;AAMD","sourcesContent":["import { isKeyHotkey } from 'is-hotkey';\nimport createToggleMark from '../commands/createToggleMark';\nimport { createSpaceHandler, Delimiter } from '@ali/4ever-utils';\n\nexport default function createOnKeyDown(mark, hotKey, delimiter: Delimiter | Delimiter[], insideWhitespace: boolean, alwaysTrailSpace = false) {\n  const isHotKey = isKeyHotkey(hotKey);\n\n  let onSpace;\n  if (delimiter) {\n    onSpace = createSpaceHandler({ mark, delimiter, insideWhitespace, alwaysTrailSpace });\n  }\n\n  return function onKeyDown(event, editor, next) {\n    if (isHotKey(event)) {\n      return createToggleMark(mark)(editor);\n    }\n    return next();\n  };\n}\n"],"file":"createOnKeyDown.js"}