import { Heading } from '@ali/4ever-plugin-heading';
import { Bold } from "../../../mo/models";

function emptyBoldMarkHandler(controller, text) {
  var _controller$value = controller.value,
      document = _controller$value.document,
      startBlock = _controller$value.startBlock;
  var block = text ? document.getClosestBlock(text.key) : startBlock;

  if (Heading.isHeading(block)) {
    return [Bold.create()];
  }

  return [];
}

export default function createIsQuery(type) {
  return function isMark(controller) {
    var _activeMark$data;

    var activeMark;

    if (type === Bold.TYPE) {
      activeMark = controller.query('getActiveMark', type, emptyBoldMarkHandler);
    } else {
      activeMark = controller.query('getActiveMark', type);
    }

    if (!activeMark) return false;
    return ((_activeMark$data = activeMark.data) == null ? void 0 : _activeMark$data.value) !== false;
  };
}
//# sourceMappingURL=createIsQuery.js.map