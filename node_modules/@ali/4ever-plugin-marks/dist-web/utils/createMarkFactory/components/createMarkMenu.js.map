{"version":3,"sources":["../../../../../src/utils/createMarkFactory/components/createMarkMenu.tsx"],"names":["React","capitalize","MenuItem","canToggleMark","toggleMark","createMarkMenu","type","MarkButton","props","menuItem","controller","title","rest","isDisabled","isActive","query","handleClick","run"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,UAAT,QAA2B,WAA3B;AACA,SACEC,QADF,QAEO,gBAFP;AAIA,OAAOC,aAAP;AACA,SAASC,UAAT;AAEA,eAAe,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AAC3C,SAAO,SAASC,UAAT,CAAoBC,KAApB,EAA+C;AAAA,QAC5CC,QAD4C,GACnBD,KADmB,CAC5CC,QAD4C;AAAA,QAClCC,UADkC,GACnBF,KADmB,CAClCE,UADkC;;AAAA,QAE5CC,KAF4C,GAEzBF,QAFyB,CAE5CE,KAF4C;AAAA,QAElCC,IAFkC,iCAEzBH,QAFyB;;AAGpD,QAAMI,UAAU,GAAG,CAACV,aAAa,CAACO,UAAD,CAAjC;AAEA,QAAMI,QAAQ,GAAGJ,UAAU,CAACK,KAAX,QAAsBd,UAAU,CAACK,IAAD,CAAhC,CAAjB;;AAEA,QAAMU,WAAW,GAAG,SAAdA,WAAc;AAAA,aAAMN,UAAU,CAACO,GAAX,CAAe,UAAf,EAA2Bb,UAAU,CAACE,IAAD,CAArC,CAAN;AAAA,KAApB;;AAEA,wBACE,eAAC,QAAD;AAAU,MAAA,OAAO,EAAEU,WAAnB;AAAgC,MAAA,QAAQ,EAAEF,QAA1C;AAAoD,MAAA,QAAQ,EAAED,UAA9D;AAA0E,MAAA,IAAI,EAAEP;AAAhF,OAA0FM,IAA1F,GACGD,KADH,CADF;AAKD,GAdD;AAeD","sourcesContent":["import * as React from 'react';\nimport { capitalize } from 'lodash-es';\nimport {\n  MenuItem,\n} from '@ali/we-design';\nimport { MenuItemInnerProps } from '@ali/4ever-component';\nimport canToggleMark from '../queries/canToggleMark';\nimport { toggleMark } from '../actions';\n\nexport default function createMarkMenu(type) {\n  return function MarkButton(props: MenuItemInnerProps) {\n    const { menuItem, controller } = props;\n    const { title, ...rest } = menuItem;\n    const isDisabled = !canToggleMark(controller);\n\n    const isActive = controller.query(`is${capitalize(type)}`);\n\n    const handleClick = () => controller.run('onAction', toggleMark(type));\n\n    return (\n      <MenuItem onClick={handleClick} selected={isActive} disabled={isDisabled} role={type} {...rest}>\n        {title}\n      </MenuItem>\n    );\n  };\n}\n"],"file":"createMarkMenu.js"}