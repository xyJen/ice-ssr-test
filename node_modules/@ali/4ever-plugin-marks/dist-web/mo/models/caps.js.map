{"version":3,"sources":["../../../../src/mo/models/caps.ts"],"names":["Mark","Caps","TYPE","create","capData","cap","value","type","data","isCaps","maybeCaps","isMark"],"mappings":"AAAA,SAASA,IAAT,QAAqB,oBAArB;AAQA,IAAMC,IAAI,GAAG;AACXC,EAAAA,IAAI,EAAE,MADK;AAGXC,EAAAA,MAHW,kBAGJC,OAHI,EAGgC;AACzC;AACA;AACA,QAAMC,GAAG,GAAGD,OAAO,GAAGA,OAAO,CAACE,KAAX,GAAmB,KAAtC;AACA,WAAON,IAAI,CAACG,MAAL,CAAY;AAAEI,MAAAA,IAAI,EAAEN,IAAI,CAACC,IAAb;AACjBM,MAAAA,IAAI,EAAE;AACJF,QAAAA,KAAK,EAAE,CAAC,CAACD;AADL;AADW,KAAZ,CAAP;AAID,GAXU;AAaXI,EAAAA,MAbW,kBAaJC,SAbI,EAamC;AAC5C,WAAOV,IAAI,CAACW,MAAL,CAAYD,SAAZ,KAA0BA,SAAS,CAACH,IAAV,KAAmBN,IAAI,CAACC,IAAzD;AACD;AAfU,CAAb;AAkBA,eAAeD,IAAf","sourcesContent":["import { Mark } from '@ali/4ever-cangjie';\n\ntype CapsMark = Mark;\n\nexport interface CapData {\n  value: boolean;\n}\n\nconst Caps = {\n  TYPE: 'caps',\n\n  create(capData?: CapData | null): CapsMark {\n    // 这里capData可能传入null是因为在线编辑场景下服务端转换的数据可能为null\n    // 所以这里需要兼容一下这种情况\n    const cap = capData ? capData.value : false;\n    return Mark.create({ type: Caps.TYPE,\n      data: {\n        value: !!cap,\n      } });\n  },\n\n  isCaps(maybeCaps: any): maybeCaps is CapsMark {\n    return Mark.isMark(maybeCaps) && maybeCaps.type === Caps.TYPE;\n  },\n};\n\nexport default Caps;\n"],"file":"caps.js"}