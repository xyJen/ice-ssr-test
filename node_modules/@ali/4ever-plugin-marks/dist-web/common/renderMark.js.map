{"version":3,"sources":["../../../src/common/renderMark.tsx"],"names":["React","MarksComponent","isBuiltInMark","renderMark","props","_","next","node","offset","mark","marks","builtInMarks","filter","length","key"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,cAAT;AACA,OAAOC,aAAP;AAEA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,CAA3B,EAA8BC,IAA9B,EAAoC;AAAA,MACzCC,IADyC,GACXH,KADW,CACzCG,IADyC;AAAA,MACnCC,MADmC,GACXJ,KADW,CACnCI,MADmC;AAAA,MAC3BC,IAD2B,GACXL,KADW,CAC3BK,IAD2B;AAAA,MACrBC,KADqB,GACXN,KADW,CACrBM,KADqB;;AAEjD,MAAIA,KAAK,CAAC,CAAD,CAAL,KAAaD,IAAjB,EAAuB;AACrB;AACA;AACA,QAAME,YAAY,GAAGD,KAAK,CAACE,MAAN,CAAaV,aAAb,CAArB;;AACA,QAAIS,YAAY,CAACE,MAAjB,EAAyB;AACvB,0BAAO,eAAC,cAAD,eAAoBT,KAApB;AAA2B,QAAA,GAAG,EAAKG,IAAI,CAACO,GAAV,SAAiBN;AAA/C,SAAP;AACD;AACF;;AACD,SAAOF,IAAI,EAAX;AACD","sourcesContent":["import * as React from 'react';\nimport { MarksComponent } from '../components/marks';\nimport isBuiltInMark from '../utils/isBuiltInMark';\n\nexport default function renderMark(props, _, next) {\n  const { node, offset, mark, marks } = props;\n  if (marks[0] === mark) {\n    // buildInMarks 优先级更高\n    // 在第一次调用 renderMark hook 时就消费所有的 buildInMarks，后续不会再消费\n    const builtInMarks = marks.filter(isBuiltInMark);\n    if (builtInMarks.length) {\n      return <MarksComponent {...props} key={`${node.key}:${offset}`} />;\n    }\n  }\n  return next();\n}\n"],"file":"renderMark.js"}