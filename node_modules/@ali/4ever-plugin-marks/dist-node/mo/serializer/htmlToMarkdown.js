"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
const mdMarks = [{
  name: 'fontWeight',
  value: 'bold',
  mark: '**'
}, {
  name: 'fontStyle',
  value: 'italic',
  mark: '_'
}, {
  name: 'textDecorationLine',
  value: 'underline',
  mark: '++'
}, {
  name: 'textDecorationLine',
  value: 'line-through',
  mark: '~~'
}, {
  name: 'verticalAlign',
  value: 'super',
  mark: '^'
}, {
  name: 'verticalAlign',
  value: 'sub',
  mark: '~'
}, {
  name: 'backgroundColor',
  value: 'rgb(255, 192, 0)',
  mark: '=='
}];

const convert = (content, mark) => {
  return mark + content + mark;
};

const isHeading = node => {
  const tagName = node?.tagName || '';
  return /^H\d$/.test(tagName);
};

var _default = {
  name: 'marks',
  filter: node => {
    return node.tagName === 'SPAN' && node.getAttribute('data-type') === 'text';
  },
  replacement: (content = '', node) => {
    if (!node) return content;
    let mdContent = content;
    mdMarks.forEach(({
      name,
      value,
      mark
    }) => {
      if (!isHeading(node.parentElement) && node.style[name].includes(value)) {
        mdContent = convert(mdContent, mark);
      }
    });
    return mdContent;
  }
};
exports.default = _default;
//# sourceMappingURL=htmlToMarkdown.js.map