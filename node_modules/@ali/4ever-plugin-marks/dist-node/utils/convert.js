"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.attrsToMarks = attrsToMarks;
exports.markToAttr = markToAttr;
exports.marksToAttrs = marksToAttrs;

var _jsonMLAttrsToMarks = require("./jsonMLAttrsToMarks");

var _markToJsonMLAttrs = require("./markToJsonMLAttrs");

function attrsToMarks(attrs) {
  const {
    bold,
    caps,
    color,
    fonts,
    highlight,
    shd,
    italic,
    smallCaps,
    strike,
    dstrike,
    sz,
    szUnit,
    underline,
    vertAlign,
    inlineCode,
    spacing,
    kern,
    em,
    ...rest
  } = attrs;
  const {
    marks = []
  } = (0, _jsonMLAttrsToMarks.jsonMLAttrsToMarks)(attrs) || {};
  delete rest['data-type'];
  Object.keys(rest).forEach(key => {
    const data = rest[key];
    let markData;
    const isObj = typeof data === 'object' && !!data && !Array.isArray(data);

    if (!isObj) {
      // not a object
      markData = {
        value: data
      };
    } else {
      markData = data;
    }

    marks.push({
      type: key,
      data: markData
    });
  });
  return marks;
}

function markToAttr(mark) {
  const m = (0, _markToJsonMLAttrs.markToJsonMLAttrs)(mark);

  if (m) {
    return m;
  }

  return {
    [mark.type]: mark.data
  };
}

function marksToAttrs(marks) {
  return marks.reduce((attrs, mark) => Object.assign(attrs, markToAttr(mark)), {});
}
//# sourceMappingURL=convert.js.map