{"version":3,"sources":["../../../../../src/utils/createMarkFactory/handlers/createOnKeyDown.ts"],"names":["createOnKeyDown","mark","hotKey","delimiter","insideWhitespace","alwaysTrailSpace","isHotKey","onSpace","onKeyDown","event","editor","next"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEe,SAASA,eAAT,CAAyBC,IAAzB,EAA+BC,MAA/B,EAAuCC,SAAvC,EAA2EC,gBAA3E,EAAsGC,gBAAgB,GAAG,KAAzH,EAAgI;AAC7I,QAAMC,QAAQ,GAAG,2BAAYJ,MAAZ,CAAjB;AAEA,MAAIK,OAAJ;;AACA,MAAIJ,SAAJ,EAAe;AACbI,IAAAA,OAAO,GAAG,mCAAmB;AAAEN,MAAAA,IAAF;AAAQE,MAAAA,SAAR;AAAmBC,MAAAA,gBAAnB;AAAqCC,MAAAA;AAArC,KAAnB,CAAV;AACD;;AAED,SAAO,SAASG,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkCC,IAAlC,EAAwC;AAC7C,QAAIL,QAAQ,CAACG,KAAD,CAAZ,EAAqB;AACnB,aAAO,+BAAiBR,IAAjB,EAAuBS,MAAvB,CAAP;AACD;;AACD,WAAOC,IAAI,EAAX;AACD,GALD;AAMD","sourcesContent":["import { isKeyHotkey } from 'is-hotkey';\nimport createToggleMark from '../commands/createToggleMark';\nimport { createSpaceHandler, Delimiter } from '@ali/4ever-utils';\n\nexport default function createOnKeyDown(mark, hotKey, delimiter: Delimiter | Delimiter[], insideWhitespace: boolean, alwaysTrailSpace = false) {\n  const isHotKey = isKeyHotkey(hotKey);\n\n  let onSpace;\n  if (delimiter) {\n    onSpace = createSpaceHandler({ mark, delimiter, insideWhitespace, alwaysTrailSpace });\n  }\n\n  return function onKeyDown(event, editor, next) {\n    if (isHotKey(event)) {\n      return createToggleMark(mark)(editor);\n    }\n    return next();\n  };\n}\n"],"file":"createOnKeyDown.js"}