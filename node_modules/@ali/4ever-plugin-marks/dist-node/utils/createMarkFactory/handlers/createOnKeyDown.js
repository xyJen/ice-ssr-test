"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createOnKeyDown;

var _isHotkey = require("is-hotkey");

var _createToggleMark = _interopRequireDefault(require("../commands/createToggleMark"));

var _everUtils = require("@ali/4ever-utils");

function createOnKeyDown(mark, hotKey, delimiter, insideWhitespace, alwaysTrailSpace = false) {
  const isHotKey = (0, _isHotkey.isKeyHotkey)(hotKey);
  let onSpace;

  if (delimiter) {
    onSpace = (0, _everUtils.createSpaceHandler)({
      mark,
      delimiter,
      insideWhitespace,
      alwaysTrailSpace
    });
  }

  return function onKeyDown(event, editor, next) {
    if (isHotKey(event)) {
      return (0, _createToggleMark.default)(mark)(editor);
    }

    return next();
  };
}
//# sourceMappingURL=createOnKeyDown.js.map