{"version":3,"sources":["../../../../../src/utils/createMarkFactory/components/createMarkMenu.tsx"],"names":["createMarkMenu","type","MarkButton","props","menuItem","controller","title","rest","isDisabled","isActive","query","handleClick","run"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAIA;;AACA;;uBAN4B,a;;AAQb,SAASA,cAAT,CAAwBC,IAAxB,EAA8B;AAC3C,SAAO,SAASC,UAAT,CAAoBC,KAApB,EAA+C;AACpD,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAA2BF,KAAjC;AACA,UAAM;AAAEG,MAAAA,KAAF;AAAS,SAAGC;AAAZ,QAAqBH,QAA3B;AACA,UAAMI,UAAU,GAAG,CAAC,4BAAcH,UAAd,CAApB;AAEA,UAAMI,QAAQ,GAAGJ,UAAU,CAACK,KAAX,CAAkB,KAAI,wBAAWT,IAAX,CAAiB,EAAvC,CAAjB;;AAEA,UAAMU,WAAW,GAAG,MAAMN,UAAU,CAACO,GAAX,CAAe,UAAf,EAA2B,yBAAWX,IAAX,CAA3B,CAA1B;;AAEA,wBACE,eAAC,kBAAD;AAAU,MAAA,OAAO,EAAEU,WAAnB;AAAgC,MAAA,QAAQ,EAAEF,QAA1C;AAAoD,MAAA,QAAQ,EAAED,UAA9D;AAA0E,MAAA,IAAI,EAAEP;AAAhF,OAA0FM,IAA1F,GACGD,KADH,CADF;AAKD,GAdD;AAeD","sourcesContent":["import * as React from 'react';\nimport { capitalize } from 'lodash-es';\nimport {\n  MenuItem,\n} from '@ali/we-design';\nimport { MenuItemInnerProps } from '@ali/4ever-component';\nimport canToggleMark from '../queries/canToggleMark';\nimport { toggleMark } from '../actions';\n\nexport default function createMarkMenu(type) {\n  return function MarkButton(props: MenuItemInnerProps) {\n    const { menuItem, controller } = props;\n    const { title, ...rest } = menuItem;\n    const isDisabled = !canToggleMark(controller);\n\n    const isActive = controller.query(`is${capitalize(type)}`);\n\n    const handleClick = () => controller.run('onAction', toggleMark(type));\n\n    return (\n      <MenuItem onClick={handleClick} selected={isActive} disabled={isDisabled} role={type} {...rest}>\n        {title}\n      </MenuItem>\n    );\n  };\n}\n"],"file":"createMarkMenu.js"}