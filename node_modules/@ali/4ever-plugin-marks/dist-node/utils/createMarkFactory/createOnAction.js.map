{"version":3,"sources":["../../../../src/utils/createMarkFactory/createOnAction.ts"],"names":["createOnAction","markType","onAction","action","controller","next","type","payload","MARK_TOGGLE","mark","command"],"mappings":";;;;;;;AACA;;AACA;;AAEe,SAASA,cAAT,CAAwBC,QAAxB,EAAkC;AAC/C,SAAO,SAASC,QAAT,CAAkBC,MAAlB,EAA0BC,UAA1B,EAAkDC,IAAlD,EAAwD;AAC7D,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAoBJ,MAA1B;AACA,QAAIG,IAAI,KAAKE,oBAAT,IAAwBD,OAAO,EAAEE,IAAT,KAAkBR,QAA9C,EAAwD,OAAOI,IAAI,EAAX;AACxD,UAAM;AAAEI,MAAAA;AAAF,QAAWF,OAAjB;AACAH,IAAAA,UAAU,CAACM,OAAX,CAAoB,SAAQ,wBAAWD,IAAX,CAAiB,EAA7C,EAJ6D,CAK7D;;AACA,WAAOJ,IAAI,EAAX;AACD,GAPD;AAQD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { capitalize } from 'lodash-es';\nimport { MARK_TOGGLE } from './actions';\n\nexport default function createOnAction(markType) {\n  return function onAction(action, controller: Controller, next) {\n    const { type, payload } = action;\n    if (type !== MARK_TOGGLE || payload?.mark !== markType) return next();\n    const { mark } = payload;\n    controller.command(`toggle${capitalize(mark)}`);\n    // 列表等插件还依赖此 action\n    return next();\n  };\n}\n"],"file":"createOnAction.js"}