"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = renderMark;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var React = _interopRequireWildcard(require("react"));

var _marks = require("../components/marks");

var _isBuiltInMark = _interopRequireDefault(require("../utils/isBuiltInMark"));

const _createElement = /*#__PURE__*/React.createElement;

function renderMark(props, _, next) {
  const {
    node,
    offset,
    mark,
    marks
  } = props;

  if (marks[0] === mark) {
    // buildInMarks 优先级更高
    // 在第一次调用 renderMark hook 时就消费所有的 buildInMarks，后续不会再消费
    const builtInMarks = marks.filter(_isBuiltInMark.default);

    if (builtInMarks.length) {
      return /*#__PURE__*/_createElement(_marks.MarksComponent, (0, _extends2.default)({}, props, {
        key: `${node.key}:${offset}`
      }));
    }
  }

  return next();
}
//# sourceMappingURL=renderMark.js.map