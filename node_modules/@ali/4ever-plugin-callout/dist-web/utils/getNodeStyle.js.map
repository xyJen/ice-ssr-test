{"version":3,"sources":["../../../src/utils/getNodeStyle.ts"],"names":["Paragraph","SpacingUtil","ShdUtil","defaultCompactSpacing","getNodeStyle","props","controller","next","node","docStyle","isParagraph","query","style","docDefaults","data","pPr","toStyle","spacing","undefined","lineHeight","rest"],"mappings":";;AACA,SAASA,SAAT,QAA0B,6BAA1B;AACA,SAASC,WAAT,EAAsBC,OAAtB,EAA+BC,qBAA/B,QAA4D,kBAA5D;AAEA,eAAe,SAASC,YAAT,CACbC,KADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AAAA;;AAAA,MACQC,IADR,GAC2BH,KAD3B,CACQG,IADR;AAAA,MACcC,QADd,GAC2BJ,KAD3B,CACcI,QADd,EAEA;;AACA,MAAI,CAACT,SAAS,CAACU,WAAV,CAAsBF,IAAtB,CAAD,IAAgC,CAACF,UAAU,CAACK,KAAX,CAAiB,qBAAjB,EAAwCH,IAAxC,CAArC,EAAoF,OAAOD,IAAI,EAAX;AAEpF,MAAIK,KAA0B,GAAG,EAAjC;;AALA,aAMgB,CAAAH,QAAQ,QAAR,qCAAAA,QAAQ,CAAEI,WAAV,2CAAuBC,IAAvB,KAA+B,EAN/C;AAAA,MAMQC,GANR,QAMQA,GANR,EAQA;;;AACAH,EAAAA,KAAK,gBACAV,OAAO,CAACc,OAAR,CAAgBR,IAAhB,CADA,EAEAP,WAAW,CAACe,OAAZ,CAAoBR,IAApB,EAA0BO,GAAG,QAAH,IAAAA,GAAG,CAAEE,OAAL,GAAed,qBAAf,GAAuCe,SAAjE,CAFA,CAAL;;AATA,eAcgCN,KAdhC;AAAA,MAcQO,UAdR,UAcQA,UAdR;AAAA,MAcuBC,IAdvB;;AAeA,SAAOA,IAAP;AACD","sourcesContent":["import { RenderNodeStyleProps, Controller } from '@ali/4ever-cangjie';\nimport { Paragraph } from '@ali/4ever-plugin-paragraph';\nimport { SpacingUtil, ShdUtil, defaultCompactSpacing } from '@ali/4ever-utils';\n\nexport default function getNodeStyle(\n  props: RenderNodeStyleProps,\n  controller: Controller,\n  next: Function,\n) {\n  const { node, docStyle } = props;\n  // 仅针对高亮内的普通段落做处理\n  if (!Paragraph.isParagraph(node) || !controller.query('isNodeInColorBlocks', node)) return next();\n\n  let style: React.CSSProperties = {};\n  const { pPr } = docStyle?.docDefaults?.data || {};\n\n  // 段间距\n  style = {\n    ...ShdUtil.toStyle(node),\n    ...SpacingUtil.toStyle(node, pPr?.spacing ? defaultCompactSpacing : undefined),\n  };\n\n  const { lineHeight, ...rest } = style;\n  return rest;\n}\n"],"file":"getNodeStyle.js"}