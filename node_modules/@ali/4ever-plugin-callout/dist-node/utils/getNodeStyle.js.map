{"version":3,"sources":["../../../src/utils/getNodeStyle.ts"],"names":["getNodeStyle","props","controller","next","node","docStyle","Paragraph","isParagraph","query","style","pPr","docDefaults","data","ShdUtil","toStyle","SpacingUtil","spacing","defaultCompactSpacing","undefined","lineHeight","rest"],"mappings":";;;;;;;AACA;;AACA;;AAEe,SAASA,YAAT,CACbC,KADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAqBJ,KAA3B,CADA,CAEA;;AACA,MAAI,CAACK,+BAAUC,WAAV,CAAsBH,IAAtB,CAAD,IAAgC,CAACF,UAAU,CAACM,KAAX,CAAiB,qBAAjB,EAAwCJ,IAAxC,CAArC,EAAoF,OAAOD,IAAI,EAAX;AAEpF,MAAIM,KAA0B,GAAG,EAAjC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAUL,QAAQ,EAAEM,WAAV,EAAuBC,IAAvB,IAA+B,EAA/C,CANA,CAQA;;AACAH,EAAAA,KAAK,GAAG,EACN,GAAGI,mBAAQC,OAAR,CAAgBV,IAAhB,CADG;AAEN,OAAGW,uBAAYD,OAAZ,CAAoBV,IAApB,EAA0BM,GAAG,EAAEM,OAAL,GAAeC,gCAAf,GAAuCC,SAAjE;AAFG,GAAR;AAKA,QAAM;AAAEC,IAAAA,UAAF;AAAc,OAAGC;AAAjB,MAA0BX,KAAhC;AACA,SAAOW,IAAP;AACD","sourcesContent":["import { RenderNodeStyleProps, Controller } from '@ali/4ever-cangjie';\nimport { Paragraph } from '@ali/4ever-plugin-paragraph';\nimport { SpacingUtil, ShdUtil, defaultCompactSpacing } from '@ali/4ever-utils';\n\nexport default function getNodeStyle(\n  props: RenderNodeStyleProps,\n  controller: Controller,\n  next: Function,\n) {\n  const { node, docStyle } = props;\n  // 仅针对高亮内的普通段落做处理\n  if (!Paragraph.isParagraph(node) || !controller.query('isNodeInColorBlocks', node)) return next();\n\n  let style: React.CSSProperties = {};\n  const { pPr } = docStyle?.docDefaults?.data || {};\n\n  // 段间距\n  style = {\n    ...ShdUtil.toStyle(node),\n    ...SpacingUtil.toStyle(node, pPr?.spacing ? defaultCompactSpacing : undefined),\n  };\n\n  const { lineHeight, ...rest } = style;\n  return rest;\n}\n"],"file":"getNodeStyle.js"}