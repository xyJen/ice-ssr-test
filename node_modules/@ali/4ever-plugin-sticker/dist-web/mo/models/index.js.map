{"version":3,"sources":["../../../../src/mo/models/index.ts"],"names":["Inline","ELEMENT_TYPE","Sticker","create","properties","Error","isSticker","type","TYPE","maybeSticker","isInline"],"mappings":";;AAAA,SAASA,MAAT,QAA+C,oBAA/C;AACA,SAASC,YAAT;;IAaqBC,O;;;;;;;AACnB;UAGOC,M,GAAP,gBAAcC,UAAd,EAAgE;AAC9D,QAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;AAClC,YAAM,IAAIC,KAAJ,CAAU,yCAAV,CAAN;AACD;;AACD,QAAIH,OAAO,CAACI,SAAR,CAAkBF,UAAlB,CAAJ,EAAmC;AACjC,aAAOA,UAAP;AACD;;AACD,mBAAaD,MAAb,yBACKC,UADL;AAEEG,MAAAA,IAAI,EAAEL,OAAO,CAACM;AAFhB;AAID,G;;UAEMF,S,GAAP,mBAAiBG,YAAjB,EAA6D;AAC3D,WAAOT,MAAM,CAACU,QAAP,CAAgBD,YAAhB,KAAiCA,YAAY,CAACF,IAAb,KAAsBL,OAAO,CAACM,IAAtE;AACD,G;;;EAnBkCR,M;;AAAhBE,O,CAEZM,I,GAAOP,Y;SAFKC,O","sourcesContent":["import { Inline, InlineProperties, Data } from '@ali/4ever-cangjie';\nimport { ELEMENT_TYPE } from '../../utils/meta';\n\nexport interface StickerData extends Data {\n  readonly code?: string;\n  readonly width?: number;\n  readonly height?: number;\n}\n\nexport interface StickerProperties {\n  data?: StickerData;\n  nodes?: InlineProperties['nodes'];\n}\n\nexport default class Sticker extends Inline {\n  // 使用 emoji 而非 sticker ，是为兼容富文本输入框、评论等业务\n  static TYPE = ELEMENT_TYPE;\n\n  static create(properties: Sticker | StickerProperties | string) {\n    if (typeof properties === 'string') {\n      throw new Error('`Sticker.create` does not accept string');\n    }\n    if (Sticker.isSticker(properties)) {\n      return properties;\n    }\n    return super.create({\n      ...properties,\n      type: Sticker.TYPE,\n    }) as Sticker;\n  }\n\n  static isSticker(maybeSticker: any): maybeSticker is Sticker {\n    return Inline.isInline(maybeSticker) && maybeSticker.type === Sticker.TYPE;\n  }\n}\n"],"file":"index.js"}