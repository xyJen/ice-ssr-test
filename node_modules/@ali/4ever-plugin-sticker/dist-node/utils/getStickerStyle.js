"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getStickerStyle;

function getStickerStyle(node) {
  const {
    data: nodeData
  } = node; // 支持排版里的节点不支持 getFirstText 方法

  const text = node.nodes[0];
  const textMarks = text.leaves.reduce((marks, leaf) => {
    if (leaf.marks.length) {
      Array.prototype.push.apply(marks, leaf.marks);
    }

    return marks;
  }, []);
  let {
    sz,
    highlight
  } = nodeData;

  if (textMarks.length !== 0) {
    textMarks.forEach(({
      type,
      data
    }) => {
      // bamboo 与 mo 存在互相引用，需要治理后才能使用 mo 中的 type
      if (type === 'sz') {
        sz = data.value;
      } else if (type === 'highlight') {
        highlight = data.value;
      }
    });
  } else {
    highlight = null;
  }

  return {
    sz,
    highlight
  };
}
//# sourceMappingURL=getStickerStyle.js.map