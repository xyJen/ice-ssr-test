{"version":3,"sources":["../../../../src/utils/queries/lazyRenderStrategy.ts"],"names":["ViewMark","lazyRenderStrategy","controller","node","isElement","undefined","decorations","value","hasCommentMark","some","d","isViewMark","mark","hasNode","start","key"],"mappings":"AACA,SAASA,QAAT;AAEA,eAAe,SAASC,kBAAT,CAA4BC,UAA5B,EAAoDC,IAApD,EAAgE;AAC7E,MAAI,CAACA,IAAI,CAACC,SAAL,EAAL,EAAuB;AACrB,WAAOC,SAAP;AACD;;AAH4E,MAIrEC,WAJqE,GAIrDJ,UAAU,CAACK,KAJ0C,CAIrED,WAJqE;AAK7E,MAAME,cAAc,GAAGF,WAAW,CAACG,IAAZ,CACrB,UAACC,CAAD;AAAA,WAAOV,QAAQ,CAACW,UAAT,CAAoBD,CAAC,CAACE,IAAtB,KAA+BT,IAAI,CAACU,OAAL,CAAaH,CAAC,CAACI,KAAF,CAAQC,GAArB,CAAtC;AAAA,GADqB,CAAvB;AAGA,SAAOP,cAAc,GAAG,EAAH,GAAQH,SAA7B;AACD","sourcesContent":["import { Node, Controller } from '@ali/4ever-cangjie';\nimport { ViewMark } from '../models/marks';\n\nexport default function lazyRenderStrategy(controller: Controller, node: Node) {\n  if (!node.isElement()) {\n    return undefined;\n  }\n  const { decorations } = controller.value;\n  const hasCommentMark = decorations.some(\n    (d) => ViewMark.isViewMark(d.mark) && node.hasNode(d.start.key),\n  );\n  return hasCommentMark ? {} : undefined;\n}\n"],"file":"lazyRenderStrategy.js"}