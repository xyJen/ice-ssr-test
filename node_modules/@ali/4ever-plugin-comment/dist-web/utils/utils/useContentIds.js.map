{"version":3,"sources":["../../../../src/utils/utils/useContentIds.ts"],"names":["React","ViewMark","useContentIds","controller","isLoaded","callback","decorations","value","useEffect","ids","map","d","isViewMark","mark","data","contentId","undefined","filter","Boolean"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,QAAT;AAEA,eAAe,SAASC,aAAT,CACbC,UADa,EAEbC,QAFa,EAGbC,QAHa,EAIb;AAAA,MACQC,WADR,GACwBH,UAAU,CAACI,KADnC,CACQD,WADR;AAEAN,EAAAA,KAAK,CAACQ,SAAN,CAAgB,YAAM;AACpB,QAAI,CAACH,QAAL,EAAe;AACb;AACD;;AACD,QAAMI,GAAG,GAAGH,WAAW,CACpBI,GADS,CACL,UAACC,CAAD;AAAA,aACHV,QAAQ,CAACW,UAAT,CAAoBD,CAAC,CAACE,IAAtB,IAA8BF,CAAC,CAACE,IAAF,CAAOC,IAAP,CAAYC,SAA1C,GAAsDC,SADnD;AAAA,KADK,EAITC,MAJS,CAIFC,OAJE,CAAZ;AAKAb,IAAAA,QAAQ,CAACI,GAAD,EAAML,QAAN,CAAR;AACD,GAVD,EAUG,CAACE,WAAD,EAAcF,QAAd,CAVH;AAWD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { ViewMark } from '../models/marks';\n\nexport default function useContentIds(\n  controller: Controller,\n  isLoaded: boolean,\n  callback?: (ids: string[], isLoaded: boolean) => void,\n) {\n  const { decorations } = controller.value;\n  React.useEffect(() => {\n    if (!callback) {\n      return;\n    }\n    const ids = decorations\n      .map((d) =>\n        ViewMark.isViewMark(d.mark) ? d.mark.data.contentId : undefined,\n      )\n      .filter(Boolean) as string[];\n    callback(ids, isLoaded);\n  }, [decorations, isLoaded]);\n}\n"],"file":"useContentIds.js"}