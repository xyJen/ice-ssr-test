{"version":3,"sources":["../../../../../src/utils/components/simplePopup/commentList.tsx"],"names":["React","nameStyle","fontWeight","fontSize","lineHeight","color","marginBottom","valueStyle","dateStyle","opacity","CommentItem","item","author","content","date","contentId","marginTop","CommentList","props","getCommentList","useState","list","setList","loading","setLoading","error","setError","useEffect","Error","then","data","loaded","Boolean","length","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { BasicCommentItem } from '../../types';\n\nconst nameStyle: React.CSSProperties = {\n  fontWeight: 500,\n  fontSize: '14px',\n  lineHeight: '20px',\n  color: '#191F25',\n  marginBottom: '4px',\n};\nconst valueStyle: React.CSSProperties = {\n  ...nameStyle,\n  fontWeight: 'normal',\n};\n\nconst dateStyle: React.CSSProperties = {\n  fontSize: '12px',\n  lineHeight: '17px',\n  opacity: 0.4,\n};\n\ntype CommentItemProps = {\n  item: BasicCommentItem;\n};\n\ntype CommentListProps = {\n  contentId: string;\n  getCommentList?: (contentId: string) => Promise<BasicCommentItem[]>;\n};\n\nfunction CommentItem({ item }: CommentItemProps) {\n  const { author, content, date, contentId } = item;\n  return (\n    <div style={{ marginTop: '1px solid #ECECEC' }}>\n      <div style={nameStyle}>{author}</div>\n      <div data-testid=\"comment-item\" style={valueStyle}>{content}</div>\n      <div style={dateStyle}>{date}</div>\n    </div>\n  );\n}\n\nexport default function CommentList(props: CommentListProps) {\n  const { contentId, getCommentList } = props;\n\n  const [list, setList] = React.useState<BasicCommentItem[]>([]);\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(false);\n\n  React.useEffect(() => {\n    setLoading(true);\n    if (!getCommentList) {\n      throw Error('`Comment` plugin should specify getCommentList callback');\n    }\n    getCommentList(contentId)\n      .then((data) => {\n        setLoading(false);\n        setList(data);\n      })\n      .catch(() => {\n        setLoading(false);\n        setError(true);\n      });\n  }, [contentId, getCommentList]);\n\n  const loaded = !error && !loading;\n  return (\n    <div>\n      {loading && <div>Loading</div>}\n      {error && <div>Error</div>}\n      {Boolean(loaded && !list.length) && <div>Empty</div>}\n      {Boolean(loaded && list.length) &&\n        list.map((item) => <CommentItem item={item} />)}\n    </div>\n  );\n}\n"],"file":"commentList.js"}