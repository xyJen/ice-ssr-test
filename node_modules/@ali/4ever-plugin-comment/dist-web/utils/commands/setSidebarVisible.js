import _extends from "@babel/runtime/helpers/extends";
import { environment } from '@ali/4ever-cangjie';
import { cancelComment, setActiveId } from "../actions";
import { getActiveId } from "../queries";
export default function setSidebarVisible(controller, visible) {
  if (environment.IS_MOBILE && !environment.IS_IPAD) {
    return controller;
  }

  var activeId = getActiveId(controller);

  if (activeId && !visible) {
    controller.run('onAction', setActiveId(undefined));
  }

  !visible && controller.run('onAction', cancelComment());
  return controller.setData(_extends({}, controller.value.data, {
    _commentSideBarVisible: visible
  }));
}
//# sourceMappingURL=setSidebarVisible.js.map