{"version":3,"sources":["../../../../src/utils/hooks/onMouseMove.ts"],"names":["debounce","HoverBlock","hoverCapture","hoverBlockHandler","event","controller","result","getBlock","value","document","trigger","createOnMoseMove","configs","next","isDisabled","nativeEvent"],"mappings":"AAAA,SAASA,QAAT,QAAyB,WAAzB;AAEA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,YAAP;AAGA,IAAMC,iBAAiB,GAAGH,QAAQ,CAChC,UAACI,KAAD,EAAoBC,UAApB,EAA+C;AAC7C,MAAMC,MAAM,GAAGL,UAAU,CAACM,QAAX,CAAoBH,KAApB,EAA2BC,UAAU,CAACG,KAAX,CAAiBC,QAA5C,CAAf;AACAP,EAAAA,YAAY,CAACQ,OAAb,CAAqBJ,MAArB;AACD,CAJ+B,EAKhC,EALgC,CAAlC;AAQA,eAAe,SAASK,gBAAT,CACbC,OADa,EAEb;AACA,SAAO,UAAUR,KAAV,EAAmCC,UAAnC,EAA2DQ,IAA3D,EAAiE;AACtE,QAAID,OAAO,QAAP,IAAAA,OAAO,CAAEE,UAAT,IAAuBF,OAAO,CAACE,UAAR,EAA3B,EAAiD;AAC/C,aAAOD,IAAI,EAAX;AACD;;AACDV,IAAAA,iBAAiB,CAACC,KAAK,CAACW,WAAP,EAAoBV,UAApB,CAAjB;AACA,WAAOQ,IAAI,EAAX;AACD,GAND;AAOD","sourcesContent":["import { debounce } from 'lodash-es';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { HoverBlock } from '@ali/4ever-utils';\nimport hoverCapture from '../utils/hoverCapture';\nimport { CommentPluginConfigs } from '../types';\n\nconst hoverBlockHandler = debounce(\n  (event: MouseEvent, controller: Controller) => {\n    const result = HoverBlock.getBlock(event, controller.value.document);\n    hoverCapture.trigger(result);\n  },\n  50,\n);\n\nexport default function createOnMoseMove(\n  configs: CommentPluginConfigs | undefined,\n) {\n  return function (event: React.MouseEvent, controller: Controller, next) {\n    if (configs?.isDisabled && configs.isDisabled()) {\n      return next();\n    }\n    hoverBlockHandler(event.nativeEvent, controller);\n    return next();\n  };\n}\n"],"file":"onMouseMove.js"}