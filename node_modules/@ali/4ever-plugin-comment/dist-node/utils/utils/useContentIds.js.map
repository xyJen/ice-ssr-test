{"version":3,"sources":["../../../../src/utils/utils/useContentIds.ts"],"names":["useContentIds","controller","isLoaded","callback","decorations","value","React","useEffect","ids","map","d","ViewMark","isViewMark","mark","data","contentId","undefined","filter","Boolean"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEe,SAASA,aAAT,CACbC,UADa,EAEbC,QAFa,EAGbC,QAHa,EAIb;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAkBH,UAAU,CAACI,KAAnC;AACAC,EAAAA,KAAK,CAACC,SAAN,CAAgB,MAAM;AACpB,QAAI,CAACJ,QAAL,EAAe;AACb;AACD;;AACD,UAAMK,GAAG,GAAGJ,WAAW,CACpBK,GADS,CACJC,CAAD,IACHC,gBAASC,UAAT,CAAoBF,CAAC,CAACG,IAAtB,IAA8BH,CAAC,CAACG,IAAF,CAAOC,IAAP,CAAYC,SAA1C,GAAsDC,SAF9C,EAITC,MAJS,CAIFC,OAJE,CAAZ;AAKAf,IAAAA,QAAQ,CAACK,GAAD,EAAMN,QAAN,CAAR;AACD,GAVD,EAUG,CAACE,WAAD,EAAcF,QAAd,CAVH;AAWD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { ViewMark } from '../models/marks';\n\nexport default function useContentIds(\n  controller: Controller,\n  isLoaded: boolean,\n  callback?: (ids: string[], isLoaded: boolean) => void,\n) {\n  const { decorations } = controller.value;\n  React.useEffect(() => {\n    if (!callback) {\n      return;\n    }\n    const ids = decorations\n      .map((d) =>\n        ViewMark.isViewMark(d.mark) ? d.mark.data.contentId : undefined,\n      )\n      .filter(Boolean) as string[];\n    callback(ids, isLoaded);\n  }, [decorations, isLoaded]);\n}\n"],"file":"useContentIds.js"}