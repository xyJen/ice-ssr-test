"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = CommentView;

var _react = _interopRequireDefault(require("react"));

var _HoverEffect = _interopRequireDefault(require("./HoverEffect"));

var _blockHoverEvent = _interopRequireDefault(require("../utils/blockHoverEvent"));

const _createElement = /*#__PURE__*/_react.default.createElement;

function CommentView({
  block,
  children
}) {
  const [isAddHover, setIsAddHover] = _react.default.useState(false);

  const handleBlockHover = _react.default.useCallback(({
    block: blk,
    isHover
  }) => {
    if (blk.key !== block.key) {
      return;
    }

    if (isHover !== isAddHover) {
      setIsAddHover(isHover);
    }
  }, [block, isAddHover]);

  _react.default.useEffect(() => {
    _blockHoverEvent.default.on(handleBlockHover);

    return () => _blockHoverEvent.default.off(handleBlockHover);
  }, [handleBlockHover]);

  return /*#__PURE__*/_createElement(_react.default.Fragment, null, isAddHover && /*#__PURE__*/_createElement(_HoverEffect.default, {
    blockKey: block.key
  }), children);
}
//# sourceMappingURL=commentView.js.map