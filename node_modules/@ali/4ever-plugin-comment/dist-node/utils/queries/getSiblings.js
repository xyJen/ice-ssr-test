"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getSiblings;

var _getActiveId = _interopRequireDefault(require("./getActiveId"));

var _marks = require("../models/marks");

function getSiblings(controller) {
  const activeId = (0, _getActiveId.default)(controller);
  let prev;
  let next;

  if (!activeId) {
    return {
      prev,
      next
    };
  }

  const decs = controller.value.decorations.filter(d => _marks.ViewMark.isViewMark(d.mark));
  const index = decs.findIndex(d => _marks.ViewMark.isViewMark(d.mark) && d.mark.data.contentId === activeId);

  if (index < 0) {
    return {
      prev,
      next
    };
  }

  prev = decs[index - 1]?.mark.data.contentId;
  next = decs[index + 1]?.mark.data.contentId;
  return {
    prev,
    next
  };
}
//# sourceMappingURL=getSiblings.js.map