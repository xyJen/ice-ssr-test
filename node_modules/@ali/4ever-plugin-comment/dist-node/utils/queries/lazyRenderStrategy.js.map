{"version":3,"sources":["../../../../src/utils/queries/lazyRenderStrategy.ts"],"names":["lazyRenderStrategy","controller","node","isElement","undefined","decorations","value","hasCommentMark","some","d","ViewMark","isViewMark","mark","hasNode","start","key"],"mappings":";;;;;;;AACA;;AAEe,SAASA,kBAAT,CAA4BC,UAA5B,EAAoDC,IAApD,EAAgE;AAC7E,MAAI,CAACA,IAAI,CAACC,SAAL,EAAL,EAAuB;AACrB,WAAOC,SAAP;AACD;;AACD,QAAM;AAAEC,IAAAA;AAAF,MAAkBJ,UAAU,CAACK,KAAnC;AACA,QAAMC,cAAc,GAAGF,WAAW,CAACG,IAAZ,CACpBC,CAAD,IAAOC,gBAASC,UAAT,CAAoBF,CAAC,CAACG,IAAtB,KAA+BV,IAAI,CAACW,OAAL,CAAaJ,CAAC,CAACK,KAAF,CAAQC,GAArB,CADjB,CAAvB;AAGA,SAAOR,cAAc,GAAG,EAAH,GAAQH,SAA7B;AACD","sourcesContent":["import { Node, Controller } from '@ali/4ever-cangjie';\nimport { ViewMark } from '../models/marks';\n\nexport default function lazyRenderStrategy(controller: Controller, node: Node) {\n  if (!node.isElement()) {\n    return undefined;\n  }\n  const { decorations } = controller.value;\n  const hasCommentMark = decorations.some(\n    (d) => ViewMark.isViewMark(d.mark) && node.hasNode(d.start.key),\n  );\n  return hasCommentMark ? {} : undefined;\n}\n"],"file":"lazyRenderStrategy.js"}