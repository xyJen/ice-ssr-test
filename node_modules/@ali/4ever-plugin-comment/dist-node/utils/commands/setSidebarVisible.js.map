{"version":3,"sources":["../../../../src/utils/commands/setSidebarVisible.ts"],"names":["setSidebarVisible","controller","visible","environment","IS_MOBILE","IS_IPAD","activeId","run","undefined","setData","value","data","_commentSideBarVisible"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEe,SAASA,iBAAT,CACbC,UADa,EAEbC,OAFa,EAGb;AACA,MAAIC,yBAAYC,SAAZ,IAAyB,CAACD,yBAAYE,OAA1C,EAAmD;AACjD,WAAOJ,UAAP;AACD;;AACD,QAAMK,QAAQ,GAAG,0BAAYL,UAAZ,CAAjB;;AACA,MAAIK,QAAQ,IAAI,CAACJ,OAAjB,EAA0B;AACxBD,IAAAA,UAAU,CAACM,GAAX,CAAe,UAAf,EAA2B,0BAAYC,SAAZ,CAA3B;AACD;;AACD,GAACN,OAAD,IAAYD,UAAU,CAACM,GAAX,CAAe,UAAf,EAA2B,6BAA3B,CAAZ;AACA,SAAON,UAAU,CAACQ,OAAX,CAAmB,EACxB,GAAGR,UAAU,CAACS,KAAX,CAAiBC,IADI;AAExBC,IAAAA,sBAAsB,EAAEV;AAFA,GAAnB,CAAP;AAID","sourcesContent":["import { Controller, environment } from '@ali/4ever-cangjie';\nimport { cancelComment, setActiveId } from '../actions';\nimport { getActiveId } from '../queries';\n\nexport default function setSidebarVisible(\n  controller: Controller,\n  visible: boolean,\n) {\n  if (environment.IS_MOBILE && !environment.IS_IPAD) {\n    return controller;\n  }\n  const activeId = getActiveId(controller);\n  if (activeId && !visible) {\n    controller.run('onAction', setActiveId(undefined));\n  }\n  !visible && controller.run('onAction', cancelComment());\n  return controller.setData({\n    ...controller.value.data,\n    _commentSideBarVisible: visible,\n  });\n}\n"],"file":"setSidebarVisible.js"}