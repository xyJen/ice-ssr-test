{"version":3,"sources":["../../../../src/utils/hooks/onMouseMove.ts"],"names":["hoverBlockHandler","event","controller","result","HoverBlock","getBlock","value","document","hoverCapture","trigger","createOnMoseMove","configs","next","isDisabled","nativeEvent"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;AAGA,MAAMA,iBAAiB,GAAG,sBACxB,CAACC,KAAD,EAAoBC,UAApB,KAA+C;AAC7C,QAAMC,MAAM,GAAGC,sBAAWC,QAAX,CAAoBJ,KAApB,EAA2BC,UAAU,CAACI,KAAX,CAAiBC,QAA5C,CAAf;;AACAC,wBAAaC,OAAb,CAAqBN,MAArB;AACD,CAJuB,EAKxB,EALwB,CAA1B;;AAQe,SAASO,gBAAT,CACbC,OADa,EAEb;AACA,SAAO,UAAUV,KAAV,EAAmCC,UAAnC,EAA2DU,IAA3D,EAAiE;AACtE,QAAID,OAAO,EAAEE,UAAT,IAAuBF,OAAO,CAACE,UAAR,EAA3B,EAAiD;AAC/C,aAAOD,IAAI,EAAX;AACD;;AACDZ,IAAAA,iBAAiB,CAACC,KAAK,CAACa,WAAP,EAAoBZ,UAApB,CAAjB;AACA,WAAOU,IAAI,EAAX;AACD,GAND;AAOD","sourcesContent":["import { debounce } from 'lodash-es';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { HoverBlock } from '@ali/4ever-utils';\nimport hoverCapture from '../utils/hoverCapture';\nimport { CommentPluginConfigs } from '../types';\n\nconst hoverBlockHandler = debounce(\n  (event: MouseEvent, controller: Controller) => {\n    const result = HoverBlock.getBlock(event, controller.value.document);\n    hoverCapture.trigger(result);\n  },\n  50,\n);\n\nexport default function createOnMoseMove(\n  configs: CommentPluginConfigs | undefined,\n) {\n  return function (event: React.MouseEvent, controller: Controller, next) {\n    if (configs?.isDisabled && configs.isDisabled()) {\n      return next();\n    }\n    hoverBlockHandler(event.nativeEvent, controller);\n    return next();\n  };\n}\n"],"file":"onMouseMove.js"}