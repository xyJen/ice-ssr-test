"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isInContainer = isInContainer;
exports.isInUnlistGroupContainer = isInUnlistGroupContainer;
exports.getAttributes = getAttributes;

var _constants = require("../constants");

var _isInListGroup = require("./isInListGroup");

function isInContainer(node) {
  return _constants.CONTAINERS.includes(node?.type || '');
}
/**
 * 查询节点是否在非 listGroup 的容器节点中
 * 容器节点，如 表格、高亮块等
 */


function isInUnlistGroupContainer(node, controller) {
  if (!controller?.value?.document) {
    return false;
  }

  const {
    document
  } = controller?.value;
  const parent = document.getParent(node.key);
  return (0, _isInListGroup.isListGroupAvailable)(controller) && isInContainer(parent) && !(0, _isInListGroup.isInListGroup)(node, controller) && !(0, _isInListGroup.isFoldGroupNode)(node, controller);
}

function getAttributes(attributes, node, controller) {
  const {
    document
  } = controller.value;
  const parent = document.getParent(node.nodes[0].key);
  const attrs = { ...attributes,
    ...{
      style: { ...attributes?.style
      }
    }
  };

  if (isInContainer(parent) && (0, _isInListGroup.isFirstFoldNode)(node.nodes[0], controller) && !attributes?.style) {
    attrs.style.paddingLeft = `${_constants.EXTRA_PADDING}px`;
  }

  return attrs;
}
//# sourceMappingURL=getAttribute.js.map