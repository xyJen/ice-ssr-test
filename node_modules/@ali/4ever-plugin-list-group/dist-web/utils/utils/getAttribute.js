import _extends from "@babel/runtime/helpers/extends";
import { CONTAINERS, EXTRA_PADDING } from "../constants";
import { isInListGroup, isFoldGroupNode, isListGroupAvailable, isFirstFoldNode } from "./isInListGroup";
export function isInContainer(node) {
  return CONTAINERS.includes((node == null ? void 0 : node.type) || '');
}
/**
 * 查询节点是否在非 listGroup 的容器节点中
 * 容器节点，如 表格、高亮块等
 */

export function isInUnlistGroupContainer(node, controller) {
  var _controller$value;

  if (!(controller != null && (_controller$value = controller.value) != null && _controller$value.document)) {
    return false;
  }

  var _controller$value2 = controller == null ? void 0 : controller.value,
      document = _controller$value2.document;

  var parent = document.getParent(node.key);
  return isListGroupAvailable(controller) && isInContainer(parent) && !isInListGroup(node, controller) && !isFoldGroupNode(node, controller);
}
export function getAttributes(attributes, node, controller) {
  var document = controller.value.document;
  var parent = document.getParent(node.nodes[0].key);

  var attrs = _extends({}, attributes, {
    style: _extends({}, attributes == null ? void 0 : attributes.style)
  });

  if (isInContainer(parent) && isFirstFoldNode(node.nodes[0], controller) && !(attributes != null && attributes.style)) {
    attrs.style.paddingLeft = EXTRA_PADDING + "px";
  }

  return attrs;
}
//# sourceMappingURL=getAttribute.js.map