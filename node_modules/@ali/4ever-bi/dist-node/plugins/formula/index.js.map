{"version":3,"sources":["../../../../src/plugins/formula/index.tsx"],"names":["createRenderNode","config","renderNode","props","createFormulaPlugin","formula","tagType","TagType","Formula","onAction","moFactory","components","FormulaView","FormulaPlaceholder"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;uBAR4B,a;;AAc5B,SAASA,gBAAT,CAA0BC,MAA1B,EAAkD;AAChD,SAAO,SAASC,UAAT,CAAoBC,KAApB,EAAoD;AACzD,wBACE,eAAC,gBAAD,6BAAaA,KAAb;AAAoB,MAAA,MAAM,EAAEF;AAA5B,OADF;AAGD,GAJD;AAKD;;AAOD,MAAMG,mBAAmB,GAAG,6BAAwBH,MAAD,IAAiC;AAClF,QAAMC,UAAU,GAAGF,gBAAgB,CAACC,MAAM,CAACI,OAAR,CAAnC;AAEA,SAAO;AACLC,IAAAA,OAAO,EAAEC,eAAQC,OADZ;AAELN,IAAAA,UAFK;AAGLO,IAAAA,QAAQ,EAARA;AAHK,GAAP;AAKD,CAR2B,EAQzBC,4BARyB,CAA5B;AAUAN,mBAAmB,CAACO,UAApB,GAAiC;AAAEC,EAAAA,WAAW,EAAXA,aAAF;AAAeC,EAAAA,kBAAkB,EAAlBA;AAAf,CAAjC;eAEeT,mB","sourcesContent":["import React from 'react';\nimport { Inline, RenderNodeProps } from '@ali/4ever-cangjie';\nimport Wrapper from './components/wrapper';\nimport FormulaView from './components/view';\nimport FormulaPlaceholder from './components/placeholder';\nimport { tagFactory } from '@ali/4ever-factory';\nimport onAction from './handlers/onAction';\nimport { TagType, FormulaConfig } from './types';\nimport './fonts.css';\nimport { moFactory } from '@ali/4ever-plugin-formula';\n\ninterface FormulaPluginConfig {\n  formula?: FormulaConfig;\n}\n\nfunction createRenderNode(config?: FormulaConfig) {\n  return function renderNode(props: RenderNodeProps<Inline>) {\n    return (\n      <Wrapper {...props} config={config} />\n    );\n  };\n}\n\ninterface Components {\n  FormulaView: typeof FormulaView;\n  FormulaPlaceholder: typeof FormulaPlaceholder;\n}\n\nconst createFormulaPlugin = tagFactory<Components>((config: FormulaPluginConfig) => {\n  const renderNode = createRenderNode(config.formula) as any;\n\n  return {\n    tagType: TagType.Formula,\n    renderNode,\n    onAction,\n  };\n}, moFactory);\n\ncreateFormulaPlugin.components = { FormulaView, FormulaPlaceholder };\n\nexport default createFormulaPlugin;\n"],"file":"index.js"}