"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hoverCapture = exports.HoverCapture = void 0;

class HoverCapture {
  constructor() {
    this.callbacks = [];
    this.prev = void 0;
    this.disabled = false;
  }

  on(c) {
    this.callbacks.push(c);
  }

  off(c) {
    this.callbacks = this.callbacks.filter(cb => cb !== c);
  }

  disableTrigger() {
    this.disabled = true;
  }

  enableTrigger() {
    this.disabled = false;
  }

  trigger(msg = {}) {
    if (this.prev && this.prev === msg.node || this.disabled) {
      return;
    }

    this.prev = msg.node;
    this.callbacks.forEach(c => {
      c(msg);
    });
  }

  forceClose() {
    this.trigger({});
  }

  getCurrentNode() {
    return this.prev;
  }

}

exports.HoverCapture = HoverCapture;
const hoverCapture = new HoverCapture();
exports.hoverCapture = hoverCapture;
//# sourceMappingURL=hoverCapture.js.map