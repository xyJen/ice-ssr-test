{"version":3,"sources":["../../../../../../../src/plugins/hoverToolbar/utils/hoverNode/utils/findInlineKeyFromEvent.ts"],"names":["findInlineKeyFromEvent","event","document","eventTarget","target","nodeDom","closest","constants","Selector","key","getAttribute","node","getNode","Inline","isInline"],"mappings":";;;;;;;AACA;;AADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,sBAAT,CAAgCC,KAAhC,EAAmDC,QAAnD,EAA+E;AAC5F,QAAMC,WAAW,GAAGF,KAAK,CAACG,MAA1B;;AACA,MAAI,CAACD,WAAL,EAAkB;AAChB,WAAO,EAAP;AACD;;AACD,QAAME,OAAO,GAAGF,WAAW,CAACG,OAAZ,CAAqB,IAAGC,uBAAUC,QAAV,CAAmBC,GAAI,GAA/C,CAAhB;AACA,QAAMA,GAAG,GAAGJ,OAAO,EAAEK,YAAT,CAAsBH,uBAAUC,QAAV,CAAmBC,GAAzC,CAAZ;;AACA,MAAIA,GAAJ,EAAS;AACP,UAAME,IAAI,GAAGT,QAAQ,CAACU,OAAT,CAAiBH,GAAjB,CAAb;AACA,WAAOI,oBAAOC,QAAP,CAAgBH,IAAhB,IAAwBF,GAAxB,GAA8B,EAArC;AACD;;AACD,SAAO,EAAP;AACD","sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { constants, Inline, Document } from '@ali/4ever-cangjie';\n\n/**\n * 根据鼠标移动事件查找文档 key\n * 策略：查找最近的 data-cangjie-key, 如果是 inline node 就直接返回\n * @param event\n * @param container\n */\nexport default function findInlineKeyFromEvent(event: MouseEvent, document: Document): string {\n  const eventTarget = event.target as HTMLElement | null;\n  if (!eventTarget) {\n    return '';\n  }\n  const nodeDom = eventTarget.closest(`[${constants.Selector.key}]`);\n  const key = nodeDom?.getAttribute(constants.Selector.key);\n  if (key) {\n    const node = document.getNode(key);\n    return Inline.isInline(node) ? key : '';\n  }\n  return '';\n}\n"],"file":"findInlineKeyFromEvent.js"}