"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = findInlineKeyFromEvent;

var _everCangjie = require("@ali/4ever-cangjie");

/* eslint-disable @typescript-eslint/ban-ts-comment */

/**
 * 根据鼠标移动事件查找文档 key
 * 策略：查找最近的 data-cangjie-key, 如果是 inline node 就直接返回
 * @param event
 * @param container
 */
function findInlineKeyFromEvent(event, document) {
  const eventTarget = event.target;

  if (!eventTarget) {
    return '';
  }

  const nodeDom = eventTarget.closest(`[${_everCangjie.constants.Selector.key}]`);
  const key = nodeDom?.getAttribute(_everCangjie.constants.Selector.key);

  if (key) {
    const node = document.getNode(key);
    return _everCangjie.Inline.isInline(node) ? key : '';
  }

  return '';
}
//# sourceMappingURL=findInlineKeyFromEvent.js.map