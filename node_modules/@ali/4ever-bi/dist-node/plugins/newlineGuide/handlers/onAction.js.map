{"version":3,"sources":["../../../../../src/plugins/newlineGuide/handlers/onAction.ts"],"names":["onAction","action","controller","next","type","payload","NEWLINE_REMOVE_TRIGGER_TEXT","needRemoveEmptyParagraph","NEWLINE_REMOVE_DATA","NEWLINE_SET_DATA","triggered","run","NewlineGuideData","set"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEe,SAASA,QAAT,CAAkBC,MAAlB,EAA0BC,UAA1B,EAAsCC,IAAtC,EAA4C;AACzD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBJ,MAA1B;;AAEA,MAAIG,IAAI,KAAKE,oCAAb,EAA0C;AACxC,WAAO,uCAAyBJ,UAAzB,EAAqCG,OAAO,CAACE,wBAA7C,CAAP;AACD;;AAED,MAAIH,IAAI,KAAKI,4BAAb,EAAkC;AAChC,WAAO,gCAAkBN,UAAlB,CAAP;AACD;;AAED,MAAIE,IAAI,KAAKK,yBAAb,EAA+B;AAC7B,QAAI,OAAOJ,OAAO,CAACK,SAAf,KAA6B,SAAjC,EAA4C;AAC1C,UAAIL,OAAO,CAACK,SAAZ,EAAuB;AACrBR,QAAAA,UAAU,CAACS,GAAX,CAAe,UAAf,EAA2B,+BAA3B;AACD;AACF;;AACD,WAAOC,+BAAiBC,GAAjB,CAAqBX,UAArB,EAAiCG,OAAjC,CAAP;AACD;;AAED,SAAOF,IAAI,EAAX;AACD","sourcesContent":["import { NEWLINE_REMOVE_TRIGGER_TEXT, NEWLINE_REMOVE_DATA, NEWLINE_SET_DATA, mountInsertMenu } from '../actions';\nimport { removeNewlineTriggerText, removeNewlineData } from '../commands/newline';\nimport { NewlineGuideData } from '../model/newlineGuide';\n\nexport default function onAction(action, controller, next) {\n  const { type, payload } = action;\n\n  if (type === NEWLINE_REMOVE_TRIGGER_TEXT) {\n    return removeNewlineTriggerText(controller, payload.needRemoveEmptyParagraph);\n  }\n\n  if (type === NEWLINE_REMOVE_DATA) {\n    return removeNewlineData(controller);\n  }\n\n  if (type === NEWLINE_SET_DATA) {\n    if (typeof payload.triggered === 'boolean') {\n      if (payload.triggered) {\n        controller.run('onAction', mountInsertMenu());\n      }\n    }\n    return NewlineGuideData.set(controller, payload);\n  }\n\n  return next();\n}\n"],"file":"onAction.js"}