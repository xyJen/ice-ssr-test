"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = onAction;

var _actions = require("../actions");

var _newline = require("../commands/newline");

var _newlineGuide = require("../model/newlineGuide");

function onAction(action, controller, next) {
  const {
    type,
    payload
  } = action;

  if (type === _actions.NEWLINE_REMOVE_TRIGGER_TEXT) {
    return (0, _newline.removeNewlineTriggerText)(controller, payload.needRemoveEmptyParagraph);
  }

  if (type === _actions.NEWLINE_REMOVE_DATA) {
    return (0, _newline.removeNewlineData)(controller);
  }

  if (type === _actions.NEWLINE_SET_DATA) {
    if (typeof payload.triggered === 'boolean') {
      if (payload.triggered) {
        controller.run('onAction', (0, _actions.mountInsertMenu)());
      }
    }

    return _newlineGuide.NewlineGuideData.set(controller, payload);
  }

  return next();
}
//# sourceMappingURL=onAction.js.map