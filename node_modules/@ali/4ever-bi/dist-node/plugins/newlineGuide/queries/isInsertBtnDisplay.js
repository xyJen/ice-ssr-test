"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isInsertBtnDisplay;

var _isNewLine = require("./isNewLine");

var _everPluginHeading = require("@ali/4ever-plugin-heading");

function isInsertBtnDisplay(controller, data) {
  const {
    node,
    composing
  } = data;
  if (composing.length > 0 || !node) return false; // 使用 query 后不会再有 data.pi，直接比较 type

  if (node.type !== 'paragraph') return false;
  if (_everPluginHeading.Heading.isCallout(node)) return false;
  if (!(0, _isNewLine.checkBlockData)(controller, node)) return false;
  if (!(0, _isNewLine.checkBlockContent)(node)) return false;
  if (controller.query('isHideDragButton', {
    node
  })) return false;
  return true;
}
//# sourceMappingURL=isInsertBtnDisplay.js.map