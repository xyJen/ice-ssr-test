{"version":3,"sources":["../../../../../src/plugins/newlineGuide/queries/isInsertBtnDisplay.ts"],"names":["isInsertBtnDisplay","controller","data","node","composing","length","type","Heading","isCallout","query"],"mappings":";;;;;;;AACA;;AACA;;AAEe,SAASA,kBAAT,CACbC,UADa,EAEbC,IAFa,EAGb;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAsBF,IAA5B;AACA,MAAIE,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwB,CAACF,IAA7B,EAAmC,OAAO,KAAP,CAFnC,CAIA;;AACA,MAAIA,IAAI,CAACG,IAAL,KAAc,WAAlB,EAA+B,OAAO,KAAP;AAE/B,MAAIC,2BAAQC,SAAR,CAAkBL,IAAlB,CAAJ,EAA6B,OAAO,KAAP;AAE7B,MAAI,CAAC,+BAAeF,UAAf,EAA2BE,IAA3B,CAAL,EAAuC,OAAO,KAAP;AAEvC,MAAI,CAAC,kCAAkBA,IAAlB,CAAL,EAA8B,OAAO,KAAP;AAE9B,MAAIF,UAAU,CAACQ,KAAX,CAAiB,kBAAjB,EAAqC;AAAEN,IAAAA;AAAF,GAArC,CAAJ,EAAoD,OAAO,KAAP;AAEpD,SAAO,IAAP;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { IsNewLineProps, checkBlockData, checkBlockContent } from './isNewLine';\nimport { Heading } from '@ali/4ever-plugin-heading';\n\nexport default function isInsertBtnDisplay(\n  controller: Controller,\n  data: IsNewLineProps,\n) {\n  const { node, composing } = data;\n  if (composing.length > 0 || !node) return false;\n\n  // 使用 query 后不会再有 data.pi，直接比较 type\n  if (node.type !== 'paragraph') return false;\n\n  if (Heading.isCallout(node)) return false;\n\n  if (!checkBlockData(controller, node)) return false;\n\n  if (!checkBlockContent(node)) return false;\n\n  if (controller.query('isHideDragButton', { node })) return false;\n\n  return true;\n}\n"],"file":"isInsertBtnDisplay.js"}