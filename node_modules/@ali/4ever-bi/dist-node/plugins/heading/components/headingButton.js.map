{"version":3,"sources":["../../../../../src/plugins/heading/components/headingButton.tsx"],"names":["TextTypeSelect","React","memo","OriginTextTypeSelect","HeadingButton","props","controller","locale","toolbarMode","rest","heading","query","isCollapsedAtEdge","value","selection","isDisabled","isDouble","ToolbarMode","double","handleChange","useCallback","headingStr","run","title","titleTips","useMemo","paragraph","placement","realWidth","PluginRoles","headingSelect"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;AACA;;uBAL4B,a;AAM5B;AAEA,MAAMA,cAAc,gBAAGC,KAAK,CAACC,IAAN,CAAWC,yBAAX,CAAvB;;AAOe,SAASC,aAAT,CAAuBC,KAAvB,EAAkD;AAC/D,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,MAAd;AAAsBC,IAAAA,WAAtB;AAAmC,OAAGC;AAAtC,MAA+CJ,KAArD;AACA,QAAMK,OAAO,GAAGJ,UAAU,CAACK,KAAX,CAAiB,YAAjB,KAAkC,EAAlD;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAwBN,UAAU,CAACO,KAAX,CAAiBC,SAA/C;AACA,QAAMC,UAAU,GAAGH,iBAAiB,IAC/BN,UAAU,CAACK,KAAX,CAAiB,oBAAjB,CADc,IAEdL,UAAU,CAACK,KAAX,CAAiB,iBAAjB,CAFc,IAGdL,UAAU,CAACK,KAAX,CAAiB,yBAAjB,CAHc,IAIdL,UAAU,CAACK,KAAX,CAAiB,uBAAjB,CAJL;AAKA,QAAMK,QAAQ,GAAGR,WAAW,KAAKS,8BAAYC,MAA7C;AAEA,QAAMC,YAAY,GAAGlB,KAAK,CAACmB,WAAN,CAAmBC,UAAD,IAAwB;AAC7Df,IAAAA,UAAU,CAACgB,GAAX,CAAe,UAAf,EAA2B,yBAAWD,UAAX,CAA3B;AACD,GAFoB,EAElB,CAACf,UAAD,CAFkB,CAArB;AAGA,QAAMiB,KAAK,GAAG,+BAAiBb,OAAjB,EAA0BH,MAA1B,CAAd;AAEA,QAAMiB,SAA8B,GAAGvB,KAAK,CAACwB,OAAN,CAAc,OAAO;AAC1DC,IAAAA,SAAS,EAAE;AACTH,MAAAA,KAAK,EAAE,+BAAiB,WAAjB,EAA8BhB,MAA9B,EAAsC,IAAtC,CADE;AAEToB,MAAAA,SAAS,EAAE;AAFF,KAD+C;AAK1D,iBAAa;AACXJ,MAAAA,KAAK,EAAE,+BAAiB,WAAjB,EAA8BhB,MAA9B,EAAsC,IAAtC,CADI;AAEXoB,MAAAA,SAAS,EAAE;AAFA,KAL6C;AAS1D,iBAAa;AACXJ,MAAAA,KAAK,EAAE,+BAAiB,WAAjB,EAA8BhB,MAA9B,EAAsC,IAAtC,CADI;AAEXoB,MAAAA,SAAS,EAAE;AAFA,KAT6C;AAa1D,iBAAa;AACXJ,MAAAA,KAAK,EAAE,+BAAiB,WAAjB,EAA8BhB,MAA9B,EAAsC,IAAtC,CADI;AAEXoB,MAAAA,SAAS,EAAE;AAFA,KAb6C;AAiB1D,iBAAa;AACXJ,MAAAA,KAAK,EAAE,+BAAiB,WAAjB,EAA8BhB,MAA9B,EAAsC,IAAtC,CADI;AAEXoB,MAAAA,SAAS,EAAE;AAFA;AAjB6C,GAAP,CAAd,EAqBnC,CAACpB,MAAD,CArBmC,CAAvC;AAsBA,QAAMqB,SAAS,GAAG,EAAlB;AAEA,sBACE,eAAC,cAAD,6BACMnB,IADN;AAEE,IAAA,MAAM,EAAC,oBAFT;AAGE,IAAA,QAAQ,EAAE,CAAC,CAACM,UAHd;AAIE,IAAA,KAAK,EAAEL,OAJT;AAKE,IAAA,QAAQ,EAAES,YALZ;AAME,IAAA,MAAM,EAAEK,SANV;AAOE,IAAA,QAAQ,EAAER,QAPZ;AAQE,IAAA,KAAK,EAAEY,SART;AASE,IAAA,YAAY,EAAEL,KAThB;AAUE,IAAA,IAAI,EAAEM,wBAAYC;AAVpB,KADF;AAcD","sourcesContent":["import * as React from 'react';\nimport { TextTypeSelect as OriginTextTypeSelect } from '@ali/we-toolbar';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { PluginRoles } from '@ali/4ever-bamboo';\nimport { NewToolbarMode as ToolbarMode } from '@ali/4ever-component';\nimport { setHeading } from '../actions';\nimport getTipsByHeading from '../utils/getTipsByHeading';\n;\n\nconst TextTypeSelect = React.memo(OriginTextTypeSelect);\nexport interface HeadingButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n  toolbarMode?: ToolbarMode;\n}\n\nexport default function HeadingButton(props: HeadingButtonProps) {\n  const { controller, locale, toolbarMode, ...rest } = props;\n  const heading = controller.query('getHeading') || '';\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled = isCollapsedAtEdge\n    || controller.query('isSelectionInImage')\n    || controller.query('isSelectionInHr')\n    || controller.query('isSelectionInListSymbol')\n    || controller.query('isSelectionInLinkCard');\n  const isDouble = toolbarMode === ToolbarMode.double;\n\n  const handleChange = React.useCallback((headingStr: string) => {\n    controller.run('onAction', setHeading(headingStr));\n  }, [controller]);\n  const title = getTipsByHeading(heading, locale);\n\n  const titleTips: Record<string, any> = React.useMemo(() => ({\n    paragraph: {\n      title: getTipsByHeading('paragraph', locale, true),\n      placement: 'right',\n    },\n    'heading-1': {\n      title: getTipsByHeading('heading-1', locale, true),\n      placement: 'right',\n    },\n    'heading-2': {\n      title: getTipsByHeading('heading-2', locale, true),\n      placement: 'right',\n    },\n    'heading-3': {\n      title: getTipsByHeading('heading-3', locale, true),\n      placement: 'right',\n    },\n    'heading-4': {\n      title: getTipsByHeading('heading-4', locale, true),\n      placement: 'right',\n    },\n  }), [locale]);\n  const realWidth = 66;\n\n  return (\n    <TextTypeSelect\n      {...rest}\n      testid=\"bi-toolbar-heading\"\n      disabled={!!isDisabled}\n      value={heading as any}\n      onChange={handleChange}\n      titles={titleTips}\n      bordered={isDouble}\n      width={realWidth}\n      shortcutText={title}\n      role={PluginRoles.headingSelect}\n    />\n  );\n}\n"],"file":"headingButton.js"}