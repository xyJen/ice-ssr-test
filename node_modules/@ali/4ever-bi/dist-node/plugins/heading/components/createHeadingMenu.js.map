{"version":3,"sources":["../../../../../src/plugins/heading/components/createHeadingMenu.tsx"],"names":["createHeadingMenu","Component","headingType","HeadingMenu","props","menuItem","controller","action","title","rest","isDisabled","query","Paragraph","TYPE","value","handleClick","run","heading1","MenuItem","Heading","Heading1","heading2","Heading2","heading3","Heading3","heading4","Heading4","paragraph","heading1Inline","InlineMenuItem","heading2Inline","heading3Inline","heading4Inline"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;uBAJ4B,a;;AAM5B,SAASA,iBAAT,CAA2BC,SAA3B,EAAqDC,WAArD,EAA0E;AACxE,SAAO,SAASC,WAAT,CAAqBC,KAArB,EAAgD;AACrD,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAA2BF,KAAjC;AACA,UAAM;AAAEG,MAAAA,MAAF;AAAUC,MAAAA,KAAV;AAAiB,SAAGC;AAApB,QAA6BJ,QAAnC;AAEA,UAAMK,UAAU,GACdJ,UAAU,CAACK,KAAX,CAAiB,uBAAjB,KACGL,UAAU,CAACK,KAAX,CAAiB,6BAAjB,CADH,IAEIJ,MAAM,KAAK,QAAX,IAAuBL,WAAW,KAAKU,kBAAUC,IAAjD,IAAyD,oDAAyBP,UAAU,CAACQ,KAApC,EAA2CF,kBAAUC,IAArD,CAH/D;;AAKA,UAAME,WAAW,GAAG,MAAM;AACxB,UAAIR,MAAM,KAAK,QAAf,EAAyB;AACvB,eAAOD,UAAU,CAACU,GAAX,CAAe,UAAf,EAA2B,+BAAiBd,WAAjB,CAA3B,CAAP;AACD;;AACDI,MAAAA,UAAU,CAACU,GAAX,CAAe,UAAf,EAA2B,yBAAWd,WAAX,CAA3B;AACD,KALD;;AAOA,wBACE,eAAC,SAAD;AAAW,MAAA,QAAQ,EAAEQ;AAArB,OAAqCD,IAArC;AAA2C,MAAA,OAAO,EAAEM,WAApD;AAAiE,MAAA,IAAI,EAAEb;AAAvE,QACGM,KADH,CADF;AAKD,GArBD;AAsBD;;AAEM,MAAMS,QAAQ,GAAGjB,iBAAiB,CAACkB,kBAAD,EAAWC,gBAAQC,QAAR,CAAiBP,IAA5B,CAAlC;;AACA,MAAMQ,QAAQ,GAAGrB,iBAAiB,CAACkB,kBAAD,EAAWC,gBAAQG,QAAR,CAAiBT,IAA5B,CAAlC;;AACA,MAAMU,QAAQ,GAAGvB,iBAAiB,CAACkB,kBAAD,EAAWC,gBAAQK,QAAR,CAAiBX,IAA5B,CAAlC;;AACA,MAAMY,QAAQ,GAAGzB,iBAAiB,CAACkB,kBAAD,EAAWC,gBAAQO,QAAR,CAAiBb,IAA5B,CAAlC;;AACA,MAAMc,SAAS,GAAG3B,iBAAiB,CAACkB,kBAAD,EAAW,WAAX,CAAnC;;AACA,MAAMU,cAAc,GAAG5B,iBAAiB,CAAC6B,wBAAD,EAAiBV,gBAAQC,QAAR,CAAiBP,IAAlC,CAAxC;;AACA,MAAMiB,cAAc,GAAG9B,iBAAiB,CAAC6B,wBAAD,EAAiBV,gBAAQG,QAAR,CAAiBT,IAAlC,CAAxC;;AACA,MAAMkB,cAAc,GAAG/B,iBAAiB,CAAC6B,wBAAD,EAAiBV,gBAAQK,QAAR,CAAiBX,IAAlC,CAAxC;;AACA,MAAMmB,cAAc,GAAGhC,iBAAiB,CAAC6B,wBAAD,EAAiBV,gBAAQO,QAAR,CAAiBb,IAAlC,CAAxC","sourcesContent":["import * as React from 'react';\nimport { MenuItem, InlineMenuItem } from '@ali/we-design';\nimport { Heading, Paragraph } from '@ali/4ever-mo';\nimport { MenuItemInnerProps } from '@ali/4ever-component';\nimport { setHeading, transformHeading } from '../actions';\nimport { isSelectionInOnlyHeading } from '../utils/isSelectionInHeading';\n\nfunction createHeadingMenu(Component: React.FC<any>, headingType: string) {\n  return function HeadingMenu(props: MenuItemInnerProps) {\n    const { menuItem, controller } = props;\n    const { action, title, ...rest } = menuItem;\n\n    const isDisabled =\n      controller.query('isSelectionInLinkCard')\n      || controller.query('isSelectionInSubjectHeading')\n      || (action !== 'format' && headingType === Paragraph.TYPE && isSelectionInOnlyHeading(controller.value, Paragraph.TYPE));\n\n    const handleClick = () => {\n      if (action === 'format') {\n        return controller.run('onAction', transformHeading(headingType));\n      }\n      controller.run('onAction', setHeading(headingType));\n    };\n\n    return (\n      <Component disabled={isDisabled} {...rest} onClick={handleClick} role={headingType}>\n        {title}\n      </Component>\n    );\n  };\n}\n\nexport const heading1 = createHeadingMenu(MenuItem, Heading.Heading1.TYPE);\nexport const heading2 = createHeadingMenu(MenuItem, Heading.Heading2.TYPE);\nexport const heading3 = createHeadingMenu(MenuItem, Heading.Heading3.TYPE);\nexport const heading4 = createHeadingMenu(MenuItem, Heading.Heading4.TYPE);\nexport const paragraph = createHeadingMenu(MenuItem, 'paragraph');\nexport const heading1Inline = createHeadingMenu(InlineMenuItem, Heading.Heading1.TYPE);\nexport const heading2Inline = createHeadingMenu(InlineMenuItem, Heading.Heading2.TYPE);\nexport const heading3Inline = createHeadingMenu(InlineMenuItem, Heading.Heading3.TYPE);\nexport const heading4Inline = createHeadingMenu(InlineMenuItem, Heading.Heading4.TYPE);\n"],"file":"createHeadingMenu.js"}