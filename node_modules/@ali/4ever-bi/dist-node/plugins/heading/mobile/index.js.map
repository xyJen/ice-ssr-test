{"version":3,"sources":["../../../../../src/plugins/heading/mobile/index.tsx"],"names":["createHeadingPlugin","config","headingConfig","heading","renderEditable","props","controller","next","onHeadingsChange","renderNode","toolbar","actions","commands","queries","onAction","onKeyDown","onCangjieInput","models","placeholder"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;uBAb4B,a;;AAe5B,SAASA,mBAAT,CAA6BC,MAA7B,EAA+D;AAC7D,QAAMC,aAAa,GAAGD,MAAM,CAACE,OAAP,IAAkB,EAAxC;AACA,SAAO,EACL,GAAG,kCAAU,EAAV,CADE;;AAEL;AACAC,IAAAA,cAAc,CAACC,KAAD,EAAQC,UAAR,EAAoBC,IAApB,EAA0B;AACtC,UAAIL,aAAa,CAACM,gBAAlB,EAAoC;AAClC,4BACE,eAAC,uBAAD,6BACMH,KADN;AAEE,UAAA,UAAU,EAAEC,UAFd;AAGE,UAAA,gBAAgB,EAAEJ,aAAa,CAACM;AAHlC,YAKGD,IAAI,EALP,CADF;AASD;;AACD,aAAOA,IAAI,EAAX;AACD,KAhBI;;AAiBLE,IAAAA,UAAU,EAAE,yCAjBP;AAkBLC,IAAAA,OAAO,EAAE,sBAAQR,aAAR,CAlBJ;AAmBLS,IAAAA,OAnBK;AAoBLC,IAAAA,QAAQ,EAARA,kBApBK;AAqBLC,IAAAA,OAAO,EAAPA,gBArBK;AAsBLC,IAAAA,QAAQ,EAARA,iBAtBK;AAuBLC,IAAAA,SAAS,EAATA,kBAvBK;AAwBLC,IAAAA,cAAc,EAAdA,uBAxBK;AAyBLC,IAAAA,MAAM,EAAE,gCAzBH;AA0BLC,IAAAA,WAAW,EAAE,0BAAYhB,aAAZ;AA1BR,GAAP;AA4BD;;AAEDF,mBAAmB,CAACW,OAApB,GAA8BA,OAA9B;AACAX,mBAAmB,CAACY,QAApB,GAA+BA,kBAA/B;AACAZ,mBAAmB,CAACa,OAApB,GAA8BA,gBAA9B;eAEeb,mB","sourcesContent":["import * as React from 'react';\nimport toolbar from './toolbar';\nimport HeadingWrapper from '../components/headingWrapper';\nimport setHeading from '../commands/setHeading';\nimport onAction from '../handlers/onAction';\nimport onKeyDown from '../handlers/onKeyDown';\nimport onCangjieInput from '../handlers/onCangjieInput';\nimport * as actions from '../actions';\nimport { BiPluginConfig, BiPlugin } from '../../../types';\nimport placeholder from '../placeholder';\nimport getHeadingModels from '../utils/getHeadingModels';\nimport { createRenderNode } from '../createRenderNode';\nimport { queries } from '../queries';\nimport { commands } from '../commands';\nimport { moFactory } from '@ali/4ever-plugin-heading';\n\nfunction createHeadingPlugin(config: BiPluginConfig): BiPlugin {\n  const headingConfig = config.heading || {};\n  return {\n    ...moFactory({}),\n    // @ts-ignore\n    renderEditable(props, controller, next) {\n      if (headingConfig.onHeadingsChange) {\n        return (\n          <HeadingWrapper\n            {...props}\n            controller={controller}\n            onHeadingsChange={headingConfig.onHeadingsChange}\n          >\n            {next()}\n          </HeadingWrapper>\n        );\n      }\n      return next();\n    },\n    renderNode: createRenderNode(),\n    toolbar: toolbar(headingConfig),\n    actions,\n    commands,\n    queries,\n    onAction,\n    onKeyDown,\n    onCangjieInput,\n    models: getHeadingModels(),\n    placeholder: placeholder(headingConfig),\n  };\n}\n\ncreateHeadingPlugin.actions = actions;\ncreateHeadingPlugin.commands = commands;\ncreateHeadingPlugin.queries = queries;\n\nexport default createHeadingPlugin;\n"],"file":"index.js"}