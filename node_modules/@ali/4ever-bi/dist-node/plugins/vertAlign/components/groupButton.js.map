{"version":3,"sources":["../../../../../src/plugins/vertAlign/components/groupButton.tsx"],"names":["SubButton","props","controller","locale","rest","isSubActive","query","tips","super","sub","isCollapsedAtEdge","value","selection","isDisabled","handleChange","React","useCallback","run","status","tip","PluginRoles","vertAlign"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AACA;;AAEA;;AACA;;uBAL4B,a;AAG5B;AAGA;;AAOe,SAASA,SAAT,CAAmBC,KAAnB,EAA0C;AACvD,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,MAAd;AAAsB,OAAGC;AAAzB,MAAkCH,KAAxC;AACA,QAAMI,WAAW,GAAGH,UAAU,CAACI,KAAX,CAAiB,OAAjB,CAApB;AACA,QAAMC,IAAI,GAAG;AACXC,IAAAA,KAAK,EAAE,0BAAc,KAAd,EAAqBL,MAArB,CADI;AAEXM,IAAAA,GAAG,EAAE,0BAAc,KAAd,EAAqBN,MAArB;AAFM,GAAb;AAKA,QAAM;AAAEO,IAAAA;AAAF,MAAwBR,UAAU,CAACS,KAAX,CAAiBC,SAA/C;AACA,QAAMC,UAAU,GAAGH,iBAAiB,IAC/BR,UAAU,CAACI,KAAX,CAAiB,oBAAjB,CADc,IAEdJ,UAAU,CAACI,KAAX,CAAiB,iBAAjB,CAFc,IAGdJ,UAAU,CAACI,KAAX,CAAiB,sBAAjB,CAHc,IAIdJ,UAAU,CAACI,KAAX,CAAiB,mBAAjB,CAJc,IAKdJ,UAAU,CAACI,KAAX,CAAiB,yBAAjB,CALc,IAMdJ,UAAU,CAACI,KAAX,CAAiB,uBAAjB,CANL;;AAQA,QAAMQ,YAAY,GAAGC,eAAMC,WAAN,CAAmBL,KAAD,IAAmB;AACxDT,IAAAA,UAAU,CAACe,GAAX,CAAe,UAAf,EAA2BN,KAAK,KAAK,KAAV,GAAkB,yBAAlB,GAAgC,yBAA3D;AACD,GAFoB,EAElB,CAACT,UAAD,CAFkB,CAArB;;AAIA,QAAMgB,MAAM,GAAGb,WAAW,GAAG,KAAH,GAAW,OAArC;AACA,QAAMc,GAAG,GAAGd,WAAW,GAAGE,IAAI,CAACE,GAAR,GAAcF,IAAI,CAACC,KAA1C;AAEA,sBACE,eAAC,uBAAD,6BACMJ,IADN;AAEE,IAAA,MAAM,EAAG,cAAac,MAAO,EAF/B;AAGE,IAAA,KAAK,EAAEC,GAHT;AAIE,IAAA,KAAK,EAAED,MAJT;AAKE,IAAA,QAAQ,EAAE,CAAC,CAACL,UALd;AAME,IAAA,OAAO,EAAEC,YANX;AAOE,IAAA,IAAI,EAAEM,wBAAYC;AAPpB,KADF;AAWD","sourcesContent":["import React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { ScriptSelect } from '@ali/we-toolbar';\nimport { PluginRoles } from '@ali/4ever-bamboo';\n;\nimport { toggleSub, toggleSup } from '../actions';\nimport { getHotKeyTips } from '../utils';\n;\n\nexport interface SubButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n}\n\nexport default function SubButton(props: SubButtonProps) {\n  const { controller, locale, ...rest } = props;\n  const isSubActive = controller.query('isSub');\n  const tips = {\n    super: getHotKeyTips('sup', locale),\n    sub: getHotKeyTips('sub', locale),\n  };\n\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled = isCollapsedAtEdge\n    || controller.query('isSelectionInImage')\n    || controller.query('isSelectionInHr')\n    || controller.query('isSelectionInMention')\n    || controller.query('isSelectionInLink')\n    || controller.query('isSelectionInListSymbol')\n    || controller.query('isSelectionInLinkCard');\n\n  const handleChange = React.useCallback((value: string) => {\n    controller.run('onAction', value === 'sub' ? toggleSub() : toggleSup());\n  }, [controller]);\n\n  const status = isSubActive ? 'sub' : 'super';\n  const tip = isSubActive ? tips.sub : tips.super;\n\n  return (\n    <ScriptSelect\n      {...rest}\n      testid={`bi-toolbar-${status}`}\n      title={tip}\n      value={status as any}\n      disabled={!!isDisabled}\n      onClick={handleChange}\n      role={PluginRoles.vertAlign}\n    />\n  );\n}\n"],"file":"groupButton.js"}