{"version":3,"sources":["../../../../../src/plugins/paragraphColor/queries/getParagraphColor.ts"],"names":["getParagraphColor","controller","payload","node","currentBlock","blocks","key","color","Array","isArray","length","range","query"],"mappings":";;;;;;;AAEA;;AAGA,MAAMA,iBAAiB,GAAG,CAACC,UAAD,EAAyBC,OAAzB,KAAyD;AACjF,QAAM;AAAEC,IAAAA,IAAI,EAAEC;AAAR,MAAyBF,OAA/B;AACA,QAAMG,MAAM,GAAG,6BAAiBJ,UAAjB,EAA6BG,YAAY,CAACE,GAA1C,CAAf;AAEA,MAAIC,KAAK,GAAG,EAAZ;;AACA,MAAIC,KAAK,CAACC,OAAN,CAAcJ,MAAd,KAAyBA,MAAM,CAACK,MAAP,GAAgB,CAAzC,IAA8CL,MAAM,CAAC,CAAD,CAAN,KAAc,IAAhE,EAAsE;AACpE,UAAMM,KAAK,GAAG,8BAAkBV,UAAlB,EAA8BI,MAA9B,CAAd;AACAE,IAAAA,KAAK,GAAGN,UAAU,CAACW,KAAX,CAAiB,iBAAjB,EAAoCD,KAApC,CAAR;AACD;;AACD,SAAOJ,KAAP;AACD,CAVD;;eAYeP,iB","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\n\nimport { getCurrentBlocks, getRangeFromNodes } from '../utils';\nimport { IGetParagraphColor } from '../types';\n\nconst getParagraphColor = (controller: Controller, payload: IGetParagraphColor) => {\n  const { node: currentBlock } = payload;\n  const blocks = getCurrentBlocks(controller, currentBlock.key);\n\n  let color = '';\n  if (Array.isArray(blocks) && blocks.length > 0 && blocks[0] !== null) {\n    const range = getRangeFromNodes(controller, blocks);\n    color = controller.query('getColorAtRange', range);\n  }\n  return color;\n};\n\nexport default getParagraphColor;\n"],"file":"getParagraphColor.js"}