{"version":3,"sources":["../../../../../src/plugins/clearStyle/commands/clearMarksAtRange.ts"],"names":["createClearMarksAtRange","ignores","clearMarksAtRange","controller","range","value","document","marks","getMarksAtRange","length","forEach","mark","includes","type"],"mappings":";;;;;;;AACA;;AAEe,SAASA,uBAAT,CAAiCC,OAAiB,GAAG,EAArD,EAAyD;AACtE,SAAO,SAASC,iBAAT,CAA2BC,UAA3B,EAAmDC,KAAnD,EAAqE;AAC1E,UAAM;AAAEC,MAAAA;AAAF,QAAYF,UAAlB;AACA,UAAM;AAAEG,MAAAA;AAAF,QAAeD,KAArB;AACA,UAAME,KAAK,GAAGD,QAAQ,CAACE,eAAT,CAAyBJ,KAAzB,CAAd;;AACA,QAAIG,KAAK,CAACE,MAAV,EAAkB;AAChBF,MAAAA,KAAK,CAACG,OAAN,CAAeC,IAAD,IAAU;AACtB,YAAIV,OAAO,CAACW,QAAR,CAAiBD,IAAI,CAACE,IAAtB,CAAJ,EAAiC;AAC/B;AACD;;AACD,0CAAkBV,UAAlB,EAA8BC,KAA9B,EAAqCO,IAAI,CAACE,IAA1C;AACD,OALD;AAMD;;AAED,WAAOV,UAAP;AACD,GAdD;AAeD","sourcesContent":["import { Controller, Selection } from '@ali/4ever-cangjie';\nimport { removeMarkAtRange } from '@ali/4ever-utils';\n\nexport default function createClearMarksAtRange(ignores: string[] = []) {\n  return function clearMarksAtRange(controller: Controller, range: Selection) {\n    const { value } = controller;\n    const { document } = value;\n    const marks = document.getMarksAtRange(range);\n    if (marks.length) {\n      marks.forEach((mark) => {\n        if (ignores.includes(mark.type)) {\n          return;\n        }\n        removeMarkAtRange(controller, range, mark.type);\n      });\n    }\n\n    return controller;\n  };\n}\n"],"file":"clearMarksAtRange.js"}