"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createClearMarksAtRange;

var _everUtils = require("@ali/4ever-utils");

function createClearMarksAtRange(ignores = []) {
  return function clearMarksAtRange(controller, range) {
    const {
      value
    } = controller;
    const {
      document
    } = value;
    const marks = document.getMarksAtRange(range);

    if (marks.length) {
      marks.forEach(mark => {
        if (ignores.includes(mark.type)) {
          return;
        }

        (0, _everUtils.removeMarkAtRange)(controller, range, mark.type);
      });
    }

    return controller;
  };
}
//# sourceMappingURL=clearMarksAtRange.js.map