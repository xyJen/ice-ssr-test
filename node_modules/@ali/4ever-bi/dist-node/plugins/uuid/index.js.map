{"version":3,"sources":["../../../../src/plugins/uuid/index.ts"],"names":["createUUIDPlugin","config","enable","uuid","queries","anchor","onAction","onChange","models","actions"],"mappings":";;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;AAEA,SAASA,gBAAT,CAA0BC,MAA1B,EAA0C;AACxC,QAAM;AAAEC,IAAAA,MAAM,GAAG;AAAX,MAAqBD,MAAM,CAACE,IAAP,IAAe,EAA1C,CADwC,CAExC;AACA;AACA;;AACA,MAAI,CAACD,MAAL,EAAa;AACX,WAAO;AACLE,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAED,OAAO,CAACC;AADT;AADJ,KAAP;AAKD;;AAED,SAAO;AACLC,IAAAA,QAAQ,EAARA,iBADK;AAELC,IAAAA,QAAQ,EAAE,uBAAeN,MAAM,CAACE,IAAP,IAAe,EAA9B,CAFL;AAGLK,IAAAA,MAAM,EAAE,EAHH;AAILJ,IAAAA;AAJK,GAAP;AAMD;;AAEDJ,gBAAgB,CAACS,OAAjB,GAA2BA,OAA3B;eAEeT,gB","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport onAction from './handlers/onAction';\nimport createOnChange from './handlers/onChange';\nimport * as actions from './actions';\nimport * as queries from './queries';\n\nfunction createUUIDPlugin(config): Plugin {\n  const { enable = false } = config.uuid || {};\n  // 若 UUID 未开启，则 UUID Plugin：\n  // 1. 不再负责生成 UUID 的职责（交由仓颉底层实现）\n  // 2. 通过 anchor query，兼容已生成的锚点\n  if (!enable) {\n    return {\n      queries: {\n        anchor: queries.anchor,\n      }\n    };\n  }\n\n  return {\n    onAction,\n    onChange: createOnChange(config.uuid || {}),\n    models: [],\n    queries,\n  };\n}\n\ncreateUUIDPlugin.actions = actions;\n\nexport default createUUIDPlugin;\n"],"file":"index.js"}