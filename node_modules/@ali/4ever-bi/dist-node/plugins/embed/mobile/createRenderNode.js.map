{"version":3,"sources":["../../../../../src/plugins/embed/mobile/createRenderNode.tsx"],"names":["createRenderNode","config","embedConfig","embed","locale","embedLocaleConfig","downloadFile","onPreview","enableFilePreview","props","controller","next","node","data","src","type"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;uBAD4B,a;;AAIb,SAASA,gBAAT,CAA0BC,MAA1B,EAAkD;AAC/D,QAAMC,WAAW,GAAGD,MAAM,CAACE,KAAP,IAAgB,EAApC;AACA,QAAM;AACJC,IAAAA,MAAM,EAAEC,iBADJ;AAEJC,IAAAA,YAFI;AAGJC,IAAAA,SAHI;AAIJC,IAAAA,iBAAiB,GAAG;AAJhB,MAKFN,WALJ;AAOA,SAAO;AACLC,IAAAA,KAAK,EAAE,CAACM,KAAD,EAAQC,UAAR,EAAoBC,IAApB,KAA6B;AAClC,YAAM;AAAEC,QAAAA;AAAF,UAAWH,KAAjB;;AACA,UAAI,CAACG,IAAI,CAACC,IAAL,CAAUC,GAAf,EAAoB;AAClB,4BAAO,eAAC,+BAAD,6BAAwBL,KAAxB;AAA+B,UAAA,IAAI,EAAEG,IAArC;AAA2C,UAAA,MAAM,EAAEP,iBAAnD;AAAsE,UAAA,UAAU,EAAEK;AAAlF,WAAP;AACD;;AAED,UAAIE,IAAI,CAACC,IAAL,CAAUE,IAAV,KAAmB,OAAnB,IAA8BH,IAAI,CAACC,IAAL,CAAUE,IAAV,KAAmB,OAArD,EAA8D;AAC5D,4BACE,eAAC,cAAD,6BACMN,KADN;AAEE,UAAA,UAAU,EAAEC,UAFd;AAGE,UAAA,UAAU,EAAEJ,YAHd;AAIE,UAAA,SAAS,EAAEC,SAJb;AAKE,UAAA,MAAM,EAAEF,iBALV;AAME,UAAA,iBAAiB,EAAEG;AANrB,WADF;AAUD;;AACD,aAAOG,IAAI,EAAX;AACD;AApBI,GAAP;AAsBD","sourcesContent":["import * as React from 'react';\nimport Embed from './embed';\nimport { UploadOrFailedCard } from '@ali/4ever-factory';\nimport { BiPluginConfig } from '../../../types';\n\nexport default function createRenderNode(config: BiPluginConfig) {\n  const embedConfig = config.embed || {};\n  const {\n    locale: embedLocaleConfig,\n    downloadFile,\n    onPreview,\n    enableFilePreview = false,\n  } = embedConfig;\n\n  return {\n    embed: (props, controller, next) => {\n      const { node } = props;\n      if (!node.data.src) {\n        return <UploadOrFailedCard {...props} node={node} locale={embedLocaleConfig} controller={controller} />;\n      }\n  \n      if (node.data.type !== 'video' && node.data.type !== 'audio') {\n        return (\n          <Embed\n            {...props}\n            controller={controller}\n            onDownload={downloadFile}\n            onPreview={onPreview}\n            locale={embedLocaleConfig}\n            enableFilePreview={enableFilePreview}\n          />\n        );\n      }\n      return next();\n    },\n  };\n}\n"],"file":"createRenderNode.js"}