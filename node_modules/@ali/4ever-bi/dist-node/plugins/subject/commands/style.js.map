{"version":3,"sources":["../../../../../src/plugins/subject/commands/style.ts"],"names":["clearSubjectStyle","controller","selection","document","value","blocks","getRootBlocksAtRange","forEach","block","data","subjectPr","rest","command","Commands","setNodeByKey","key"],"mappings":";;;;;;;AAAA;;AAEA;AACA;AACA;AACA;AACO,SAASA,iBAAT,CAA2BC,UAA3B,EAAmD;AACxD,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA0BF,UAAU,CAACG,KAA3C;AACA,QAAMC,MAAM,GAAGF,QAAQ,CAACG,oBAAT,CAA8BJ,SAA9B,CAAf;AACAG,EAAAA,MAAM,CAACE,OAAP,CAAgBC,KAAD,IAAW;AACxB,QAAIA,KAAK,CAACC,IAAN,CAAWC,SAAf,EAA0B;AACxB,YAAM;AAAEA,QAAAA,SAAF;AAAa,WAAGC;AAAhB,UAAyBH,KAAK,CAACC,IAArC;AACAR,MAAAA,UAAU,CAACW,OAAX,CAAmBC,sBAASC,YAA5B,EAA0CN,KAAK,CAACO,GAAhD,EAAqD;AACnDN,QAAAA,IAAI,EAAEE;AAD6C,OAArD;AAGD;AACF,GAPD;AAQA,SAAOV,UAAP;AACD","sourcesContent":["import { Commands, Controller } from '@ali/4ever-cangjie';\n\n/**\n * 清楚议题格式\n * @param controller\n */\nexport function clearSubjectStyle(controller: Controller) {\n  const { selection, document } = controller.value;\n  const blocks = document.getRootBlocksAtRange(selection);\n  blocks.forEach((block) => {\n    if (block.data.subjectPr) {\n      const { subjectPr, ...rest } = block.data;\n      controller.command(Commands.setNodeByKey, block.key, {\n        data: rest,\n      });\n    }\n  });\n  return controller;\n}\n"],"file":"style.js"}