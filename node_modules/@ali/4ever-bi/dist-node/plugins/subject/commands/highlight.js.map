{"version":3,"sources":["../../../../../src/plugins/subject/commands/highlight.ts"],"names":["highlightSubject","controller","subjectId","highlight","data","value","setData","HIGHLIGHT_SUBJECT_KEY","newData"],"mappings":";;;;;;;AACA;;AAEO,SAASA,gBAAT,CAA0BC,UAA1B,EAAkDC,SAAlD,EAAqEC,SAArE,EAAyF;AAC9F,QAAM;AAAEC,IAAAA;AAAF,MAAWH,UAAU,CAACI,KAA5B;;AAEA,MAAIF,SAAJ,EAAe;AACb,WAAOF,UAAU,CAACK,OAAX,CAAmB,EACxB,GAAGF,IADqB;AAExB,OAACG,gCAAD,GAAyBL;AAFD,KAAnB,CAAP;AAID;;AAED,MAAIE,IAAI,CAACG,gCAAD,CAAR,EAAiC;AAC/B,UAAMC,OAAO,GAAG,EAAE,GAAGJ;AAAL,KAAhB;AACA,WAAOI,OAAO,CAACD,gCAAD,CAAd;AACA,WAAON,UAAU,CAACK,OAAX,CAAmBE,OAAnB,CAAP;AACD;;AAED,SAAOP,UAAP;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { HIGHLIGHT_SUBJECT_KEY } from '../constants';\n\nexport function highlightSubject(controller: Controller, subjectId: string, highlight: boolean) {\n  const { data } = controller.value;\n\n  if (highlight) {\n    return controller.setData({\n      ...data,\n      [HIGHLIGHT_SUBJECT_KEY]: subjectId,\n    });\n  }\n\n  if (data[HIGHLIGHT_SUBJECT_KEY]) {\n    const newData = { ...data };\n    delete newData[HIGHLIGHT_SUBJECT_KEY];\n    return controller.setData(newData);\n  }\n\n  return controller;\n}\n"],"file":"highlight.js"}