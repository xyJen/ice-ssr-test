{"version":3,"sources":["../../../../../src/plugins/subject/components/feedback.tsx"],"names":["fadeIn","keyframes","fadeOut","FeedbackBox","styled","div","Feedback","props","visible","children","className","rest","internalVisible","setInternalVisible","React","useState","animate","setAnimate","visibleRef","useRef","handleAnimationEnd","useCallback","useEffect","current","classNames","displayName"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;uBAD4B,a;AAG5B,MAAMA,MAAM,oBAAGC,2BAAH,yHAAZ;AAcA,MAAMC,OAAO,oBAAGD,2BAAH,yFAAb;;AAWA,MAAME,WAAW,gBAAGC,0BAAOC,GAAV,mTAYKL,MAZL,EAiBKE,OAjBL,CAAjB;;AA0BA,MAAMI,QAAiC,GAAIC,KAAD,IAAW;AACnD,QAAM;AACJC,IAAAA,OADI;AAEJC,IAAAA,QAFI;AAGJC,IAAAA,SAHI;AAIJ,OAAGC;AAJC,MAKFJ,KALJ;AAOA,QAAM,CAACK,eAAD,EAAkBC,kBAAlB,IAAwCC,KAAK,CAACC,QAAN,CAAeP,OAAf,CAA9C;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBH,KAAK,CAACC,QAAN,CAAe,KAAf,CAA9B;AACA,QAAMG,UAAU,GAAGJ,KAAK,CAACK,MAAN,CAAaX,OAAb,CAAnB;AAEA,QAAMY,kBAAkB,GAAGN,KAAK,CAACO,WAAN,CAAkB,MAAM;AACjDJ,IAAAA,UAAU,CAAC,KAAD,CAAV;AACAJ,IAAAA,kBAAkB,CAACL,OAAD,CAAlB;AACD,GAH0B,EAGxB,CAACA,OAAD,CAHwB,CAA3B;AAKAM,EAAAA,KAAK,CAACQ,SAAN,CAAgB,MAAM;AACpB,QAAId,OAAO,KAAKU,UAAU,CAACK,OAA3B,EAAoC;AAClCN,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAJ,MAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAK,MAAAA,UAAU,CAACK,OAAX,GAAqBf,OAArB;AACD;AACF,GAND,EAMG,CAACA,OAAD,CANH;AAQA,QAAMgB,UAAU,GAAG,yBAAWd,SAAX,EAAsB;AACvC,eAAWM,OAAO,IAAIR,OADiB;AAEvC,gBAAYQ,OAAO,IAAI,CAACR;AAFe,GAAtB,CAAnB;;AAKA,MAAI,CAACI,eAAL,EAAsB;AACpB,WAAO,IAAP;AACD;;AAED,sBACE,eAAC,WAAD,6BAAiBD,IAAjB;AAAuB,IAAA,SAAS,EAAEa,UAAlC;AAA8C,IAAA,cAAc,EAAEJ;AAA9D,MACGX,QADH,CADF;AAKD,CAvCD;;AAyCAH,QAAQ,CAACmB,WAAT,GAAuB,aAAvB;eAEenB,Q","sourcesContent":["import * as React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport classnames from 'classnames';\n\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n    transform: translate(0, 20%);\n  }\n  80% {\n    opacity: 1;\n    transform: translate(0, -5%);\n  }\n  100% {\n    transform: translate(0, 0);\n  }\n`;\n\nconst fadeOut = keyframes`\n  0% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n  100% {\n    opacity: 0;\n    transform: translate(0, 20%);\n  }\n`;\n\nconst FeedbackBox = styled.div`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  background: #FFFFFF;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.0823864);\n  border-radius: 4px;\n  font-size: 12px;\n  color: rgba(17, 31, 44, 0.65);\n  cursor: default;\n\n  &.fade-in {\n    animation-name: ${fadeIn};\n    animation-duration: 0.4s;\n  }\n\n  &.fade-out {\n    animation-name: ${fadeOut};\n    animation-duration: 0.4s;\n  }\n`;\n\nexport interface FeedbackProps extends React.HTMLAttributes<HTMLDivElement> {\n  visible: boolean;\n}\n\nconst Feedback: React.FC<FeedbackProps> = (props) => {\n  const {\n    visible,\n    children,\n    className,\n    ...rest\n  } = props;\n\n  const [internalVisible, setInternalVisible] = React.useState(visible);\n  const [animate, setAnimate] = React.useState(false);\n  const visibleRef = React.useRef(visible);\n\n  const handleAnimationEnd = React.useCallback(() => {\n    setAnimate(false);\n    setInternalVisible(visible);\n  }, [visible]);\n\n  React.useEffect(() => {\n    if (visible !== visibleRef.current) {\n      setAnimate(true);\n      setInternalVisible(true);\n      visibleRef.current = visible;\n    }\n  }, [visible]);\n\n  const classNames = classnames(className, {\n    'fade-in': animate && visible,\n    'fade-out': animate && !visible,\n  });\n\n  if (!internalVisible) {\n    return null;\n  }\n\n  return (\n    <FeedbackBox {...rest} className={classNames} onAnimationEnd={handleAnimationEnd}>\n      {children}\n    </FeedbackBox>\n  );\n};\n\nFeedback.displayName = 'FeedbackBox';\n\nexport default Feedback;\n"],"file":"feedback.js"}