"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everBamboo = require("@ali/4ever-bamboo");

var _helpers = require("../helpers");

var _utils = require("../utils");

function createOnQuery() {
  return function onQuery(event, controller, next) {
    const {
      type,
      args
    } = event; // 有 placeholder 展示则不显示 newLineGuide

    if (type === 'isNewLine') {
      const {
        node
      } = args[0];
      const {
        document
      } = controller.value;
      return !!node && next() && !(0, _helpers.isDisableNewLineGuide)(node, document);
    } // 议题处读取 size 则默认 20px by @狗毛


    if (type === 'getSize') {
      const {
        startBlock
      } = controller.value;

      if ((0, _utils.isSubjectHeading)(startBlock)) {
        return _everBamboo.SzUtil.toPt(20, 'px');
      }
    } // 若议题组完全选中，则隐藏光标


    if (type === 'isHideSelection' && (0, _helpers.hasSubjectBeenSelected)(controller)) {
      return true;
    }

    return next();
  };
}

var _default = createOnQuery;
exports.default = _default;
//# sourceMappingURL=createOnQuery.js.map