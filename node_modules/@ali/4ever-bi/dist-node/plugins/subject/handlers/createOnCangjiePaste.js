"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _commands = require("../commands");

var _constants = require("../constants");

var _helpers = require("../helpers");

var _utils = require("../utils");

function createOnCangjiePaste() {
  return function onCangjiePaste(event, controller, next) {
    if ((0, _helpers.hasSubjectBeenSelected)(controller)) {
      const {
        document,
        data
      } = controller.value;
      const {
        [_constants.SELECTED_SUBJECT_KEY]: selectedKey
      } = data;
      const block = document.getNode(selectedKey);

      if ((0, _utils.isSubjectHeading)(block)) {
        // Paste 之前先全选议题
        controller.command(_commands.selectSubjectRange, block);
      }
    }

    return next();
  };
}

var _default = createOnCangjiePaste;
exports.default = _default;
//# sourceMappingURL=createOnCangjiePaste.js.map