"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everCangjie = require("@ali/4ever-cangjie");

var _actions = require("../actions");

var _commands = require("../commands");

function createOnAction() {
  return function onAction(action, controller, next) {
    const {
      type,
      payload
    } = action;

    if (type === _actions.TOGGLE_FINISHED) {
      const {
        node,
        finished
      } = payload;
      return controller.command(_commands.toggleFinished, node, finished);
    }

    if (type === _actions.INSERT_SUBJECT) {
      const {
        node,
        direction,
        properties
      } = payload;
      return controller.command(_commands.insertSubject, properties, node, direction);
    }

    if (type === _actions.INSERT_BLOCK) {
      const {
        blockProps
      } = payload;
      return controller.command(_everCangjie.Commands.insertBlock, blockProps);
    }

    if (type === _actions.HIGHLIGHT_SUBJECT) {
      const {
        subjectId,
        highlight
      } = payload;
      return controller.command(_commands.highlightSubject, subjectId, highlight);
    }

    return next();
  };
}

var _default = createOnAction;
exports.default = _default;
//# sourceMappingURL=createOnAction.js.map