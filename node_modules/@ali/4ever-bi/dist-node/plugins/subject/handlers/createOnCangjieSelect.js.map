{"version":3,"sources":["../../../../../src/plugins/subject/handlers/createOnCangjieSelect.ts"],"names":["createOnCangjieSelect","createCommonOnCangjieSelect","SubjectPlugin","handlers","handleCangjieSelect","onCangjieSelect","event","controller","next","command","unselectSubject"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AAEA,MAAM;AAAEA,EAAAA,qBAAqB,EAAEC;AAAzB,IAAyDC,0BAAcC,QAA7E;;AAEA,SAASH,qBAAT,GAA4D;AAC1D,QAAMI,mBAAmB,GAAGH,2BAA2B,EAAvD;AAEA,SAAO,SAASI,eAAT,CAAyBC,KAAzB,EAAgCC,UAAhC,EAA4CC,IAA5C,EAAkD;AACvD;AACA,QAAI,qCAAuBD,UAAvB,CAAJ,EAAwC;AACtCA,MAAAA,UAAU,CAACE,OAAX,CAAmBC,yBAAnB;AACD;;AACD,WAAON,mBAAmB,CAACE,KAAD,EAAQC,UAAR,EAAoBC,IAApB,CAA1B;AACD,GAND;AAOD;;eAEcR,qB","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport { SubjectPlugin } from '@ali/4ever-bamboo';\nimport { unselectSubject } from '../commands';\nimport { hasSubjectBeenSelected } from '../helpers';\n\nconst { createOnCangjieSelect: createCommonOnCangjieSelect } = SubjectPlugin.handlers;\n\nfunction createOnCangjieSelect(): Plugin['onCangjieSelect'] {\n  const handleCangjieSelect = createCommonOnCangjieSelect()!;\n\n  return function onCangjieSelect(event, controller, next) {\n    // 每次选区变化的时候，重置议题选区\n    if (hasSubjectBeenSelected(controller)) {\n      controller.command(unselectSubject);\n    }\n    return handleCangjieSelect(event, controller, next);\n  };\n}\n\nexport default createOnCangjieSelect;\n"],"file":"createOnCangjieSelect.js"}