{"version":3,"sources":["../../../../src/plugins/comment/createRenderHoverToolbar.tsx"],"names":["createRenderHoverToolbar","config","locale","isDisabled","props","controller","getNode","buttonName","disabled","icon","title","addComment","tooltip","onClick","node","command","run","type","CommentPlugin","actions","ACTION_COMMENT_CLICK","role","PluginRoles","comment"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;uBAD4B,a;;wBAeZ,eAAC,0BAAD,O;;AAVD,SAASA,wBAAT,CACbC,MADa,EAEmB;AAChC,QAAM;AAAEC,IAAAA,MAAM,GAAG,EAAX;AAAeC,IAAAA;AAAf,MAA8BF,MAApC;AACA,SAAO,CAACG,KAAD,EAAQC,UAAR,EAAoBC,OAApB,KAAgC;AACrC,UAAM;AAAEC,MAAAA;AAAF,QAAiBH,KAAvB;;AACA,YAAQG,UAAR;AACE,WAAK,SAAL;AAAgB;AACd,gBAAMC,QAAQ,GAAGL,UAAU,IAAIA,UAAU,EAAzC;AACA,iBAAO,CAACK,QAAD,GAAY;AACjBC,YAAAA,IAAI,MADa;AAEjBC,YAAAA,KAAK,EAAER,MAAM,EAAES,UAFE;AAGjBC,YAAAA,OAAO,EAAEV,MAAM,EAAES,UAHA;AAIjBE,YAAAA,OAAO,EAAE,MAAM;AACb,oBAAMC,IAAI,GAAGR,OAAO,EAApB;AACA,kBAAI,CAACQ,IAAL,EAAW;AACXT,cAAAA,UAAU,CAACU,OAAX,CAAmB,YAAnB,EAAiCD,IAAjC;AACAT,cAAAA,UAAU,CAACW,GAAX,CAAe,UAAf,EAA2B;AACzBC,gBAAAA,IAAI,EAAEC,0BAAcC,OAAd,CAAsBC;AADH,eAA3B;AAGD,aAXgB;AAYjBC,YAAAA,IAAI,EAAEC,wBAAYC;AAZD,WAAZ,GAaH,IAbJ;AAcD;;AACD;AAAS,eAAO,IAAP;AAlBX;AAoBD,GAtBD;AAuBD","sourcesContent":["import * as React from 'react';\nimport { PluginRoles, CommentPlugin } from '@ali/4ever-bamboo';\nimport { IconComment } from '@ali/4ever-component';\nimport type { CommentPluginConfigs } from '@ali/4ever-plugin-comment';\nimport type { BiPlugin } from '../../types';\n\nexport default function createRenderHoverToolbar(\n  config: CommentPluginConfigs,\n): BiPlugin['renderHoverToolbar'] {\n  const { locale = {}, isDisabled } = config;\n  return (props, controller, getNode) => {\n    const { buttonName } = props;\n    switch (buttonName) {\n      case 'default': {\n        const disabled = isDisabled && isDisabled();\n        return !disabled ? {\n          icon: <IconComment />,\n          title: locale?.addComment,\n          tooltip: locale?.addComment,\n          onClick: () => {\n            const node = getNode();\n            if (!node) return;\n            controller.command('selectNode', node);\n            controller.run('onAction', {\n              type: CommentPlugin.actions.ACTION_COMMENT_CLICK,\n            });\n          },\n          role: PluginRoles.comment,\n        } : null;\n      }\n      default: return null;\n    }\n  };\n}\n"],"file":"createRenderHoverToolbar.js"}