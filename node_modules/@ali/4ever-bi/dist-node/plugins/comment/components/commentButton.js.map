{"version":3,"sources":["../../../../../src/plugins/comment/components/commentButton.tsx"],"names":["MOD","environment","IS_MAC","CommentButton","props","locale","config","controller","rest","triggerComment","React","useCallback","run","type","CommentPlugin","actions","ACTION_COMMENT_CLICK","disabled","query","queries","canComment","comment","PluginRoles","renderButton"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;uBAH4B,a;AAa5B,MAAMA,GAAG,GAAGC,yBAAYC,MAAZ,GAAqB,GAArB,GAA2B,MAAvC;;wBAeY,eAAC,+BAAD,O;;AAbL,MAAMC,aAA4C,GAAIC,KAAD,IAAW;AACrE,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,MAAV;AAAkBC,IAAAA,UAAlB;AAA8B,OAAGC;AAAjC,MAA0CJ,KAAhD;;AACA,QAAMK,cAAc,GAAGC,eAAMC,WAAN,CAAkB,MAAM;AAC7CJ,IAAAA,UAAU,CAACK,GAAX,CAAe,UAAf,EAA2B;AACzBC,MAAAA,IAAI,EAAEC,0BAAcC,OAAd,CAAsBC;AADH,KAA3B;AAGD,GAJsB,EAIpB,CAACT,UAAD,CAJoB,CAAvB;;AAKA,QAAMU,QAAQ,GAAG,CAACV,UAAU,CAACW,KAAX,CAAiBJ,0BAAcK,OAAd,CAAsBC,UAAvC,CAAlB;AACA;AAAA;AACE;AACA,mBAAC,qBAAD,6BACMZ,IADN;AAEE,MAAA,OAAO,EAAG,GAAEH,MAAM,CAACgB,OAAQ,KAAIrB,GAAI,WAFrC;AAGE,MAAA,IAAI,MAHN;AAIE,MAAA,OAAO,EAAES,cAJX;AAKE,MAAA,QAAQ,EAAEQ,QALZ;AAME,MAAA,IAAI,EAAEK,wBAAYD;AANpB;AAFF;AAWD,CAnBM;;;;AAqBA,MAAME,YAAY,GAAIjB,MAAD,IAAY;AACtC,sBAAO,eAAC,aAAD,EAAmBA,MAAnB,CAAP;AACD,CAFM","sourcesContent":["import React from 'react';\nimport { IconButton } from '@ali/we-toolbar';\nimport { ToolbarAddCommentNormal } from '@ali/we-icon';\nimport { Controller, environment } from '@ali/4ever-cangjie';\nimport { CommentPlugin, PluginRoles } from '@ali/4ever-bamboo';\n\nexport interface IcommentButtonProps {\n  locale: any;\n  config?: any;\n  size?: string;\n  showTitle?: boolean;\n  controller: Controller;\n}\n\nconst MOD = environment.IS_MAC ? 'âŒ˜' : 'Ctrl';\n\nexport const CommentButton: React.FC<IcommentButtonProps> = (props) => {\n  const { locale, config, controller, ...rest } = props;\n  const triggerComment = React.useCallback(() => {\n    controller.run('onAction', {\n      type: CommentPlugin.actions.ACTION_COMMENT_CLICK,\n    });\n  }, [controller]);\n  const disabled = !controller.query(CommentPlugin.queries.canComment);\n  return (\n    // @ts-ignore\n    <IconButton\n      {...rest}\n      tooltip={`${locale.comment} (${MOD}+Shift+m)`}\n      icon={<ToolbarAddCommentNormal />}\n      onClick={triggerComment}\n      disabled={disabled}\n      role={PluginRoles.comment}\n    />\n  );\n};\n\nexport const renderButton = (config) => {\n  return <CommentButton {...config} />;\n};\n"],"file":"commentButton.js"}