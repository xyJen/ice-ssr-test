"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = onCangjieInput;

var _everBamboo = require("@ali/4ever-bamboo");

var _actions = require("../actions");

const trackIMEInputText = (0, _everBamboo.sample)(controller => {
  controller.run('onAction', (0, _actions.eventTracking)({
    type: _actions.TrackingType.IMEInputText
  }));
}, {
  sample: 50
});
const trackInputText = (0, _everBamboo.sample)(controller => {
  controller.run('onAction', (0, _actions.eventTracking)({
    type: _actions.TrackingType.inputText
  }));
}, {
  sample: 50
});

function onCangjieInput(event, controller, next) {
  if (event.detail.type === 'compositionStart') {
    trackIMEInputText(controller);
  } else if (event.detail.type === 'insertText') {
    trackInputText(controller);
  }

  return next();
}
//# sourceMappingURL=onCangjieInput.js.map