{"version":3,"sources":["../../../../../src/plugins/eventTracking/handlers/onCangjieInput.ts"],"names":["trackIMEInputText","controller","run","type","TrackingType","IMEInputText","sample","trackInputText","inputText","onCangjieInput","event","next","detail"],"mappings":";;;;;;;AACA;;AACA;;AAEA,MAAMA,iBAAiB,GAAG,wBAAQC,UAAD,IAAgB;AAC/CA,EAAAA,UAAU,CAACC,GAAX,CACE,UADF,EAEE,4BAAc;AAAEC,IAAAA,IAAI,EAAEC,sBAAaC;AAArB,GAAd,CAFF;AAID,CALyB,EAKvB;AAAEC,EAAAA,MAAM,EAAE;AAAV,CALuB,CAA1B;AAOA,MAAMC,cAAc,GAAG,wBAAQN,UAAD,IAAgB;AAC5CA,EAAAA,UAAU,CAACC,GAAX,CACE,UADF,EAEE,4BAAc;AAAEC,IAAAA,IAAI,EAAEC,sBAAaI;AAArB,GAAd,CAFF;AAID,CALsB,EAKpB;AAAEF,EAAAA,MAAM,EAAE;AAAV,CALoB,CAAvB;;AAOe,SAASG,cAAT,CAAwBC,KAAxB,EAAkDT,UAAlD,EAA0EU,IAA1E,EAAgF;AAC7F,MAAID,KAAK,CAACE,MAAN,CAAaT,IAAb,KAAsB,kBAA1B,EAA8C;AAC5CH,IAAAA,iBAAiB,CAACC,UAAD,CAAjB;AACD,GAFD,MAEO,IAAIS,KAAK,CAACE,MAAN,CAAaT,IAAb,KAAsB,YAA1B,EAAwC;AAC7CI,IAAAA,cAAc,CAACN,UAAD,CAAd;AACD;;AAED,SAAOU,IAAI,EAAX;AACD","sourcesContent":["import { CangjieInputEvent, Controller } from '@ali/4ever-cangjie';\nimport { sample } from '@ali/4ever-bamboo';\nimport { eventTracking, TrackingType } from '../actions';\n\nconst trackIMEInputText = sample((controller) => {\n  controller.run(\n    'onAction',\n    eventTracking({ type: TrackingType.IMEInputText }),\n  );\n}, { sample: 50 })\n\nconst trackInputText = sample((controller) => {\n  controller.run(\n    'onAction',\n    eventTracking({ type: TrackingType.inputText }),\n  );\n}, { sample: 50 })\n\nexport default function onCangjieInput(event: CangjieInputEvent, controller: Controller, next) {\n  if (event.detail.type === 'compositionStart') {\n    trackIMEInputText(controller);\n  } else if (event.detail.type === 'insertText') {\n    trackInputText(controller);\n  }\n\n  return next();\n}\n"],"file":"onCangjieInput.js"}