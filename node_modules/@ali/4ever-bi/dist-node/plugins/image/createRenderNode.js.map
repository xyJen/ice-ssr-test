{"version":3,"sources":["../../../../src/plugins/image/createRenderNode.tsx"],"names":["createRenderNode","config","state","image","props","controller","children","parent","node","rest","id","data","key","pluginState"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;uBAD4B,a;;AAIb,SAASA,gBAAT,CAA0BC,MAA1B,EAAqDC,KAArD,EAA4D;AACzE,SAAO;AACLC,IAAAA,KAAK,EAAE,CAACC,KAAD,EAAiCC,UAAjC,KAAgD;AACrD,YAAM;AAAEC,QAAAA,QAAF;AAAYC,QAAAA,MAAZ;AAAoBC,QAAAA,IAApB;AAA0B,WAAGC;AAA7B,UAAsCL,KAA5C;AACA,YAAM;AAAEM,QAAAA;AAAF,UAASF,IAAI,CAACG,IAApB;AACA,YAAM;AAAEC,QAAAA;AAAF,UAAUJ,IAAhB;AACA,YAAMK,WAAW,GAAGX,KAAK,CAACQ,EAAD,CAAL,IAAaR,KAAK,CAACU,GAAD,CAAlB,IAA2B,EAA/C;AACA;AAAA;AACE;AACA,uBAAC,cAAD,6BACMH,IADN;AAEE,UAAA,UAAU,EAAEJ,UAFd;AAGE,UAAA,WAAW,EAAEQ,WAHf;AAIE,UAAA,WAAW,EAAEZ,MAAM,IAAI,EAJzB;AAKE,UAAA,IAAI,EAAEO,IALR;AAME,UAAA,MAAM,EAAED;AANV,YASGD,QAAQ,EATX;AAFF;AAcD;AApBI,GAAP;AAsBD","sourcesContent":["import * as React from 'react';\nimport { Plugin, Inline, RenderNodeProps } from '@ali/4ever-cangjie';\nimport Image from './components/image';\nimport { ImagePluginConfig } from './types';\n\nexport default function createRenderNode(config: ImagePluginConfig, state) {\n  return {\n    image: (props: RenderNodeProps<Inline>, controller) => {\n      const { children, parent, node, ...rest } = props;\n      const { id } = node.data;\n      const { key } = node;\n      const pluginState = state[id] || state[key] || {};\n      return (\n        // @ts-ignore\n        <Image\n          {...rest}\n          controller={controller}\n          pluginState={pluginState}\n          imageConfig={config || {}}\n          node={node}\n          parent={parent}\n        >\n          {/* @ts-ignore */}\n          {children()}\n        </Image>\n      );\n    },\n  };\n}\n"],"file":"createRenderNode.js"}