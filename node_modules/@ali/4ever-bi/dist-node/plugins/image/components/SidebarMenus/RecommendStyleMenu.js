"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.FocusImageRecommendStyleMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _everBamboo = require("@ali/4ever-bamboo");

var _isStyleActive = require("../../utils/isStyleActive");

var _actions = require("../../actions");

var _recommendStyleItems = require("../recommendStyleItems");

const _createElement = /*#__PURE__*/_react.default.createElement;
;

const FocusImageRecommendStyleMenu = props => {
  const {
    controller,
    size
  } = props;

  const node = _everBamboo.ImagePlugin.useFocusImage(controller);

  const handleClick = data => {
    if ((0, _isStyleActive.isStyleActive)(data, node.data)) {
      controller.run('onAction', (0, _actions.updateImage)(node, _everBamboo.ImagePlugin.DEFAULT_STYLE));
    } else {
      controller.run('onAction', (0, _actions.updateImage)(node, data));
    }
  };

  return node && /*#__PURE__*/_createElement(_recommendStyleItems.RecommendStyleMenu, {
    data: node.data,
    size: size,
    onClick: handleClick
  });
};

exports.FocusImageRecommendStyleMenu = FocusImageRecommendStyleMenu;
var _default = _recommendStyleItems.RecommendStyleMenu;
exports.default = _default;
//# sourceMappingURL=RecommendStyleMenu.js.map