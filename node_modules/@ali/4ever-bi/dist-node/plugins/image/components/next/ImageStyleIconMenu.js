"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ImageStyleIconMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _weDesignNext = require("@ali/we-design-next");

var _everComponent = require("@ali/4ever-component");

var _styled = require("../styled");

var _imageStyleOverlay = require("../imageStyleOverlay");

const _createElement = /*#__PURE__*/_react.default.createElement;

const ImageStyleIconMenu = props => {
  const {
    controller,
    getImageNode,
    locale,
    onOverlayVisibleChange,
    testid
  } = props;

  const getContainer = _everComponent.HoverToolbarHooks.useGetContainer();

  const [isOverlayVisible, setOverlayVisible] = _everComponent.HoverToolbarHooks.usePopoverVisible('image.style', onOverlayVisibleChange);

  return /*#__PURE__*/_createElement(_weDesignNext.TBIconMenu, {
    icon: _styled.StyleButtonIcon,
    overlay: /*#__PURE__*/_createElement(_imageStyleOverlay.ImageStyleOverlay, {
      getImageNode: getImageNode,
      controller: controller,
      locale: locale,
      onClick: () => {
        setOverlayVisible(false);
      }
    }),
    overlayVisible: isOverlayVisible,
    onVisibleChange: setOverlayVisible,
    getContainer: getContainer,
    title: locale.recommendStyle,
    tooltip: locale.recommendStyle,
    testid: testid
  });
};

exports.ImageStyleIconMenu = ImageStyleIconMenu;
//# sourceMappingURL=ImageStyleIconMenu.js.map