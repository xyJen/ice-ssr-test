{"version":3,"sources":["../../../../../src/plugins/image/components/mobileImageButton.tsx"],"names":["isButtonDisabled","controller","document","selection","value","isDisabled","getClosest","anchor","key","n","query","Boolean","MobileImage","props","Wrapper","item","locale","handleClick","run","quickInsertTitle","MobileBigImage"],"mappings":";;;;;;;;;;AAAA;;AAGA;;uBAF4B,a;;AAI5B,MAAMA,gBAAgB,GAAIC,UAAD,IAA4B;AACnD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA0BF,UAAU,CAACG,KAA3C;AACA,QAAMC,UAAU,GAAGH,QAAQ,CAACI,UAAT,CAAoBH,SAAS,CAACI,MAAV,CAAiBC,GAArC,EAA2CC,CAAD,IAC3DR,UAAU,CAACS,KAAX,CAAiB,QAAjB,EAA2BD,CAA3B,CADiB,CAAnB;AAGA,SAAOE,OAAO,CAACN,UAAD,CAAd;AACD,CAND;;AAQO,SAASO,WAAT,CAAqBC,KAArB,EAAsD;AAC3D,QAAM;AAAEZ,IAAAA,UAAF;AAAca,IAAAA,OAAd;AAAuBC,IAAAA,IAAvB;AAA6BC,IAAAA;AAA7B,MAAwCH,KAA9C;;AACA,QAAMI,WAAW,GAAG,MAAM;AACxBhB,IAAAA,UAAU,CAACiB,GAAX,CAAe,eAAf;AACAjB,IAAAA,UAAU,CAACiB,GAAX,CAAe,UAAf,EAA2B,2BAA3B;AACD,GAHD;;AAKA,sBACE,eAAC,OAAD;AACE,IAAA,IAAI,EAAEH,IADR;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,QAAQ,EAAEC,MAAM,EAAEG,gBAJpB;AAKE,IAAA,UAAU,EAAEnB,gBAAgB,CAACC,UAAD,CAL9B;AAME,IAAA,OAAO,EAAEgB;AANX,IADF;AAUD;;AAEM,SAASG,cAAT,CAAwBP,KAAxB,EAAyD;AAC9D,QAAM;AAAEZ,IAAAA,UAAF;AAAca,IAAAA,OAAd;AAAuBC,IAAAA;AAAvB,MAAgCF,KAAtC;;AACA,QAAMI,WAAW,GAAG,MAAM;AACxBhB,IAAAA,UAAU,CAACiB,GAAX,CAAe,eAAf;AACAjB,IAAAA,UAAU,CAACiB,GAAX,CAAe,UAAf,EAA2B,2BAA3B;AACD,GAHD;;AAKA,sBACE,eAAC,OAAD;AACE,IAAA,IAAI,EAAEH,IADR;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,UAAU,EAAEf,gBAAgB,CAACC,UAAD,CAJ9B;AAKE,IAAA,OAAO,EAAEgB;AALX,IADF;AASD","sourcesContent":["import React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport type { MobileToolbarButtonProps } from '@ali/4ever-component';\nimport { selectImage } from '../actions';\n\nconst isButtonDisabled = (controller: Controller) => {\n  const { document, selection } = controller.value;\n  const isDisabled = document.getClosest(selection.anchor.key, (n) =>\n    controller.query('isVoid', n),\n  );\n  return Boolean(isDisabled);\n};\n\nexport function MobileImage(props: MobileToolbarButtonProps) {\n  const { controller, Wrapper, item, locale } = props;\n  const handleClick = () => {\n    controller.run('onCangjieBlur');\n    controller.run('onAction', selectImage());\n  };\n\n  return (\n    <Wrapper\n      item={item}\n      type=\"line\"\n      icon=\"image\"\n      lineText={locale?.quickInsertTitle}\n      isDisabled={isButtonDisabled(controller)}\n      onClick={handleClick}\n    />\n  );\n}\n\nexport function MobileBigImage(props: MobileToolbarButtonProps) {\n  const { controller, Wrapper, item } = props;\n  const handleClick = () => {\n    controller.run('onCangjieBlur');\n    controller.run('onAction', selectImage());\n  };\n\n  return (\n    <Wrapper\n      item={item}\n      type=\"big\"\n      icon=\"image\"\n      isDisabled={isButtonDisabled(controller)}\n      onClick={handleClick}\n    />\n  );\n}\n"],"file":"mobileImageButton.js"}