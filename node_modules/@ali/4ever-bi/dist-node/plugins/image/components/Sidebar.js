"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _everMo = require("@ali/4ever-mo");

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _everComponent = require("@ali/4ever-component");

const _createElement = /*#__PURE__*/React.createElement;

const SidebarBox = /*#__PURE__*/_styledComponents.default.div(["height:100%;"]);

const SidebarItemsBox = /*#__PURE__*/_styledComponents.default.div(["margin-bottom:60px;"]);

const TipBox = /*#__PURE__*/_styledComponents.default.div(["height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:14px;"]);

const IconBox = /*#__PURE__*/_styledComponents.default.div(["height:100px;"]);

var _ref = /*#__PURE__*/_createElement(IconBox, null, /*#__PURE__*/_createElement("img", {
  src: "https://img.alicdn.com/imgextra/i4/O1CN01wWQTqW1RcV9LQrOlh_!!6000000002132-2-tps-540-540.png",
  width: 100
}));

const Sidebar = props => {
  const {
    controller,
    locale
  } = props;
  const {
    document,
    selection
  } = controller.value;
  const layout = controller.query('getImageSidebarLayout') || [];
  const focusNode = React.useMemo(() => {
    const {
      isCollapsed,
      focus
    } = selection;

    if (isCollapsed) {
      const node = document.getClosestVoid(focus.key, controller);
      return _everMo.Image.isImage(node) ? node : null;
    }

    return null;
  }, [controller, document, selection]);

  if (!focusNode) {
    return /*#__PURE__*/_createElement(SidebarBox, null, /*#__PURE__*/_createElement(TipBox, null, _ref, locale.selectImageTip));
  }

  return /*#__PURE__*/_createElement(SidebarItemsBox, null, /*#__PURE__*/_createElement(_everComponent.SidebarItems, {
    layout: layout
  }));
};

Sidebar.displayName = 'Sidebar';
var _default = Sidebar;
exports.default = _default;
//# sourceMappingURL=Sidebar.js.map