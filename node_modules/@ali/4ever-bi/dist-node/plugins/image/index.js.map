{"version":3,"sources":["../../../../src/plugins/image/index.ts"],"names":["state","createImagePlugin","config","imageConfig","image","sidebar","toolbar","menubar","contextMenu","sideBarTrigger","renderNode","renderEditable","renderToolbar","locale","renderHoverToolbar","commands","insertImage","insertImageFile","queries","actions","onCommand","onAction","onQuery","onCangjiePaste","onCangjieInput","onDrop","onKeyDown","quickInsert","models","klass","type","DEPRECATED_ACTIONS","utils"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEA,MAAMA,KAAK,GAAG,EAAd;;AAMA,SAASC,iBAAT,CAA2BC,MAA3B,EAA6D;AAC3D,QAAMC,WAAW,GAAID,MAAM,CAACE,KAAP,IAAgB,EAArC;AACA,SAAO,EACL,GAAG,gCAAU,EAAV,CADE;AAELC,IAAAA,OAAO,EAAE,sBAAQH,MAAR,CAFJ;AAGLI,IAAAA,OAAO,EAAE,sBAAQH,WAAR,CAHJ;AAILI,IAAAA,OAAO,EAAE,sBAAQJ,WAAR,CAJJ;AAKLK,IAAAA,WAAW,EAAE,gCAAkBL,WAAlB,EAA+BD,MAAM,CAACO,cAAtC,CALR;AAMLC,IAAAA,UAAU,EAAE,+BAAiBP,WAAjB,EAA8BH,KAA9B,CANP;AAOLW,IAAAA,cAAc,EAAE,mCAAqBR,WAArB,CAPX;AAQLS,IAAAA,aAAa,EAAE,kCAAoBT,WAAW,CAACU,MAAZ,IAAsB,EAA1C,CARV;AASLC,IAAAA,kBAAkB,EAAE,uCAAyBX,WAAzB,CATf;AAULY,IAAAA,QAAQ,EAAE;AACRC,MAAAA,WAAW,EAAXA,oBADQ;AAER;AACAC,MAAAA,eAAe,EAAE,8BAAgBd,WAAhB,EAA6BH,KAA7B;AAHT,KAVL;AAeLkB,IAAAA,OAAO,EAAPA,gBAfK;AAgBLC,IAAAA,OAAO,EAAPA,gBAhBK;AAiBLC,IAAAA,SAAS,EAAE,wBAAgBlB,MAAhB,EAAwBF,KAAxB,CAjBN;AAkBLqB,IAAAA,QAAQ,EAAE,uBAASnB,MAAT,CAlBL;AAmBLoB,IAAAA,OAAO,EAAE,sBAAQnB,WAAR,CAnBJ;AAoBLoB,IAAAA,cAAc,EAAE,6BAAerB,MAAf,EAAuBF,KAAvB,CApBX;AAqBLwB,IAAAA,cAAc,EAAE,6BAAqBrB,WAArB,EAAkCH,KAAlC,CArBX;AAsBLyB,IAAAA,MAAM,EAAE,qBAAOtB,WAAP,EAAoBH,KAApB,CAtBH;AAuBL0B,IAAAA,SAAS,EAATA,kBAvBK;AAwBLC,IAAAA,WAAW,EAAXA,0BAxBK;AAyBLC,IAAAA,MAAM,EAAE;AACNC,MAAAA,KAAK,EAAE,QADD;AAENC,MAAAA,IAAI,EAAE;AAFA;AAzBH,GAAP;AA8BD;;AAED7B,iBAAiB,CAACkB,OAAlB,GAA4BY,2BAA5B;AACA9B,iBAAiB,CAAC+B,KAAlB,GAA0BA,KAA1B;eACe/B,iB","sourcesContent":["import toolbar from './toolbar';\nimport menubar from './menubar';\nimport sidebar from './sidebar';\nimport createRenderNode from './createRenderNode';\nimport createRenderEditable from './createRenderEditable';\nimport { DEPRECATED_ACTIONS, actions } from './actions';\nimport insertImage from './commands/insertImage';\nimport onAction from './handlers/onAction';\nimport onQuery from './handlers/onQuery';\nimport onDrop from './handlers/onDrop';\nimport onCangjiePaste from './handlers/onCangjiePaste';\nimport quickInsert from './quickInsertConfig';\nimport insertImageFile from './commands/insertImageFile';\nimport { BiPluginConfig, BiPlugin } from '../../types';\nimport createOnCommand from './handlers/onCommand';\nimport createContextMenu from './handlers/createContextMenu';\nimport createRenderHoverToolbar from './createRenderHoverToolbar';\nimport createOnCangjieInput from './handlers/onCangjieInput';\nimport onKeyDown from './handlers/onKeyDown';\nimport * as utils from './utils';\nimport { queries } from './queries';\nimport createRenderToolbar from './createRenderToolbar';\nimport type { ImagePluginConfig } from './types';\nimport { moFactory } from '@ali/4ever-plugin-image';\n\nconst state = {};\n\nexport {\n  DEPRECATED_ACTIONS as actions,\n};\n\nfunction createImagePlugin(config: BiPluginConfig): BiPlugin {\n  const imageConfig = (config.image || {}) as ImagePluginConfig;\n  return {\n    ...moFactory({}),\n    sidebar: sidebar(config),\n    toolbar: toolbar(imageConfig),\n    menubar: menubar(imageConfig),\n    contextMenu: createContextMenu(imageConfig, config.sideBarTrigger),\n    renderNode: createRenderNode(imageConfig, state),\n    renderEditable: createRenderEditable(imageConfig),\n    renderToolbar: createRenderToolbar(imageConfig.locale || {}),\n    renderHoverToolbar: createRenderHoverToolbar(imageConfig),\n    commands: {\n      insertImage,\n      // @ts-ignore\n      insertImageFile: insertImageFile(imageConfig, state),\n    },\n    queries,\n    actions,\n    onCommand: createOnCommand(config, state),\n    onAction: onAction(config),\n    onQuery: onQuery(imageConfig),\n    onCangjiePaste: onCangjiePaste(config, state),\n    onCangjieInput: createOnCangjieInput(imageConfig, state),\n    onDrop: onDrop(imageConfig, state),\n    onKeyDown,\n    quickInsert,\n    models: {\n      klass: 'inline',\n      type: 'image',\n    },\n  };\n}\n\ncreateImagePlugin.actions = DEPRECATED_ACTIONS;\ncreateImagePlugin.utils = utils;\nexport default createImagePlugin;\nexport type { ImagePluginConfig };\n"],"file":"index.js"}