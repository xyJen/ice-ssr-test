{"version":3,"sources":["../../../../../src/plugins/image/handlers/onCangjiePaste.ts"],"names":["createOnCangjiePaste","config","state","imageConfig","image","onCangjiePaste","event","controller","next","clipboardData","query","files","getImages","length"],"mappings":";;;;;;;;;AACA;;AAIe,SAASA,oBAAT,CACbC,MADa,EAEbC,KAFa,EAGb;AACA,QAAMC,WAAW,GAAGF,MAAM,CAACG,KAAP,IAAgB,EAApC;AAEA,SAAO,SAASC,cAAT,CACLC,KADK,EAELC,UAFK,EAGLC,IAHK,EAIL;AACA,UAAMC,aAAa,GAAGF,UAAU,CAACG,KAAX,CAAiB,kBAAjB,EAAqCJ,KAArC,CAAtB;AACA,UAAMK,KAAK,GAAGF,aAAa,EAAEG,SAAf,EAAd;;AACA,QAAID,KAAK,IAAIA,KAAK,CAACE,MAAN,IAAgB,CAA7B,EAAgC;AAC9B,aAAO,4BAAcN,UAAd,EAA0BI,KAA1B,EAAiCR,WAAjC,EAA8CD,KAA9C,CAAP;AACD;;AACD,WAAOM,IAAI,EAAX;AACD,GAXD;AAYD","sourcesContent":["import { Controller, CangjieClipboardEvent } from '@ali/4ever-cangjie';\nimport onInsertImage from './onInsertImage';\nimport { BiPluginConfig } from '../../../types';\nimport { ImageState } from '../types';\n\nexport default function createOnCangjiePaste(\n  config: BiPluginConfig,\n  state: ImageState,\n) {\n  const imageConfig = config.image || {};\n\n  return function onCangjiePaste(\n    event: CangjieClipboardEvent,\n    controller: Controller,\n    next: Function,\n  ) {\n    const clipboardData = controller.query('getClipboardData', event);\n    const files = clipboardData?.getImages();\n    if (files && files.length >= 1) {\n      return onInsertImage(controller, files, imageConfig, state);\n    }\n    return next();\n  };\n}\n"],"file":"onCangjiePaste.js"}