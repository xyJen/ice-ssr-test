"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = insertImage;

var _everCangjie = require("@ali/4ever-cangjie");

var _everUtils = require("@ali/4ever-utils");

function insertImage(controller, maybeImages) {
  if (controller.query('isCollapsedInBlockVoid')) {
    controller.command(_everCangjie.Commands.insertBlock, 'paragraph');
  }

  const images = Array.isArray(maybeImages) ? maybeImages : [maybeImages];
  images.forEach(image => {
    controller.command(_everCangjie.Commands.insertInline, {
      type: 'image',
      data: {
        id: (0, _everUtils.generateKey)(),
        name: '',
        src: image.src,
        width: image.width,
        height: image.height,
        extraData: image.extraData
      }
    }).command(_everCangjie.Commands.moveToStartOfNextText).command(_everCangjie.Commands.insertText, ' ');
  });
  return controller.command(_everCangjie.Commands.focus);
}
//# sourceMappingURL=insertImage.js.map