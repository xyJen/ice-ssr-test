{"version":3,"sources":["../../../../src/plugins/columns/toolbar.ts"],"names":["toolbar","buttons","locale","getTarget","controller","document","selection","value","anchor","focus","anchorParent","getFurthsest","key","Table","isTable","focusParent","data","sr"],"mappings":";;;;;;;AACA;;AAEe,SAASA,OAAT,GAAmB;AAChC,SAAO;AACLC,IAAAA,OAAO,EAAE,EADJ;AAELC,IAAAA,MAAM,EAAE,EAFH;;AAGLC,IAAAA,SAAS,CAACC,UAAD,EAAyB;AAChC,YAAM;AAAEC,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAA0BF,UAAU,CAACG,KAA3C;AACA,YAAM;AAAEC,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAoBH,SAA1B;AACA,YAAMI,YAAY,GAAGL,QAAQ,CAACM,YAAT,CAAsBH,MAAM,CAACI,GAA7B,EAAkCC,cAAMC,OAAxC,CAArB;AAGA,YAAMC,WAAW,GAAGV,QAAQ,CAACM,YAAT,CAAsBF,KAAK,CAACG,GAA5B,EAAiCC,cAAMC,OAAvC,CAApB;;AAGA,UACEJ,YAAY,IACZA,YAAY,KAAKK,WADjB,IAEAL,YAAY,CAACM,IAAb,CAAkBC,EAHpB,EAIE;AACA,eAAO,SAAP;AACD;;AACD,aAAO,EAAP;AACD;;AApBI,GAAP;AAsBD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { Table } from '@ali/4ever-mo';\n\nexport default function toolbar() {\n  return {\n    buttons: {},\n    locale: {},\n    getTarget(controller: Controller) {\n      const { document, selection } = controller.value;\n      const { anchor, focus } = selection;\n      const anchorParent = document.getFurthsest(anchor.key, Table.isTable) as\n        | Table\n        | undefined;\n      const focusParent = document.getFurthsest(focus.key, Table.isTable) as\n        | Table\n        | undefined;\n      if (\n        anchorParent &&\n        anchorParent === focusParent &&\n        anchorParent.data.sr\n      ) {\n        return 'columns';\n      }\n      return '';\n    },\n  };\n}\n"],"file":"toolbar.js"}