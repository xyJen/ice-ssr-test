{"version":3,"sources":["../../../../../src/plugins/sticker/commands/setRange.ts"],"names":["setRange","controller","payload","document","value","range","trigger","getTargetMethod","moveMethod","MOVE_SET","maybeSticker","getParent","anchor","key","sideNode","newRange","command","Commands","select"],"mappings":";;;;;;;AAAA;;AAEA;;AAEe,SAASA,QAAT,CACbC,UADa,EAEbC,OAFa,EAGb;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAeF,UAAU,CAACG,KAAhC;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAqBJ,OAA3B;AACA,QAAM;AAAEK,IAAAA,eAAF;AAAmBC,IAAAA;AAAnB,MAAkCC,oBAASH,OAAT,CAAxC;AACA,QAAMI,YAAY,GAAGP,QAAQ,CAACQ,SAAT,CAAmBN,KAAK,CAACO,MAAN,CAAaC,GAAhC,CAArB;AACA,QAAMC,QAAQ,GAAGX,QAAQ,CAACI,eAAD,CAAR,CAA0BG,YAAY,CAACG,GAAvC,CAAjB;AACA,QAAME,QAAQ,GAAGV,KAAK,CAACG,UAAD,CAAL,CAAkBM,QAAlB,EAA4Bb,UAA5B,CAAjB;AACA,SAAOA,UAAU,CAACe,OAAX,CAAmBC,sBAASC,MAA5B,EAAoCH,QAApC,CAAP;AACD","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\nimport { SetRangeProps } from '../types';\nimport { MOVE_SET } from '../constants';\n\nexport default function setRange(\n  controller: Controller,\n  payload: SetRangeProps,\n) {\n  const { document } = controller.value;\n  const { range, trigger } = payload;\n  const { getTargetMethod, moveMethod } = MOVE_SET[trigger];\n  const maybeSticker = document.getParent(range.anchor.key);\n  const sideNode = document[getTargetMethod](maybeSticker.key);\n  const newRange = range[moveMethod](sideNode, controller);\n  return controller.command(Commands.select, newRange);\n}\n"],"file":"setRange.js"}