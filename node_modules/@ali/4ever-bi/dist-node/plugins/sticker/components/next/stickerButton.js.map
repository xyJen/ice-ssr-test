{"version":3,"sources":["../../../../../../src/plugins/sticker/components/next/stickerButton.tsx"],"names":["createStickerButton","props","controller","locale","icon","title","tooltip","badgeDot","disabled","handleClick","run","STICKER_PLACEHOLDER_DATA","visible","isDisabled","query","buttonConfig","onClick","quickInsertTitle","testid"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;uBAH4B,a;;wBA2BV,eAAC,wBAAD,O;;AAhBH,SAASA,mBAAT,CAA6BC,KAA7B,EAAsE;AACnF,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,MAAM,GAAG,EAAvB;AAA2BC,IAAAA,IAA3B;AAAiCC,IAAAA,KAAjC;AAAwCC,IAAAA,OAAxC;AAAiDC,IAAAA,QAAjD;AAA2DC,IAAAA;AAA3D,MAAwEP,KAA9E;;AAEA,QAAMQ,WAAW,GAAG,MAAM;AACxBP,IAAAA,UAAU,CAACQ,GAAX,CAAe,UAAf,EAA2B,4BAAcC,mCAAd,CAA3B;AACAT,IAAAA,UAAU,CAACQ,GAAX,CACE,UADF,EAEE,qCAAuB;AACrBE,MAAAA,OAAO,EAAE;AADY,KAAvB,CAFF;AAMD,GARD;;AAUA,QAAMC,UAAU,GAAGL,QAAQ,IAAIN,UAAU,CAACY,KAAX,CAAiB,kBAAjB,CAAZ,IAAoDZ,UAAU,CAACY,KAAX,CAAiB,oBAAjB,CAApD,IAA8FZ,UAAU,CAACY,KAAX,CAAiB,uBAAjB,CAAjH;AAEA,QAAMC,YAA0B,GAAI;AAClCX,IAAAA,IAAI,EAAEA,IAAI,QADwB;AAElCY,IAAAA,OAAO,EAAEP,WAFyB;AAGlCJ,IAAAA,KAAK,EAAEA,KAAK,IAAIF,MAAM,EAAEc,gBAHU;AAIlCX,IAAAA,OAAO,EAAE;AACPD,MAAAA,KAAK,EAAEA,KAAK,IAAIF,MAAM,EAAEc,gBADjB;AAEP,SAAGX;AAFI,KAJyB;AAQlCC,IAAAA,QARkC;AASlCC,IAAAA,QAAQ,EAAEK,UATwB;AAUlCK,IAAAA,MAAM,EAAE;AAV0B,GAApC;AAaA,SAAOH,YAAP;AAED","sourcesContent":["import React, { useCallback } from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { insertSticker, setStickerPanelVisible } from '../../actions';\nimport { STICKER_PLACEHOLDER_DATA } from '../../constants';\nimport { IBasicButton, IToolbarButtonConfig, IconEmoji } from '@ali/4ever-component';\n\n\nexport interface StickerButtonProps extends IToolbarButtonConfig {\n  controller: Controller;\n  locale?: Record<string, string>;\n}\n\nexport default function createStickerButton(props: StickerButtonProps): IBasicButton {\n  const { controller, locale = {}, icon, title, tooltip, badgeDot, disabled } = props;\n\n  const handleClick = () => {\n    controller.run('onAction', insertSticker(STICKER_PLACEHOLDER_DATA));\n    controller.run(\n      'onAction',\n      setStickerPanelVisible({\n        visible: true,\n      }),\n    );\n  };\n\n  const isDisabled = disabled || controller.query('isDisableSticker') || controller.query('isSelectionInImage') || controller.query('isSelectionInLinkCard');\n\n  const buttonConfig: IBasicButton = ({\n    icon: icon || <IconEmoji />,\n    onClick: handleClick,\n    title: title || locale?.quickInsertTitle,\n    tooltip: {\n      title: title || locale?.quickInsertTitle,\n      ...tooltip,\n    },\n    badgeDot,\n    disabled: isDisabled,\n    testid: \"bi-toolbar-sticker\"\n  });\n\n  return buttonConfig;\n\n}\n"],"file":"stickerButton.js"}