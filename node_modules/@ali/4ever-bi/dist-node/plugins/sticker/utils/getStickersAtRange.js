"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getStickersAtRange;

var _everMo = require("@ali/4ever-mo");

var _everUtils = require("@ali/4ever-utils");

/**
 * @description 获取选区内的 sticker 节点
 * @param {controller}
 * */
function getStickersAtRange(controller) {
  const {
    value
  } = controller;
  const ranges = (0, _everUtils.getRangesFromEditor)(controller);
  const inlines = ranges.reduce((pre, range) => {
    const rangeInlines = value.document.getLeafInlinesAtRange(range);
    Array.prototype.push.apply(pre, rangeInlines);
    return pre;
  }, []);
  return inlines.filter(inline => inline.type === _everMo.Sticker.TYPE);
}
//# sourceMappingURL=getStickersAtRange.js.map