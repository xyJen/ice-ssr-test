"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getMarksAtAnchor;

var _everCangjie = require("@ali/4ever-cangjie");

var _everMo = require("@ali/4ever-mo");

/**
 * @description 继承粘贴时光标所在位置 startBlock的style及type
 * @param {controller}
 * */
function getMarksAtAnchor(controller) {
  const {
    document,
    selection
  } = controller.value;
  const {
    anchor
  } = selection;
  const anchorNode = document.getNode(anchor.key);
  const marks = _everCangjie.Text.isText(anchorNode) ? anchorNode.getMarks() : [];
  return [...marks, _everCangjie.Mark.create({
    type: _everMo.SzMark.TYPE,
    data: {
      value: controller.query('getSize'),
      szUnit: 'pt'
    }
  }), _everCangjie.Mark.create({
    type: _everMo.HighlightMark.TYPE,
    data: {
      value: controller.query('getHighlight')
    }
  })];
}
//# sourceMappingURL=getMarksAtAnchor.js.map