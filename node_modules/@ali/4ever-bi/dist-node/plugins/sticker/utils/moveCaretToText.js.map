{"version":3,"sources":["../../../../../src/plugins/sticker/utils/moveCaretToText.ts"],"names":["moveCaretToText","controller","offset","cb","document","selection","value","anchor","parent","getParent","key","type","STICKER_NODE_TYPE","run"],"mappings":";;;;;;;AACA;;AACA;;AAQA;AACA;AACA;AACA;AACe,SAASA,eAAT,CAAyB;AACtCC,EAAAA,UADsC;AAEtCC,EAAAA,MAFsC;AAGtCC,EAAAA;AAHsC,CAAzB,EAIM;AACnB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA0BJ,UAAU,CAACK,KAA3C;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAaF,SAAnB;AACA,QAAMG,MAAM,GAAGJ,QAAQ,CAACK,SAAT,CAAmBF,MAAM,CAACG,GAA1B,CAAf;AACA,MAAIF,MAAM,EAAEG,IAAR,KAAiBC,4BAArB,EAAwC;;AACxC,MAAIT,EAAJ,EAAQ;AACNA,IAAAA,EAAE;AACH,GAFD,MAEO;AACLF,IAAAA,UAAU,CAACY,GAAX,CAAe,UAAf,EAA2B,wBAAU;AAAEX,MAAAA;AAAF,KAAV,CAA3B;AACD;AACF","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { moveCaret } from '../actions';\nimport { STICKER_NODE_TYPE } from '../constants';\n\ninterface IMoveCaretToText {\n  controller: Controller;\n  offset?: 1 | -1;\n  cb?: Function;\n}\n\n/**\n * @description sticker 为选中态时，根据实际场景移动光标至节点左侧或右侧\n * @param offset 光标移动偏移量\n * */\nexport default function moveCaretToText({\n  controller,\n  offset,\n  cb,\n}: IMoveCaretToText) {\n  const { document, selection } = controller.value;\n  const { anchor } = selection;\n  const parent = document.getParent(anchor.key);\n  if (parent?.type !== STICKER_NODE_TYPE) return;\n  if (cb) {\n    cb();\n  } else {\n    controller.run('onAction', moveCaret({ offset }));\n  }\n}\n"],"file":"moveCaretToText.js"}