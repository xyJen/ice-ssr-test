"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everCangjie = require("@ali/4ever-cangjie");

var _v = _interopRequireDefault(require("uuid/v4"));

var _default = state => editor => {
  if (editor.query('isCollapsedInBlockVoid')) {
    editor.command(_everCangjie.Commands.insertBlock, 'paragraph');
  }

  if (editor.query('isCollapsedInInlineVoid')) {
    editor.command(_everCangjie.Commands.moveToStartOfNextText);
  }

  const id = (0, _v.default)();
  editor.command(_everCangjie.Commands.focus).command(_everCangjie.Commands.insertBlock, {
    type: 'onlineVideo',
    data: {
      id
    }
  }).command(_everCangjie.Commands.insertBlock, 'paragraph').command(_everCangjie.Commands.blur);
  state[id] = true;
  return editor;
};

exports.default = _default;
//# sourceMappingURL=insertOnlineVideo.js.map