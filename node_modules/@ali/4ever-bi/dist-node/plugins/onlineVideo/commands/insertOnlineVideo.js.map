{"version":3,"sources":["../../../../../src/plugins/onlineVideo/commands/insertOnlineVideo.ts"],"names":["state","editor","query","command","Commands","insertBlock","moveToStartOfNextText","id","focus","type","data","blur"],"mappings":";;;;;;;;;AAAA;;AACA;;eAGgBA,KAAD,IAAqCC,MAAD,IAAwB;AACzE,MAAIA,MAAM,CAACC,KAAP,CAAa,wBAAb,CAAJ,EAA4C;AAC1CD,IAAAA,MAAM,CAACE,OAAP,CAAeC,sBAASC,WAAxB,EAAqC,WAArC;AACD;;AACD,MAAIJ,MAAM,CAACC,KAAP,CAAa,yBAAb,CAAJ,EAA6C;AAC3CD,IAAAA,MAAM,CAACE,OAAP,CAAeC,sBAASE,qBAAxB;AACD;;AAED,QAAMC,EAAE,GAAG,iBAAX;AACAN,EAAAA,MAAM,CACHE,OADH,CACWC,sBAASI,KADpB,EAEGL,OAFH,CAEWC,sBAASC,WAFpB,EAEiC;AAC7BI,IAAAA,IAAI,EAAE,aADuB;AAE7BC,IAAAA,IAAI,EAAE;AACJH,MAAAA;AADI;AAFuB,GAFjC,EAQGJ,OARH,CAQWC,sBAASC,WARpB,EAQiC,WARjC,EASGF,OATH,CASWC,sBAASO,IATpB;AAWAX,EAAAA,KAAK,CAACO,EAAD,CAAL,GAAY,IAAZ;AAEA,SAAON,MAAP;AACD,C","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\nimport uuid from 'uuid/v4';\n\n\nexport default (state: Record<string, boolean>) => (editor: Controller) => {\n  if (editor.query('isCollapsedInBlockVoid')) {\n    editor.command(Commands.insertBlock, 'paragraph');\n  }\n  if (editor.query('isCollapsedInInlineVoid')) {\n    editor.command(Commands.moveToStartOfNextText);\n  }\n\n  const id = uuid();\n  editor\n    .command(Commands.focus)\n    .command(Commands.insertBlock, {\n      type: 'onlineVideo',\n      data: {\n        id,\n      },\n    })\n    .command(Commands.insertBlock, 'paragraph')\n    .command(Commands.blur);\n\n  state[id] = true;\n\n  return editor;\n};\n"],"file":"insertOnlineVideo.js"}