{"version":3,"sources":["../../../../src/plugins/listGroup/index.ts"],"names":["DRAG_BUTTON_OFFSET","createRenderNode","createGroupNodes","BambooListGroup","handlers","isFoldGroupNode","utils","ListGroupPlugin","config","listGroup","groupType","renderNode","groupNodes","queries","isListGroupAvailable","ignore","getLeftToolbarOffset","controller","data","node","list","level","x","y","undefined"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA,MAAMA,kBAAkB,GAAG,CAAC,EAA5B;AACA,MAAM;AAAEC,EAAAA,gBAAF;AAAoBC,EAAAA;AAApB,IAAyCC,4BAAgBC,QAA/D;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAsBF,4BAAgBG,KAA5C;AAEA,MAAMC,eAAe,GAAG,+BAAcC,MAAD,IAA4B;AAC/D,QAAM;AAAEC,IAAAA,SAAS,GAAG;AAAd,MAAqBD,MAA3B;AACA,SAAO;AACLE,IAAAA,SAAS,EAAE,WADN;AAELC,IAAAA,UAAU,EAAEV,gBAAgB,CAACQ,SAAD,CAFvB;AAGLG,IAAAA,UAAU,EAAEV,gBAAgB,CAACO,SAAD,CAHvB;AAILI,IAAAA,OAAO,EAAE;AACPC,MAAAA,oBAAoB,EAAE,MACpBL,SAAS,CAACM,MAAV,GAAmB,CAACN,SAAS,CAACM,MAAV,EAApB,GAAyC,IAFpC;AAGPC,MAAAA,oBAAoB,EAAE,CAACC,UAAD,EAAaC,IAAb,KAAsB;AAC1C,cAAM;AAAEC,UAAAA;AAAF,YAAWD,IAAjB;;AACA,YACEC,IAAI,EAAED,IAAN,EAAYE,IAAZ,EAAkBC,KAAlB,KAA4B,CAA5B,IACAhB,eAAe,CAACc,IAAD,EAAOF,UAAP,CAFjB,EAGE;AACA,iBAAO;AACL;AACAK,YAAAA,CAAC,EAAEtB,kBAAkB,GAAG,CAFnB;AAGLuB,YAAAA,CAAC,EAAE;AAHE,WAAP;AAKD;;AACD,eAAOC,SAAP;AACD;AAhBM;AAJJ,GAAP;AAuBD,CAzBuB,CAAxB;eA2BejB,e","sourcesContent":["import { ListGroupPlugin as BambooListGroup } from '@ali/4ever-bamboo';\nimport { IsDataChangeAffectParentQueryParams } from '@ali/4ever-cangjie';\nimport { isListNode } from '@ali/4ever-utils';\nimport { BiPluginConfig } from '../../types';\nimport { groupFactory } from '@ali/4ever-factory';\n\nconst DRAG_BUTTON_OFFSET = -20;\nconst { createRenderNode, createGroupNodes } = BambooListGroup.handlers;\nconst { isFoldGroupNode } = BambooListGroup.utils;\n\nconst ListGroupPlugin = groupFactory((config: BiPluginConfig) => {\n  const { listGroup = {} } = config;\n  return {\n    groupType: 'listGroup',\n    renderNode: createRenderNode(listGroup),\n    groupNodes: createGroupNodes(listGroup),\n    queries: {\n      isListGroupAvailable: () =>\n        listGroup.ignore ? !listGroup.ignore() : true,\n      getLeftToolbarOffset: (controller, data) => {\n        const { node } = data;\n        if (\n          node?.data?.list?.level === 0 &&\n          isFoldGroupNode(node, controller)\n        ) {\n          return {\n            // 这里加上4是因为左侧工具栏的offset为6，但是在标题场景下是2\n            x: DRAG_BUTTON_OFFSET + 4,\n            y: 0,\n          };\n        }\n        return undefined;\n      },\n    },\n  };\n});\n\nexport default ListGroupPlugin;\n"],"file":"index.js"}