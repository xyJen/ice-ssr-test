"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _everCangjie = require("@ali/4ever-cangjie");

const icon = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAFV3XwhAAAAAXNSR0IArs4c6QAAAPBJREFUOBGNk80NwjAMhV0EJxiBERmEiVgBtkDiwA0uiAM/At4X7CitmraWXmI7z47tNmZmZ6Ff6idvBYBmrmXt0ehP4Yu9ZAlppOBlJyxJooUxk3Jw4xFO9kyXTkSJhnxI5P5b/zWnp6w++bgzkthWDjAoNBsNU2hZT76yzHCRQROBm/QXhIhED4Ec/mM4u3vrGgY3KpB2jkEynUHc+x6dEnQVmFkNd52lWeaBykGtpS0z/SMLlBE5leetpsuDCXoad/CmJKpyJk3bb4rfmCdRFQbMbeWgu2QGDqe3KirinW6Ele+1dwuXj9H9IHKZ/QDGCkHllFqj6gAAAABJRU5ErkJggg==';

const FormatPainterWrapper = props => {
  const {
    controller,
    children,
    onDocStyleChange
  } = props;
  const {
    value
  } = controller;
  const zoomContainer = (0, _everCangjie.useZoomContainer)();
  const docStyle = (0, _everCangjie.useStyle)();
  const isFormatPainterActive = React.useMemo(() => {
    const {
      formatClipboard
    } = value.data;
    return formatClipboard && formatClipboard.trigger === 'toolbar';
  }, [value]);
  const prevCursor = React.useRef(null);
  React.useEffect(() => {
    if (!zoomContainer) {
      return;
    }

    if (isFormatPainterActive) {
      prevCursor.current = zoomContainer.style.cursor;
      zoomContainer.style.cursor = `url(${icon}),text`;
    } else if (prevCursor.current !== null) {
      zoomContainer.style.cursor = prevCursor.current;
    }
  }, [zoomContainer, isFormatPainterActive]);
  React.useEffect(() => {
    onDocStyleChange && onDocStyleChange(docStyle);
  }, [docStyle, onDocStyleChange]);
  return children;
};

FormatPainterWrapper.displayName = 'FormatPainterWrapper';
var _default = FormatPainterWrapper;
exports.default = _default;
//# sourceMappingURL=formatPainterWrapper.js.map