"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = onPasteFormat;

var _pasteFormatAtRange = _interopRequireDefault(require("../commands/pasteFormatAtRange"));

function onPasteFormat(event, controller, next) {
  const value = controller.value;
  const tableSelection = controller.query('hasTableSelection');

  if (tableSelection) {
    return next();
  }

  const formatClipboard = value.data.formatClipboard;

  if (!formatClipboard || formatClipboard.trigger !== 'keyboard') {
    return next();
  }

  event.preventDefault();
  const {
    selection,
    startBlock
  } = value;
  const targetRange = selection.isCollapsed && startBlock ? selection.moveToRangeOfNode(startBlock, controller) : selection;
  return (0, _pasteFormatAtRange.default)(controller, targetRange);
}
//# sourceMappingURL=onPasteFormat.js.map