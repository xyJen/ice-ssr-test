"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = onKeyDown;

var _isHotkey = require("is-hotkey");

var _increaseIndent = _interopRequireDefault(require("../commands/increaseIndent"));

var _decreaseIndent = _interopRequireDefault(require("../commands/decreaseIndent"));

var _onTab = _interopRequireDefault(require("./onTab"));

var _onDelete = _interopRequireDefault(require("./onDelete"));

var _utils = require("../utils");

const isTabHotKey = (0, _isHotkey.isKeyHotkey)('shift?+tab');
const isBackspaceHotKey = (0, _isHotkey.isKeyHotkey)('backspace');
const isDeleteHotKey = (0, _isHotkey.isKeyHotkey)('delete');
const isIncreaseHotKey = (0, _isHotkey.isKeyHotkey)('mod+]');
const isDecreaseHotKey = (0, _isHotkey.isKeyHotkey)('mod+[');

function onKeyDown(event, editor, next) {
  if (isTabHotKey(event)) {
    return (0, _onTab.default)(event, editor, next);
  }

  if (isBackspaceHotKey(event) || isDeleteHotKey(event)) {
    return (0, _onDelete.default)(event, editor, next);
  }

  if (isIncreaseHotKey(event)) {
    event.preventDefault();
    return (0, _increaseIndent.default)(editor, _utils.IndentTrigger.toolbar);
  }

  if (isDecreaseHotKey(event)) {
    event.preventDefault();
    return (0, _decreaseIndent.default)(editor, _utils.IndentTrigger.toolbar);
  }

  return next();
}
//# sourceMappingURL=onKeyDown.js.map