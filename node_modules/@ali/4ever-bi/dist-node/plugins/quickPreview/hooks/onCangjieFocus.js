"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = onCangjieFocus;

var _findNativeTextArea = _interopRequireDefault(require("../utils/findNativeTextArea"));

function onCangjieFocus(controller, next) {
  const isPreviewing = controller.query('isQuickPreview');

  if (isPreviewing && controller.value.isBlurred) {
    // 额外调用一次 native blur 事件，避免键盘弹出、数据没有 focus 的情形
    const textArea = (0, _findNativeTextArea.default)(controller);

    if (textArea?.blur) {
      textArea.blur();
    }

    return controller;
  }

  return next();
}
//# sourceMappingURL=onCangjieFocus.js.map