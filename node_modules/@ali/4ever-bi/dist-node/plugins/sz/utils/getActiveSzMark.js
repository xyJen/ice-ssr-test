"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getActiveSzMark;

var _everCangjie = require("@ali/4ever-cangjie");

var _getDefaultSz = _interopRequireDefault(require("./getDefaultSz"));

function createEmptySzMarkHandler(defaultSz) {
  return function emptySzMarkHandler(controller, text) {
    const {
      document,
      startText
    } = controller.value;
    const key = text?.key || startText?.key;
    const sz = (0, _getDefaultSz.default)(document, key, defaultSz);
    return [_everCangjie.Mark.create({
      type: 'sz',
      data: {
        value: sz,
        szUnit: 'pt'
      }
    })];
  };
}

function getActiveSzMark(controller, defaultSz) {
  return controller.query('getActiveMark', 'sz', createEmptySzMarkHandler(defaultSz));
}
//# sourceMappingURL=getActiveSzMark.js.map