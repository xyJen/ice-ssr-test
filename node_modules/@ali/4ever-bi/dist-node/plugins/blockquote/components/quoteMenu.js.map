{"version":3,"sources":["../../../../../src/plugins/blockquote/components/quoteMenu.tsx"],"names":["withBlockquoteMenu","Component","BlockquoteMenu","props","menuItem","controller","value","action","title","rest","isDisabled","query","handleClick","run","PluginRoles","paragraph","menu","MenuItem","inlineMenu","InlineMenuItem"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;uBAJ4B,a;;AAM5B;AACA,SAASA,kBAAT,CAA4BC,SAA5B,EAAsD;AACpD,SAAO,SAASC,cAAT,CAAwBC,KAAxB,EAAmD;AACxD,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAA2BF,KAAjC;AACA,UAAM;AAAEG,MAAAA;AAAF,QAAYD,UAAlB;AACA,UAAM;AAAEE,MAAAA,MAAF;AAAUC,MAAAA,KAAV;AAAiB,SAAGC;AAApB,QAA6BL,QAAnC;AAEA,UAAMM,UAAU,GAAG,mCAAqBL,UAArB,KAAoCA,UAAU,CAACM,KAAX,CAAiB,6BAAjB,CAAvD;;AACA,UAAMC,WAAW,GAAG,MAAM;AACxB;AACA;AACA;AACA;AACAP,MAAAA,UAAU,CAACQ,GAAX,CAAe,UAAf,EAA2B,gCAA3B;AACD,KAND;;AAQA,wBACE,eAAC,SAAD;AAAW,MAAA,QAAQ,EAAEH;AAArB,OAAqCD,IAArC;AAA2C,MAAA,OAAO,EAAEG,WAApD;AAAiE,MAAA,IAAI,EAAEE,wBAAYC;AAAnF,QACGP,KADH,CADF;AAKD,GAnBD;AAoBD;;AAEM,MAAMQ,IAAI,GAAGhB,kBAAkB,CAACiB,kBAAD,CAA/B;;AAEA,MAAMC,UAAU,GAAGlB,kBAAkB,CAACmB,wBAAD,CAArC","sourcesContent":["import * as React from 'react';\nimport { MenuItem, InlineMenuItem } from '@ali/we-design';\nimport { PluginRoles } from '@ali/4ever-bamboo';\nimport { MenuItemInnerProps } from '@ali/4ever-component';\nimport { toggleBlockquote } from '../actions';\nimport isBlockquoteDisabled from '../utils/isBlockquoteDisabled';\n\n// 目前 menu 不支持样式上的禁用，待统一调整\nfunction withBlockquoteMenu(Component: React.FC<any>) {\n  return function BlockquoteMenu(props: MenuItemInnerProps) {\n    const { menuItem, controller } = props;\n    const { value } = controller;\n    const { action, title, ...rest } = menuItem;\n\n    const isDisabled = isBlockquoteDisabled(controller) || controller.query('isSelectionInSubjectHeading');\n    const handleClick = () => {\n      // 转换逻辑不再是单向强制转换了，不再使用，避免以后逻辑更改暂时保留注释\n      // if (action === 'format') {\n      //   return controller.run('onAction', transformBlockquote());\n      // }\n      controller.run('onAction', toggleBlockquote());\n    };\n\n    return (\n      <Component disabled={isDisabled} {...rest} onClick={handleClick} role={PluginRoles.paragraph}>\n        {title}\n      </Component>\n    );\n  };\n}\n\nexport const menu = withBlockquoteMenu(MenuItem);\n\nexport const inlineMenu = withBlockquoteMenu(InlineMenuItem);\n"],"file":"quoteMenu.js"}