{"version":3,"sources":["../../../../../src/plugins/hr/handlers/onAction.ts"],"names":["onAction","action","editor","next","type","payload","HR_INSERT","HR_UPDATE","data","node"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;AAGe,SAASA,QAAT,CAAkBC,MAAlB,EAAkCC,MAAlC,EAAsDC,IAAtD,EAAwE;AACrF,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBJ,MAA1B;;AACA,MAAIG,IAAI,KAAKE,kBAAb,EAAwB;AACtB,WAAO,uBAASJ,MAAT,EAAiBG,OAAjB,CAAP;AACD;;AACD,MAAID,IAAI,KAAKG,kBAAb,EAAwB;AACtB,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAiBJ,OAAvB;;AACA,QAAII,IAAI,IAAIA,IAAI,CAACL,IAAL,KAAc,IAA1B,EAAgC;AAC9B,aAAO,uBAASF,MAAT,EAAiBO,IAAjB,EAAuBD,IAAvB,CAAP;AACD;AACF;;AACD,SAAOL,IAAI,EAAX;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { HR_INSERT, HR_UPDATE } from '../actions';\nimport insertHr from '../commands/insertHr';\nimport updateHr from '../commands/updateHr';\nimport { Action } from '../../../types';\n\nexport default function onAction(action: Action, editor: Controller, next: () => void) {\n  const { type, payload } = action;\n  if (type === HR_INSERT) {\n    return insertHr(editor, payload);\n  }\n  if (type === HR_UPDATE) {\n    const { data, node } = payload;\n    if (node && node.type === 'hr') {\n      return updateHr(editor, node, data);\n    }\n  }\n  return next();\n}\n"],"file":"onAction.js"}