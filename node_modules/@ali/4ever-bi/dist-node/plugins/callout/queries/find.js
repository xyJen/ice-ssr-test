"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getCalloutStartBlock = getCalloutStartBlock;
exports.getCalloutEndBlock = getCalloutEndBlock;

var _fastDeepEqual = _interopRequireDefault(require("fast-deep-equal"));

var _utils = require("../utils");

function getCalloutStartBlock(controller, block) {
  if (!(0, _utils.isCalloutParagraph)(block)) {
    return null;
  }

  const {
    document
  } = controller.value;
  let startBlock = block;
  let previousBlock = document.getPreviousBlock(startBlock.key);

  while (previousBlock && (0, _utils.isCalloutParagraph)(previousBlock) && (0, _fastDeepEqual.default)(startBlock.data.calloutPr, previousBlock.data.calloutPr)) {
    startBlock = previousBlock;
    previousBlock = document.getPreviousBlock(startBlock.key);
  }

  return startBlock;
}

function getCalloutEndBlock(controller, block) {
  if (!(0, _utils.isCalloutParagraph)(block)) {
    return null;
  }

  const {
    document
  } = controller.value;
  let endBlock = block;
  let nextBlock = document.getNextBlock(endBlock.key);

  while (nextBlock && (0, _utils.isCalloutParagraph)(nextBlock) && (0, _fastDeepEqual.default)(endBlock.data.calloutPr, nextBlock.data.calloutPr)) {
    endBlock = nextBlock;
    nextBlock = document.getNextBlock(endBlock.key);
  }

  return endBlock;
}
//# sourceMappingURL=find.js.map