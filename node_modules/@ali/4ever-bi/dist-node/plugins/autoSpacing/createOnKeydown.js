"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createOnKeydown;

var _everCangjie = require("@ali/4ever-cangjie");

var _onDelete = _interopRequireDefault(require("./handlers/onDelete"));

function createOnKeydown(config) {
  return (event, controller, next) => {
    if (!config?.autoSpacing?.enable || !config.autoSpacing.enable()) return next();

    const isDeleteBackward = _everCangjie.hotkeys.isDeleteBackward(event) || _everCangjie.hotkeys.isDeleteWordBackward(event);

    const isDeleteForward = _everCangjie.hotkeys.isDeleteForward(event) || _everCangjie.hotkeys.isDeleteWordForward(event);

    if (!isDeleteBackward && !isDeleteForward) return next();
    return (0, _onDelete.default)(controller, next, isDeleteForward);
  };
}
//# sourceMappingURL=createOnKeydown.js.map