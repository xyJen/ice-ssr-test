{"version":3,"sources":["../../../../src/plugins/autoSpacing/createOnKeydown.ts"],"names":["createOnKeydown","config","event","controller","next","autoSpacing","enable","isDeleteBackward","hotkeys","isDeleteWordBackward","isDeleteForward","isDeleteWordForward"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEe,SAASA,eAAT,CAAyBC,MAAzB,EAAiD;AAC9D,SAAO,CACLC,KADK,EAELC,UAFK,EAGLC,IAHK,KAIF;AACH,QAAI,CAACH,MAAM,EAAEI,WAAR,EAAqBC,MAAtB,IAAgC,CAACL,MAAM,CAACI,WAAP,CAAmBC,MAAnB,EAArC,EAAkE,OAAOF,IAAI,EAAX;;AAClE,UAAMG,gBAAgB,GAAGC,qBAAQD,gBAAR,CAAyBL,KAAzB,KAAmCM,qBAAQC,oBAAR,CAA6BP,KAA7B,CAA5D;;AACA,UAAMQ,eAAe,GAAGF,qBAAQE,eAAR,CAAwBR,KAAxB,KAAkCM,qBAAQG,mBAAR,CAA4BT,KAA5B,CAA1D;;AAEA,QAAI,CAACK,gBAAD,IAAqB,CAACG,eAA1B,EAA2C,OAAON,IAAI,EAAX;AAC3C,WAAO,uBAASD,UAAT,EAAqBC,IAArB,EAA2BM,eAA3B,CAAP;AACD,GAXD;AAYD","sourcesContent":["import { Controller, hotkeys } from '@ali/4ever-cangjie';\nimport { BiPluginConfig } from '../../types'\nimport onDelete from './handlers/onDelete';\n\nexport default function createOnKeydown(config: BiPluginConfig) {\n  return (\n    event: React.KeyboardEvent,\n    controller: Controller,\n    next: Function,\n  ) => {\n    if (!config?.autoSpacing?.enable || !config.autoSpacing.enable()) return next();\n    const isDeleteBackward = hotkeys.isDeleteBackward(event) || hotkeys.isDeleteWordBackward(event);\n    const isDeleteForward = hotkeys.isDeleteForward(event) || hotkeys.isDeleteWordForward(event);\n    \n    if (!isDeleteBackward && !isDeleteForward) return next();\n    return onDelete(controller, next, isDeleteForward);\n  }\n}"],"file":"createOnKeydown.js"}