{"version":3,"sources":["../../../../../src/plugins/quickInsert/components/menu.tsx"],"names":["MenuWrapper","styled","div","theme","colorFill1","MenuGroup","MenuGroupWrapper","MenuItemWrapper","props","actived","colorBlue1","colorText3","disabled","Divider","colorLine2","MenuItem","React","memo","item","onClick","handleClick","useCallback","key","title","renderIcon","Menu","groups","value","onChange","editorValue","map","items","index","length"],"mappings":";;;;;;;;;;;AACA;;AACA;;AAEA;;AAJA;uBAC4B,a;;AA0B5B,MAAMA,WAAW,gBAAGC,0BAAOC,GAAV,4FAED,MAAMC,gBAAMC,UAFX,CAAjB;;AASA,MAAMC,SAAS,gBAAGJ,0BAAOC,GAAV,+BAAf;;AAKA,MAAMI,gBAAgB,gBAAGL,0BAAOC,GAAV,0EAAtB;;AASA,MAAMK,eAAe,gBAAGN,0BAAOC,GAAV,oQASKM,KAAD,IAAYA,KAAK,CAACC,OAAN,GAAgBN,gBAAMO,UAAtB,GAAmC,aATnD,EAUTF,KAAD,IAAYA,KAAK,CAACC,OAAN,GAAgBN,gBAAMO,UAAtB,GAAmCP,gBAAMQ,UAV3C,EAWRH,KAAD,IAAYA,KAAK,CAACI,QAAN,GAAiB,aAAjB,GAAiC,SAXpC,CAArB;;AAkBA,MAAMC,OAAO,gBAAGZ,0BAAOC,GAAV,mEACS,MAAMC,gBAAMW,UADrB,CAAb;;AAOA,MAAMC,QAAgD,gBAAGC,KAAK,CAACC,IAAN,CAAYT,KAAD,IAAW;AAC7E,QAAM;AAAEU,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBP,IAAAA,QAAjB;AAA2BH,IAAAA;AAA3B,MAAuCD,KAA7C;AAEA,QAAMY,WAAW,GAAGJ,KAAK,CAACK,WAAN,CAAkB,MAAM;AAC1C,QAAI,CAACT,QAAD,IAAa,CAACH,OAAlB,EAA2B;AACzBU,MAAAA,OAAO,CAACD,IAAI,CAACI,GAAN,CAAP;AACD;AACF,GAJmB,EAIjB,CAACJ,IAAD,EAAOC,OAAP,EAAgBP,QAAhB,EAA0BH,OAA1B,CAJiB,CAApB;AAMA,sBACE,eAAC,eAAD;AACE,mBAAY,YADd;AAEE,IAAA,OAAO,EAAEW,WAFX;AAGE,IAAA,QAAQ,EAAER,QAHZ;AAIE,IAAA,OAAO,EAAEH;AAJX,kBAME,eAAC,iBAAD;AAAS,IAAA,SAAS,EAAC,QAAnB;AAA4B,IAAA,KAAK,EAAES,IAAI,CAACK;AAAxC,KACGL,IAAI,CAACM,UAAL,CAAgB;AAAEf,IAAAA,OAAF;AAAWG,IAAAA;AAAX,GAAhB,CADH,CANF,CADF;AAYD,CArBwD,CAAzD;;wBAyC0C,eAAC,OAAD,O;;AAlB1C,MAAMa,IAAwC,gBAAGT,KAAK,CAACC,IAAN,CAAYT,KAAD,IAAW;AACrE,QAAM;AAAEkB,IAAAA,MAAF;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA,QAAjB;AAA2BC,IAAAA;AAA3B,MAA2CrB,KAAjD;AAEA,sBACE,eAAC,WAAD,QACGkB,MAAM,CAACI,GAAP,CAAW,CAAC;AAAER,IAAAA,GAAF;AAAOS,IAAAA;AAAP,GAAD,EAAiBC,KAAjB,kBACV,eAAC,gBAAD;AAAkB,IAAA,GAAG,EAAEV;AAAvB,kBACE,eAAC,SAAD;AAAW,mBAAY;AAAvB,KACGS,KAAK,CAACD,GAAN,CAAWZ,IAAD,iBACT,eAAC,QAAD;AACE,IAAA,GAAG,EAAEA,IAAI,CAACI,GADZ;AAEE,IAAA,IAAI,EAAEJ,IAFR;AAGE,IAAA,OAAO,EAAES,KAAK,KAAKT,IAAI,CAACI,GAH1B;AAIE,IAAA,QAAQ,EAAEJ,IAAI,CAACN,QAAL,CAAciB,WAAd,CAJZ;AAKE,IAAA,OAAO,EAAED;AALX,IADD,CADH,CADF,EAYGI,KAAK,KAAKN,MAAM,CAACO,MAAP,GAAgB,CAA1B,QAZH,CADD,CADH,CADF;AAoBD,CAvBgD,CAAjD;eAyBeR,I","sourcesContent":["/* eslint-disable react/no-array-index-key */\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { Value } from '@ali/4ever-cangjie';\nimport { theme, Tooltip } from '@ali/we-design';\nimport { InsertGroup, InsertItem } from '../types';\n\ninterface MenuProps {\n  groups: InsertGroup[];\n  value: string;\n  onChange: (plugin: string) => void;\n  editorValue: Value;\n}\n\ninterface MenuItemProps {\n  item: InsertItem;\n  actived: boolean;\n  disabled: boolean;\n  onClick: (plugin: string) => void;\n}\n\ninterface MenuItemWrapperProps {\n  actived: boolean;\n  disabled: boolean;\n  onClick: () => void;\n}\n\nconst MenuWrapper = styled.div`\n  display: flex;\n  background: ${() => theme.colorFill1};\n  height: 32px;\n  padding: 0px 6px;\n  width: 100%;\n  overflow: visible;\n`;\n\nconst MenuGroup = styled.div`\n  display: flex;\n  height: 100%;\n`;\n\nconst MenuGroupWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  :not(:last-child) {\n    margin-right: 6px;\n  }\n`;\n\nconst MenuItemWrapper = styled.div<MenuItemWrapperProps>`\n  font-size: 17px;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  padding: 0px 4px;\n  border-bottom: 2px solid transparent;\n  height: 100%;\n  border-bottom-color: ${(props) => (props.actived ? theme.colorBlue1 : 'transparent')};\n  color: ${(props) => (props.actived ? theme.colorBlue1 : theme.colorText3)};\n  cursor: ${(props) => (props.disabled ? 'not-allowed' : 'pointer')};\n  user-select: none;\n  :not(:last-child) {\n    margin-right: 6px;\n  }\n`;\n\nconst Divider = styled.div`\n  background-color: ${() => theme.colorLine2};\n  width: 1px;\n  height: 17px;\n  margin-left: 6px;\n`;\n\nconst MenuItem: React.FunctionComponent<MenuItemProps> = React.memo((props) => {\n  const { item, onClick, disabled, actived } = props;\n\n  const handleClick = React.useCallback(() => {\n    if (!disabled && !actived) {\n      onClick(item.key);\n    }\n  }, [item, onClick, disabled, actived]);\n\n  return (\n    <MenuItemWrapper\n      data-testid=\"group-item\"\n      onClick={handleClick}\n      disabled={disabled}\n      actived={actived}\n    >\n      <Tooltip placement=\"bottom\" title={item.title}>\n        {item.renderIcon({ actived, disabled })}\n      </Tooltip>\n    </MenuItemWrapper>\n  );\n});\n\nconst Menu: React.FunctionComponent<MenuProps> = React.memo((props) => {\n  const { groups, value, onChange, editorValue } = props;\n\n  return (\n    <MenuWrapper>\n      {groups.map(({ key, items }, index) => (\n        <MenuGroupWrapper key={key}>\n          <MenuGroup data-testid=\"group\">\n            {items.map((item) => (\n              <MenuItem\n                key={item.key}\n                item={item}\n                actived={value === item.key}\n                disabled={item.disabled(editorValue)}\n                onClick={onChange}\n              />\n            ))}\n          </MenuGroup>\n          {index !== groups.length - 1 && <Divider />}\n        </MenuGroupWrapper>\n      ))}\n    </MenuWrapper>\n  );\n});\n\nexport default Menu;\n"],"file":"menu.js"}