"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = onAction;

var _everCangjie = require("@ali/4ever-cangjie");

var _actions = require("../actions");

var _remove = _interopRequireDefault(require("../commands/remove"));

var _reset = _interopRequireDefault(require("../commands/reset"));

var _insert = _interopRequireDefault(require("../commands/insert"));

function onAction(action, controller, next) {
  const {
    type,
    payload
  } = action;

  if (type === _actions.QUICK_INSERT_INSERT) {
    const {
      plugin
    } = payload;
    return controller.command(_insert.default, {
      plugin
    }).command(_everCangjie.Commands.focus);
  }

  if (type === _actions.QUICK_INSERT_RESET) {
    const {
      plugin
    } = payload;
    return controller.command(_reset.default, plugin);
  }

  if (type === _actions.QUICK_INSERT_REMOVE) {
    return controller.command(_remove.default);
  }

  return next();
}
//# sourceMappingURL=onAction.js.map