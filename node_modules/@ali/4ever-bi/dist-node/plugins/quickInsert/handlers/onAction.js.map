{"version":3,"sources":["../../../../../src/plugins/quickInsert/handlers/onAction.ts"],"names":["onAction","action","controller","next","type","payload","QUICK_INSERT_INSERT","plugin","command","insert","Commands","focus","QUICK_INSERT_RESET","reset","QUICK_INSERT_REMOVE","remove"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAMA;;AACA;;AACA;;AAEe,SAASA,QAAT,CACbC,MADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBJ,MAA1B;;AAEA,MAAIG,IAAI,KAAKE,4BAAb,EAAkC;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAaF,OAAnB;AACA,WAAOH,UAAU,CAACM,OAAX,CAAmBC,eAAnB,EAA2B;AAAEF,MAAAA;AAAF,KAA3B,EAAuCC,OAAvC,CAA+CE,sBAASC,KAAxD,CAAP;AACD;;AAED,MAAIP,IAAI,KAAKQ,2BAAb,EAAiC;AAC/B,UAAM;AAAEL,MAAAA;AAAF,QAAaF,OAAnB;AACA,WAAOH,UAAU,CAACM,OAAX,CAAmBK,cAAnB,EAA0BN,MAA1B,CAAP;AACD;;AAED,MAAIH,IAAI,KAAKU,4BAAb,EAAkC;AAChC,WAAOZ,UAAU,CAACM,OAAX,CAAmBO,eAAnB,CAAP;AACD;;AAED,SAAOZ,IAAI,EAAX;AACD","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\nimport { Action } from '../../../types';\nimport {\n  QUICK_INSERT_INSERT,\n  QUICK_INSERT_RESET,\n  QUICK_INSERT_REMOVE,\n  ResetQuickInsertPayload,\n} from '../actions';\nimport remove from '../commands/remove';\nimport reset from '../commands/reset';\nimport insert from '../commands/insert';\n\nexport default function onAction(\n  action: Action,\n  controller: Controller,\n  next: () => void,\n) {\n  const { type, payload } = action;\n\n  if (type === QUICK_INSERT_INSERT) {\n    const { plugin } = payload;\n    return controller.command(insert, { plugin }).command(Commands.focus);\n  }\n\n  if (type === QUICK_INSERT_RESET) {\n    const { plugin } = payload as ResetQuickInsertPayload;\n    return controller.command(reset, plugin);\n  }\n\n  if (type === QUICK_INSERT_REMOVE) {\n    return controller.command(remove);\n  }\n\n  return next();\n}\n"],"file":"onAction.js"}