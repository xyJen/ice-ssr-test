{"version":3,"sources":["../../../../../src/plugins/refer/handlers/onAction.ts"],"names":["onAction","action","controller","next","type","payload","DINGPAN_UPDATE","node","data","DINGPAN_REMOVE"],"mappings":";;;;;;;;;AAAA;;AAIA;;AACA;;AAEe,SAASA,QAAT,CAAkBC,MAAlB,EAA0BC,UAA1B,EAAsCC,IAAtC,EAA4C;AACzD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBJ,MAA1B;;AACA,MAAIG,IAAI,KAAKE,uBAAb,EAA6B;AAC3B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAiBH,OAAvB;AACA,WAAO,0BAAYH,UAAZ,EAAwBK,IAAxB,EAA8BC,IAA9B,CAAP;AACD;;AACD,MAAIJ,IAAI,KAAKK,uBAAb,EAA6B;AAC3B,UAAM;AAAEF,MAAAA;AAAF,QAAWF,OAAjB;AACA,WAAO,0BAAYH,UAAZ,EAAwBK,IAAxB,CAAP;AACD;;AAED,SAAOJ,IAAI,EAAX;AACD","sourcesContent":["import {\n  DINGPAN_UPDATE,\n  DINGPAN_REMOVE,\n} from '../actions';\nimport updateRefer from '../commands/updateRefer';\nimport removeRefer from '../commands/removeRefer';\n\nexport default function onAction(action, controller, next) {\n  const { type, payload } = action;\n  if (type === DINGPAN_UPDATE) {\n    const { node, data } = payload;\n    return updateRefer(controller, node, data);\n  }\n  if (type === DINGPAN_REMOVE) {\n    const { node } = payload;\n    return removeRefer(controller, node);\n  }\n\n  return next();\n}\n"],"file":"onAction.js"}