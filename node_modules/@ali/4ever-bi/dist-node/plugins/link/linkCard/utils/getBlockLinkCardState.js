"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getBlockLinkCardState = void 0;

/**
 * 在编辑形态下，如果 title、desc、imgURL 都为 undefined，则说明请求失败，需要显示 error
 * 如果存在 injection 数据，说明是 loading 状态
 * @param title
 * @param desc
 * @param imgURL
 */
const getBlockLinkCardState = node => {
  const {
    isLoading
  } = node.data;
  const {
    cardInfo
  } = node.data.metadata; // injection 有状态，返回 loading

  if (isLoading) {
    return 'loading';
  }

  const {
    title,
    desc,
    imgURL
  } = cardInfo || {}; // 数据都为 undefined 返回 error

  if (title === undefined && desc === undefined && imgURL === undefined) {
    return 'error';
  }

  return 'normal';
};

exports.getBlockLinkCardState = getBlockLinkCardState;
//# sourceMappingURL=getBlockLinkCardState.js.map