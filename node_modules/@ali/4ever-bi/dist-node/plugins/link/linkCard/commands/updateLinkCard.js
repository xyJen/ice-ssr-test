"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = updateLinkCard;

var _fetchLinkData = require("../utils/fetchLinkData");

function updateLinkCard(controller, node, data) {
  const {
    text,
    href,
    cardInfo,
    getLinkInfo
  } = data; // 将 text link 转换为 block link card

  const nodeText = text.length ? text : href; // 如果已经有 cardInfo，则不需要拉取链接信息

  const needFetchLinkInfo = !Boolean(cardInfo); // 如果更新了卡片信息

  if (needFetchLinkInfo) {
    (0, _fetchLinkData.fetchLinkData)(node, controller, href, nodeText, getLinkInfo);
  }

  return controller;
}

;
//# sourceMappingURL=updateLinkCard.js.map