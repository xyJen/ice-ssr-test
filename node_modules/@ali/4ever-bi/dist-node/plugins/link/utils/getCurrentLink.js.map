{"version":3,"sources":["../../../../../src/plugins/link/utils/getCurrentLink.ts"],"names":["getCurrentLink","value","block","document","selection","startBlock","getStart","key","parent","getParent","type"],"mappings":";;;;;;;AAEe,SAASA,cAAT,CACbC,KADa,EAEbC,KAFa,EAGE;AACf,MAAI,CAACD,KAAL,EAAY,OAAO,IAAP;AACZ,QAAM;AAAEE,IAAAA,QAAF;AAAYC,IAAAA,SAAZ;AAAuBC,IAAAA;AAAvB,MAAsCJ,KAA5C;;AAEA,MAAI,CAACG,SAAD,IAAe,CAACF,KAAD,IAAU,CAACE,SAAS,CAACE,QAAV,CAAmBH,QAAnB,EAA6BI,GAA3D,EAAiE;AAC/D,WAAO,IAAP;AACD;;AAED,QAAMC,MAAM,GAAGL,QAAQ,CAACM,SAAT,CAAmBJ,UAAU,CAAEE,GAA/B,CAAf;AACA,SAAOC,MAAM,IAAIA,MAAM,CAACE,IAAP,KAAgB,MAA1B,GAAmCF,MAAnC,GAA4C,IAAnD;AACD","sourcesContent":["import { Value, Block, Inline } from '@ali/4ever-cangjie';\n\nexport default function getCurrentLink(\n  value: Value,\n  block: Block,\n): Inline | null {\n  if (!value) return null;\n  const { document, selection, startBlock } = value;\n\n  if (!selection || (!block && !selection.getStart(document).key)) {\n    return null;\n  }\n\n  const parent = document.getParent(startBlock!.key) as Inline;\n  return parent && parent.type === 'link' ? parent : null;\n}\n"],"file":"getCurrentLink.js"}