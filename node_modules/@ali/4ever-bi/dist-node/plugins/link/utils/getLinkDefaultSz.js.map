{"version":3,"sources":["../../../../../src/plugins/link/utils/getLinkDefaultSz.ts"],"names":["DEFAULT","DEFAULT_FONT_SIZE","theme","fontSize","getLinkDefaultSz","document","node","headingNode","Heading","isHeading","getClosestBlock","key","SzUtil","fromHeadingType","type"],"mappings":";;;;;;;AACA;;AACA;;AAEA,MAAM;AACJA,EAAAA,OAAO,EAAEC;AADL,IAEFC,kBAAMC,QAFV;AAIA;AACA;AACA;AACA;AACA;;AACe,SAASC,gBAAT,CAA0BC,QAA1B,EAA8CC,IAA9C,EAA0D;AACvE,MAAIC,WAAwB,GAAGD,IAA/B;;AACA,SAAOC,WAAW,IAAI,CAACC,gBAAQC,SAAR,CAAkBF,WAAlB,CAAvB,EAAuD;AACrDA,IAAAA,WAAW,GAAGF,QAAQ,CAACK,eAAT,CAAyBH,WAAW,CAACI,GAArC,CAAd;AACD;;AACD,MAAIH,gBAAQC,SAAR,CAAkBF,WAAlB,CAAJ,EAAoC;AAClC,WAAOK,mBAAOC,eAAP,CAAuBN,WAAW,CAACO,IAAnC,CAAP;AACD;;AAED,SAAOb,iBAAP;AACD","sourcesContent":["import { Node, Document } from '@ali/4ever-cangjie';\nimport { Heading } from '@ali/4ever-mo';\nimport { SzUtil, theme } from '@ali/4ever-bamboo';\n\nconst {\n  DEFAULT: DEFAULT_FONT_SIZE,\n} = theme.fontSize;\n\n/**\n * 这里是为了获取默认的文本中默认的 font-size, 用于支持 placeholder 中 hover 背景跟随尺寸变化的 case\n * @param document\n * @param node\n */\nexport default function getLinkDefaultSz(document: Document, node: Node) {\n  let headingNode: Node | null = node;\n  while (headingNode && !Heading.isHeading(headingNode)) {\n    headingNode = document.getClosestBlock(headingNode.key);\n  }\n  if (Heading.isHeading(headingNode)) {\n    return SzUtil.fromHeadingType(headingNode.type);\n  }\n\n  return DEFAULT_FONT_SIZE;\n}\n"],"file":"getLinkDefaultSz.js"}