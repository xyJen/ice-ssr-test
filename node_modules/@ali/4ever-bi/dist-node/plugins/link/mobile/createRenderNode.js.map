{"version":3,"sources":["../../../../../src/plugins/link/mobile/createRenderNode.tsx"],"names":["createRenderNode","linkConfig","locale","protocolAllowList","openLink","LazyLoad","lazyload","SimpleLazyLoad","URLLinkCard","then","link","props","node","linkType","cardInfo","data","displayType"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;uBAJ4B,a;;AAMb,SAASA,gBAAT,CACbC,UADa,EAES;AACtB,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,iBAAV;AAA6BC,IAAAA;AAA7B,MAA0CH,UAAhD;AACA,QAAMI,QAAQ,GAAGJ,UAAU,CAACK,QAAX,IAAuBC,6BAAxC;AACA,QAAMC,WAAW,GAAGH,QAAQ,CAAC,MAC3B,2EAAO,uBAAP,IAAgCI,IAAhC,CAAqC,CAAC;AAAED,IAAAA;AAAF,GAAD,KAAqBA,WAA1D,CAD0B,CAA5B;AAGA,SAAO;AACLE,IAAAA,IAAI,EAAGC,KAAD,IAAW;AACf,YAAMC,IAAI,GAAGD,KAAK,CAACC,IAAnB;AAEA,UAAIC,QAAyB,GAAG,MAAhC,CAHe,CAIf;;AACA,UAAI,2BAAeD,IAAf,CAAJ,EAA0B;AACxB,cAAM;AAAEE,UAAAA;AAAF,YAAeF,IAAI,CAACG,IAA1B;AACA,cAAM;AAAEC,UAAAA;AAAF,YAAkBF,QAAQ,IAAI,EAApC;;AACA,YAAIE,WAAW,KAAK,MAApB,EAA4B;AAC1BH,UAAAA,QAAQ,GAAG,MAAX;AACD;AACF;;AACD;AAAA;AACE;AACA,uBAAC,aAAD,6BACMF,KADN;AAEE,UAAA,iBAAiB,EAAER,iBAAiB,IAAI,EAF1C;AAGE,UAAA,MAAM,EAAED,MAHV;AAIE,UAAA,UAAU,EAAEE,QAJd;AAKE,UAAA,WAAW,EAAEI,WALf;AAME,UAAA,WAAW,EAAEK;AANf;AAFF;AAWD;AAxBI,GAAP;AA0BD","sourcesContent":["import * as React from 'react';\nimport { Inline, Plugin } from '@ali/4ever-cangjie';\nimport { SimpleLazyLoad } from '@ali/4ever-component';\nimport { LinkPluginConfig, LinkDisplayType } from '../types';\nimport Link from './link';\nimport { isLinkCardNode } from '../utils';\n\nexport default function createRenderNode(\n  linkConfig: LinkPluginConfig,\n): Plugin['renderNode'] {\n  const { locale, protocolAllowList, openLink } = linkConfig;\n  const LazyLoad = linkConfig.lazyload || SimpleLazyLoad;\n  const URLLinkCard = LazyLoad(() =>\n    import('@ali/we-biz-link-card').then(({ URLLinkCard }) => URLLinkCard),\n  );\n  return {\n    link: (props) => {\n      const node = props.node as Inline;\n\n      let linkType: LinkDisplayType = 'link';\n      // 当 link 是卡片形式\n      if (isLinkCardNode(node)) {\n        const { cardInfo } = node.data;\n        const { displayType } = cardInfo || {};\n        if (displayType === 'card') {\n          linkType = 'card';\n        }\n      }\n      return (\n        // @ts-ignore\n        <Link\n          {...props}\n          protocolAllowList={protocolAllowList || []}\n          locale={locale}\n          onOpenLink={openLink}\n          URLLinkCard={URLLinkCard}\n          displayType={linkType}\n        />\n      );\n    },\n  };\n}\n"],"file":"createRenderNode.js"}