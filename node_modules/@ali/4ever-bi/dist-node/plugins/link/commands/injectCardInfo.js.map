{"version":3,"sources":["../../../../../src/plugins/link/commands/injectCardInfo.ts"],"names":["injectCardInfo","controller","node","cardInfo","range","injections","value","injection","Injection","create","key","data","excludeInjections","filter","i","setInjections"],"mappings":";;;;;;;AAAA;;AAGe,SAASA,cAAT,CAAwBC,UAAxB,EAAgDC,IAAhD,EAAqEC,QAArE,EAA8FC,KAA9F,EAA0H;AACvI,QAAM;AAAEC,IAAAA;AAAF,MAAiBJ,UAAU,CAACK,KAAlC;;AACA,QAAMC,SAAS,GAAGC,uBAAUC,MAAV,CAAiB;AACjCC,IAAAA,GAAG,EAAER,IAAI,CAACQ,GADuB;AAEjCC,IAAAA,IAAI,EAAE;AACJR,MAAAA,QADI;AAEJC,MAAAA;AAFI;AAF2B,GAAjB,CAAlB;;AAOA,QAAMQ,iBAA8B,GAAGP,UAAU,CAACQ,MAAX,CAAmBC,CAAD,IAAOA,CAAC,CAACJ,GAAF,KAAUR,IAAI,CAACQ,GAAxC,CAAvC;AACAT,EAAAA,UAAU,CAACc,aAAX,CAAyB,CAAC,GAAGH,iBAAJ,EAAuBL,SAAvB,CAAzB;AACA,SAAON,UAAP;AACD","sourcesContent":["import { Controller, Inline, Text, Injection } from '@ali/4ever-cangjie';\nimport { ILinkCardInfo, IRange } from '../types';\n\nexport default function injectCardInfo(controller: Controller, node: Inline | Text, cardInfo: ILinkCardInfo, range?: IRange): Controller {\n  const { injections } = controller.value;\n  const injection = Injection.create({\n    key: node.key,\n    data: {\n      cardInfo,\n      range,\n    },\n  });\n  const excludeInjections: Injection[] = injections.filter((i) => i.key !== node.key);\n  controller.setInjections([...excludeInjections, injection]);\n  return controller;\n}\n"],"file":"injectCardInfo.js"}