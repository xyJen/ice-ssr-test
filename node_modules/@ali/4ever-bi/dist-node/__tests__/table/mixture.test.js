"use strict";

var _everCangjie = require("@ali/4ever-cangjie");

var _actions = require("../../plugins/blockquote/actions");

var _helpers = require("./helpers");

describe('set blockquote in table', () => {
  it('set blockquote, clear quote', async () => {
    const {
      controller
    } = await (0, _helpers.createEditor)({
      table: [['A', 'A'], ['B', 'B']],
      tableSelection: {
        startColIndex: 0,
        startRowIndex: 0,
        endColIndex: 0,
        endRowIndex: 1
      }
    });
    controller.run('onAction', (0, _actions.toggleBlockquote)());

    const getBlockquoteCount = controller => {
      return controller.value.document.filterDescendants(node => _everCangjie.Block.isBlock(node) && node.data.blockquote).length;
    };

    expect(getBlockquoteCount(controller)).toBe(2);
    controller.run('onAction', (0, _actions.toggleBlockquote)());
    expect(getBlockquoteCount(controller)).toBe(0);
  });
});
//# sourceMappingURL=mixture.test.js.map