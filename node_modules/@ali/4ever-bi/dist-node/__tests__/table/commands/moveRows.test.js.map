{"version":3,"sources":["../../../../../src/__tests__/table/commands/moveRows.test.tsx"],"names":["hiddenCell","data","hidden","mergedCell","colSpan","rowSpan","text","bigMergedTable","createRowSpanMergeCell","rowSpan1MergeCell","rowSpan2MergeCell","createRowSpanEmptyCell","rowSpan1EmptyCell","rowSpan2EmptyCell","describe","cases","description","originTable","expectedTable","command","controller","table","start","end","forEach","it","value","Value","create","document","Document","nodes","controllerRef","jest","fn","mock","calls","newTable","trs","filterDescendants","node","type","row","length","tds","col","expectedCell","actualCell","expect","toBe","Object","entries","k","v"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport { Value, Document, Controller } from '@ali/4ever-cangjie';\nimport { renderEditor, jsx } from '@ali/4ever-dev-test';\nimport { TableCell, TableRow } from '@ali/4ever-mo';\nimport { last } from 'lodash-es';\nimport { createTableInstance, getTableFromController } from '../helpers';\nimport Editor from '../../editor';\n\nexport const hiddenCell = {\n  data: {\n    hidden: true,\n  },\n};\n\nexport const mergedCell = {\n  data: {\n    colSpan: 3,\n    rowSpan: 3,\n  },\n  text: '22',\n};\n\nexport const bigMergedTable = [\n  ['00', '01', '02', '03', '04', '05', '06'],\n  ['10', '11', '12', '13', '14', '15', '16'],\n  ['20', '21', mergedCell, hiddenCell, hiddenCell, '25', '26'],\n  ['30', '31', hiddenCell, hiddenCell, hiddenCell, '35', '36'],\n  ['40', '41', hiddenCell, hiddenCell, hiddenCell, '45', '46'],\n  ['50', '51', '52', '53', '54', '55', '56'],\n  ['60', '61', '62', '63', '64', '65', '66'],\n];\n\nconst createRowSpanMergeCell = (rowSpan) => {\n  return {\n    ...mergedCell,\n    data: {\n      ...mergedCell.data,\n      rowSpan,\n    },\n  };\n};\n\nconst rowSpan1MergeCell = createRowSpanMergeCell(1);\nconst rowSpan2MergeCell = createRowSpanMergeCell(2);\n\nconst createRowSpanEmptyCell = (rowSpan) => {\n  return {\n    data: {\n      rowSpan,\n      colSpan: mergedCell.data.colSpan,\n    },\n    text: '',\n  };\n};\nconst rowSpan1EmptyCell = createRowSpanEmptyCell(1);\nconst rowSpan2EmptyCell = createRowSpanEmptyCell(2);\n\ndescribe('Bi: table/commands/moveRows', () => {\n  const cases = [\n    {\n      description: '移动单行至下方',\n      originTable: [['A', 'B'], ['C', 'D']],\n      expectedTable: [['C', 'D'], ['A', 'B']],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 0, end: 0 }, 2);\n      },\n    },\n    {\n      description: '移动单行至上方',\n      originTable: [['A', 'B'], ['C', 'D']],\n      expectedTable: [['C', 'D'], ['A', 'B']],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 1, end: 1 }, 0);\n      },\n    },\n    {\n      description: '移动多行至下方',\n      originTable: [\n        ['00', '01', '02', '03'],\n        ['10', '11', '12', '13'],\n        ['20', '21', '22', '23'],\n        ['30', '31', '32', '33'],\n      ],\n      expectedTable: [\n        ['00', '01', '02', '03'],\n        ['30', '31', '32', '33'],\n        ['10', '11', '12', '13'],\n        ['20', '21', '22', '23'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 1, end: 2 }, 4);\n      },\n    },\n    {\n      description: '移动多行至上方',\n      originTable: [\n        ['00', '01', '02', '03'],\n        ['10', '11', '12', '13'],\n        ['20', '21', '22', '23'],\n        ['30', '31', '32', '33'],\n      ],\n      expectedTable: [\n        ['10', '11', '12', '13'],\n        ['20', '21', '22', '23'],\n        ['00', '01', '02', '03'],\n        ['30', '31', '32', '33'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 1, end: 2 }, 0);\n      },\n    },\n    {\n      description: '移动完整合并单元格至上方',\n      originTable: bigMergedTable,\n      expectedTable: [\n        ['00', '01', '02', '03', '04', '05', '06'],\n        ['20', '21', mergedCell, hiddenCell, hiddenCell, '25', '26'],\n        ['30', '31', hiddenCell, hiddenCell, hiddenCell, '35', '36'],\n        ['40', '41', hiddenCell, hiddenCell, hiddenCell, '45', '46'],\n        ['10', '11', '12', '13', '14', '15', '16'],\n        ['50', '51', '52', '53', '54', '55', '56'],\n        ['60', '61', '62', '63', '64', '65', '66'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 2, end: 4 }, 1);\n      },\n    },\n    {\n      description: '移动完整合并单元格至下方',\n      originTable: bigMergedTable,\n      expectedTable: [\n        ['00', '01', '02', '03', '04', '05', '06'],\n        ['10', '11', '12', '13', '14', '15', '16'],\n        ['50', '51', '52', '53', '54', '55', '56'],\n        ['20', '21', mergedCell, hiddenCell, hiddenCell, '25', '26'],\n        ['30', '31', hiddenCell, hiddenCell, hiddenCell, '35', '36'],\n        ['40', '41', hiddenCell, hiddenCell, hiddenCell, '45', '46'],\n        ['60', '61', '62', '63', '64', '65', '66'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 2, end: 4 }, 6);\n      },\n    },\n    {\n      description: '移动合并单元格上半部分至上方',\n      originTable: bigMergedTable,\n      expectedTable: [\n        ['10', '11', '12', '13', '14', '15', '16'],\n        ['20', '21', rowSpan2MergeCell, hiddenCell, hiddenCell, '25', '26'],\n        ['30', '31', hiddenCell, hiddenCell, hiddenCell, '35', '36'],\n        ['00', '01', '02', '03', '04', '05', '06'],\n        ['40', '41', rowSpan1EmptyCell, hiddenCell, hiddenCell, '45', '46'],\n        ['50', '51', '52', '53', '54', '55', '56'],\n        ['60', '61', '62', '63', '64', '65', '66'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 1, end: 3 }, 0);\n      },\n    },\n    {\n      description: '移动合并单元格上半部分至下方',\n      originTable: bigMergedTable,\n      expectedTable: [\n        ['00', '01', '02', '03', '04', '05', '06'],\n        ['30', '31', rowSpan2EmptyCell, hiddenCell, hiddenCell, '35', '36'],\n        ['40', '41', hiddenCell, hiddenCell, hiddenCell, '45', '46'],\n        ['50', '51', '52', '53', '54', '55', '56'],\n        ['10', '11', '12', '13', '14', '15', '16'],\n        ['20', '21', rowSpan1MergeCell, hiddenCell, hiddenCell, '25', '26'],\n        ['60', '61', '62', '63', '64', '65', '66'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 1, end: 2 }, 6);\n      },\n    },\n    {\n      description: '移动合并单元格中间部分至上方',\n      originTable: bigMergedTable,\n      expectedTable: [\n        ['00', '01', '02', '03', '04', '05', '06'],\n        ['10', '11', '12', '13', '14', '15', '16'],\n        ['30', '31', rowSpan1EmptyCell, hiddenCell, hiddenCell, '35', '36'],\n        ['20', '21', rowSpan2MergeCell, hiddenCell, hiddenCell, '25', '26'],\n        ['40', '41', hiddenCell, hiddenCell, hiddenCell, '45', '46'],\n        ['50', '51', '52', '53', '54', '55', '56'],\n        ['60', '61', '62', '63', '64', '65', '66'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 3, end: 3 }, 2);\n      },\n    },\n    {\n      description: '移动合并单元格中间部分至下方',\n      originTable: bigMergedTable,\n      expectedTable: [\n        ['00', '01', '02', '03', '04', '05', '06'],\n        ['10', '11', '12', '13', '14', '15', '16'],\n        ['40', '41', rowSpan1EmptyCell, hiddenCell, hiddenCell, '45', '46'],\n        ['50', '51', '52', '53', '54', '55', '56'],\n        ['20', '21', rowSpan2MergeCell, hiddenCell, hiddenCell, '25', '26'],\n        ['30', '31', hiddenCell, hiddenCell, hiddenCell, '35', '36'],\n        ['60', '61', '62', '63', '64', '65', '66'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 2, end: 3 }, 6);\n      },\n    },\n    {\n      description: '移动合并单元格下半部分至上方',\n      originTable: bigMergedTable,\n      expectedTable: [\n        ['00', '01', '02', '03', '04', '05', '06'],\n        ['40', '41', rowSpan1EmptyCell, hiddenCell, hiddenCell, '45', '46'],\n        ['50', '51', '52', '53', '54', '55', '56'],\n        ['10', '11', '12', '13', '14', '15', '16'],\n        ['20', '21', rowSpan2MergeCell, hiddenCell, hiddenCell, '25', '26'],\n        ['30', '31', hiddenCell, hiddenCell, hiddenCell, '35', '36'],\n        ['60', '61', '62', '63', '64', '65', '66'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 4, end: 5 }, 1);\n      },\n    },\n    {\n      description: '移动合并单元格下半部分至下方',\n      originTable: bigMergedTable,\n      expectedTable: [\n        ['00', '01', '02', '03', '04', '05', '06'],\n        ['10', '11', '12', '13', '14', '15', '16'],\n        ['20', '21', rowSpan1MergeCell, hiddenCell, hiddenCell, '25', '26'],\n        ['60', '61', '62', '63', '64', '65', '66'],\n        ['30', '31', rowSpan2EmptyCell, hiddenCell, hiddenCell, '35', '36'],\n        ['40', '41', hiddenCell, hiddenCell, hiddenCell, '45', '46'],\n        ['50', '51', '52', '53', '54', '55', '56'],\n      ],\n      command: (controller, table) => {\n        controller.command('moveRows', table, { start: 3, end: 5 }, 7);\n      },\n    },\n  ];\n\n  cases.forEach(({\n    description,\n    command,\n    expectedTable,\n    originTable,\n  }) => {\n    it(description, async () => {\n      const value = Value.create({\n        document: Document.create({\n          nodes: [createTableInstance({\n            table: originTable,\n          })],\n        }),\n      });\n      const controllerRef = jest.fn();\n      await renderEditor(<Editor defaultValue={value} controllerRef={controllerRef} />);\n      const controller = last(controllerRef.mock.calls)[0] as Controller;\n\n      const table = getTableFromController(controller);\n\n      command(controller, table);\n      const newTable = getTableFromController(controller);\n      const trs = newTable.filterDescendants(\n        node => node.type === 'table-row',\n      ) as TableRow[];\n\n      for (let row = 0; row < trs.length; row++) {\n        const tds = trs[row].filterDescendants(\n          node => node.type === 'table-cell',\n        ) as TableCell[];\n        for (let col = 0; col < tds.length; col++) {\n          const expectedCell = expectedTable[row][col];\n          const actualCell = tds[col];\n          if (typeof expectedCell === 'string') {\n            expect(actualCell.text).toBe(expectedCell);\n          } else {\n            const { data, text } = expectedCell;\n            expect(actualCell.text).toBe(text || '');\n            // eslint-disable-next-line guard-for-in\n            Object.entries(data).forEach(([k, v]) => {\n              expect(actualCell.data[k]).toBe(v);\n            });\n          }\n        }\n      }\n    });\n  });\n});\n"],"file":"moveRows.test.js"}