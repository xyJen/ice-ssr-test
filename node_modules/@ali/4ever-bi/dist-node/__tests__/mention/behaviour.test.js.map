{"version":3,"sources":["../../../../src/__tests__/mention/behaviour.test.tsx"],"names":["value","name","id","login","avatarUrl","plugins","array","describe","controller","Controller","create","document","node","getNode","test","isSupportSearch","query","expect","toBeTruthy","searchResult","toEqual","key","type","readonly"],"mappings":";;AAGA;;AACA;;AAEA;;AACA;;AAPA;;AACA;;AACA;AAOA,MAAMA,KAAK,GACT,qCACE,wCACE;AAAO,EAAA,IAAI,EAAC;AAAZ,GACE;AACE,EAAA,GAAG,EAAC,KADN;AAEE,EAAA,IAAI,EAAC,SAFP;AAGE,EAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAE,KADF;AAEJC,IAAAA,EAAE,EAAE,GAFA;AAGJC,IAAAA,KAAK,EAAE,GAHH;AAIJC,IAAAA,SAAS,EAAE;AAJP;AAHR,EADF,EAWE,qCAXF,CADF,CADF,CADF;AAoBA,MAAMC,OAAO,GAAG,yBAAkBC,KAAlC;AAEAC,QAAQ,CAAC,sBAAD,EAAyB,MAAM;AACrCA,EAAAA,QAAQ,CAAC,SAAD,EAAY,MAAM;AACxB,UAAMC,UAAU,GAAGC,wBAAWC,MAAX,CAAkB;AACnCV,MAAAA,KADmC;AAEnCK,MAAAA;AAFmC,KAAlB,CAAnB;;AAKA,UAAM;AAAEM,MAAAA;AAAF,QAAeH,UAAU,CAACR,KAAhC;AACA,UAAMY,IAAI,GAAGD,QAAQ,CAACE,OAAT,CAAiB,KAAjB,CAAb;AAEAC,IAAAA,IAAI,CAAC,iBAAD,EAAoB,YAAY;AAClC,YAAMC,eAAe,GAAGP,UAAU,CAACQ,KAAX,CAAiB,iBAAjB,EAAoCJ,IAApC,CAAxB;AACAK,MAAAA,MAAM,CAACF,eAAD,CAAN,CAAwBG,UAAxB;AACD,KAHG,CAAJ;AAKAJ,IAAAA,IAAI,CAAC,cAAD,EAAiB,YAAY;AAC/B,YAAMK,YAAY,GAAGX,UAAU,CAACQ,KAAX,CAAiB,iBAAjB,EAAoC,KAApC,EAA2CJ,IAA3C,CAArB;AACAK,MAAAA,MAAM,CAACE,YAAD,CAAN,CAAqBC,OAArB,CAA6B;AAAEC,QAAAA,GAAG,EAAE,KAAP;AAAcC,QAAAA,IAAI,EAAE,SAApB;AAA+BC,QAAAA,QAAQ,EAAE;AAAzC,OAA7B;AACD,KAHG,CAAJ;AAID,GAlBO,CAAR;AAmBD,CApBO,CAAR","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable import/no-extraneous-dependencies */\n/** @jsx jsx */\nimport { Value, Controller } from '@ali/4ever-cangjie';\nimport '@testing-library/jest-dom/extend-expect';\n\nimport { jsx } from '@ali/4ever-dev-test';\nimport { createBiPlugins } from '../..';\n\nconst value = (\n  <value>\n    <document>\n      <block type=\"paragraph\">\n        <inline\n          key=\"123\"\n          type=\"mention\"\n          data={{\n            name: 'tom',\n            id: '0',\n            login: '0',\n            avatarUrl: '0.jpg',\n          }}\n        />\n        <cursor />\n      </block>\n    </document>\n  </value>\n) as any;\n\nconst plugins = createBiPlugins().array;\n\ndescribe('Bi/mention/behaviour', () => {\n  describe('queries', () => {\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    const { document } = controller.value;\n    const node = document.getNode('123');\n\n    test('isSupportSearch', async () => {\n      const isSupportSearch = controller.query('isSupportSearch', node);\n      expect(isSupportSearch).toBeTruthy();\n    });\n\n    test('searchResult', async () => {\n      const searchResult = controller.query('getSearchResult', 'tom', node);\n      expect(searchResult).toEqual({ key: '123', type: 'mention', readonly: true });\n    });\n  });\n});\n"],"file":"behaviour.test.js"}