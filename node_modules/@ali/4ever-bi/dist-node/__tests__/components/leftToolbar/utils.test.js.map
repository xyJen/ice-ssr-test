{"version":3,"sources":["../../../../../src/__tests__/components/leftToolbar/utils.test.tsx"],"names":["createBiPlugins","calloutPlugin","tablePlugin","plugins","describe","it","value","colsWidth","metadata","showstk","sticker","subType","controllerRef","jest","fn","container","callout","querySelector","cell","parent","constants","Selector","edgeSelectable","childNodes","expect","contains","toBe"],"mappings":";;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AATA;;AACA;AAUA,MAAMA,eAAe,GAAG,wCAA0B;AAChDC,EAAAA,aAAa,EAAbA,gBADgD;AAEhDC,EAAAA,WAAW,EAAXA;AAFgD,CAA1B,CAAxB;AAKA,MAAMC,OAAO,GAAGH,eAAe,EAA/B;;WAuBkB;AAAO,EAAA,IAAI,EAAC,WAAZ;AAAwB,EAAA,GAAG,EAAC;AAA5B,E;;AArBlBI,QAAQ,CAAC,oDAAD,EAAuD,MAAM;AACnEC,EAAAA,EAAE,CAAC,sDAAD,EAAyD,YAAY;AACrE,UAAMC,KAAK,GACT,qCACE,wCACE;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,GAAG,EAAC,OAAxB;AAAgC,MAAA,IAAI,EAAE;AACpCC,QAAAA,SAAS,EAAE,CAAC,GAAD;AADyB;AAAtC,OAGE;AAAO,MAAA,IAAI,EAAC;AAAZ,OACE;AAAO,MAAA,IAAI,EAAC,YAAZ;AAAyB,MAAA,GAAG,EAAC;AAA7B,OACE;AACE,MAAA,IAAI,EAAC,WADP;AAEE,MAAA,GAAG,EAAC,SAFN;AAGE,MAAA,IAAI,EAAE;AACJC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,OAAO,EAAE,IADD;AAERC,UAAAA,OAAO,EAAE;AAFD,SADN;AAKJC,QAAAA,OAAO,EAAE;AALL;AAHR,YADF,CADF,CAHF,CADF,CADF,CADF;AA4BA,UAAMC,aAAa,GAAGC,IAAI,CAACC,EAAL,EAAtB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAe,MAAM,+BACzB,sBAAC,eAAD;AAAQ,MAAA,YAAY,EAAET,KAAtB;AAA6B,MAAA,OAAO,EAAEH,OAAtC;AAA+C,MAAA,aAAa,EAAES;AAA9D,MADyB,CAA3B;AAGA,UAAMI,OAAO,GAAGD,SAAS,CAACE,aAAV,CAAwB,8BAAxB,CAAhB;AACA,UAAMC,IAAI,GAAGH,SAAS,CAACE,aAAV,CAAwB,iCAAxB,CAAb;AACA,UAAME,MAAM,GAAG,0CAAsBC,uBAAUC,QAAV,CAAmBC,cAAzC,EAAyDN,OAAO,CAACO,UAAR,CAAmB,CAAnB,CAAzD,CAAf;AACAC,IAAAA,MAAM,CAACL,MAAM,CAACM,QAAP,CAAgBP,IAAhB,CAAD,CAAN,CAA8BQ,IAA9B,CAAmC,KAAnC;AACD,GArCC,CAAF;AAsCD,CAvCO,CAAR","sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\n/** @jsx jsx */\nimport { constants, Value } from '@ali/4ever-cangjie';\nimport { jsx, renderEditor } from '@ali/4ever-dev-test';\nimport Editor from '../../editor';\nimport { biFactory as tablePlugin } from '@ali/4ever-plugin-table';\nimport calloutPlugin from '../../../plugins/callout';\n\nimport createCustomizedBiPlugins from '../../../createCustomizedBiPlugins';\nimport { getParentByAttributes } from '@ali/4ever-component';\n\nconst createBiPlugins = createCustomizedBiPlugins({\n  calloutPlugin,\n  tablePlugin,\n});\n\nconst plugins = createBiPlugins();\n\ndescribe('components/leftToolbar/utils/findBlockKeyFromEvent', () => {\n  it('getParentByAttributes - 高亮块在 table 内时，高亮块内的元素父节点为高亮块', async () => {\n    const value = ((\n      <value>\n        <document>\n          <block type=\"table\" key=\"table\" data={{\n            colsWidth: [100]\n          }}>\n            <block type=\"table-row\">\n              <block type=\"table-cell\" key=\"table-cell\">\n                <block\n                  type=\"container\"\n                  key=\"callout\"\n                  data={{\n                    metadata: {\n                      showstk: true,\n                      sticker: '灵感',\n                    },\n                    subType: \"colorBlocks\"\n                  }}\n                >\n                  <block type=\"paragraph\" key=\"p\" />\n                </block>\n              </block>\n            </block>\n          </block>\n        </document>\n      </value>\n    ) as unknown) as Value;\n\n    const controllerRef = jest.fn();\n    const { container} = await renderEditor(\n      <Editor defaultValue={value} plugins={plugins} controllerRef={controllerRef} />,\n    );\n    const callout = container.querySelector('[data-cangjie-key=\"callout\"]');\n    const cell = container.querySelector('[data-cangjie-key=\"table-cell\"]')\n    const parent = getParentByAttributes(constants.Selector.edgeSelectable, callout.childNodes[0]);\n    expect(parent.contains(cell)).toBe(false);\n  });\n})\n"],"file":"utils.test.js"}