{"version":3,"sources":["../../../../src/__tests__/placeholder/ui.test.tsx"],"names":["describe","it","value","name","data","editor","queryByText","fireEvent","keyDown","content","querySelector"],"mappings":";;;;AAGA;;AAMA;;AAIA;;AAbA;;AACA;WAoBY,qC;;YAmBA,qC;;AAzBZA,QAAQ,CAAC,mBAAD,EAAsB,MAAM;AAClCC,EAAAA,EAAE,CAAC,wBAAD,EAA2B,YAAY;AACvC,UAAMC,KAAK,GACT,qCACE,wCACE;AAAO,MAAA,IAAI,EAAC,IAAZ;AAAiB,MAAA,IAAI,EAAE;AAAEC,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,IAAI,EAAE;AAApB;AAAvB,YADF,CADF,CADF;AASA,UAAM;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV,QAA0B,MAAM,+BACpC,sBAAC,eAAD;AAAU,MAAA,YAAY,EAAEJ;AAAxB,MADoC,CAAtC;AAIA,UAAM,2BAAe,MAAMI,WAAW,CAAC,IAAD,CAAhC,CAAN;;AACAC,2BAAUC,OAAV,CAAkBH,MAAlB,EAA0B,iCAAe,WAAf,CAA1B;;AACA,UAAM,sCAA0B,MAAMC,WAAW,CAAC,IAAD,CAA3C,CAAN;AACD,GAjBC,CAAF;AAmBAL,EAAAA,EAAE,CAAC,2CAAD,EAA8C,YAAY;AAC1D,UAAMC,KAAK,GACT,qCACE,wCACE;AAAO,MAAA,IAAI,EAAC,IAAZ;AAAiB,MAAA,IAAI,EAAE;AAAEC,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,IAAI,EAAE;AAApB;AAAvB,aADF,CADF,CADF;AASA,UAAM;AAAEK,MAAAA,OAAF;AAAWJ,MAAAA,MAAX;AAAmBC,MAAAA;AAAnB,QAAmC,MAAM,+BAC7C,sBAAC,eAAD;AAAU,MAAA,YAAY,EAAEJ;AAAxB,MAD6C,CAA/C;;AAIAK,2BAAUC,OAAV,CAAkBH,MAAlB,EAA0B,iCAAe,OAAf,CAA1B;;AACA,UAAM,2BAAe,MAAMC,WAAW,CAAC,IAAD,CAAhC,CAAN;AACA,UAAM,2BAAe,MAAMG,OAAO,CAACC,aAAR,CAAsB,4BAAtB,CAArB,CAAN;AACD,GAjBC,CAAF;AAkBD,CAtCO,CAAR","sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\n/** @jsx jsx */\nimport { Value } from '@ali/4ever-cangjie';\nimport {\n  renderEditor,\n  getHotkeyEvent,\n  fireEvent,\n  jsx,\n} from '@ali/4ever-dev-test';\nimport {\n  waitForElement,\n  waitForElementToBeRemoved,\n} from '@testing-library/react';\nimport BiEditor from '../editor';\n\ndescribe('Bi/placeholder/ui', () => {\n  it('文档最顶部的 placeholder 可删除', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"ph\" data={{ name: '脑图', data: 'string' }}>\n            <cursor/>\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { editor, queryByText } = await renderEditor(\n      <BiEditor defaultValue={value} />\n    );\n\n    await waitForElement(() => queryByText(/脑图/));\n    fireEvent.keyDown(editor, getHotkeyEvent('backspace'));\n    await waitForElementToBeRemoved(() => queryByText(/脑图/));\n  });\n\n  it('选中 placeholder 时，回车可添加新行, placeholder 仍存在', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"ph\" data={{ name: '脑图', data: 'string' }}>\n            <cursor/>\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content, editor, queryByText } = await renderEditor(\n      <BiEditor defaultValue={value} />\n    );\n\n    fireEvent.keyDown(editor, getHotkeyEvent('enter'));\n    await waitForElement(() => queryByText(/脑图/));\n    await waitForElement(() => content.querySelector('div[data-type=\"paragraph\"]'));\n  });\n})\n"],"file":"ui.test.js"}