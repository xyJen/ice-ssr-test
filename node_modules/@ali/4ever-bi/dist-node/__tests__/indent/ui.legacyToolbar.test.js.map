{"version":3,"sources":["../../../../src/__tests__/indent/ui.legacyToolbar.test.tsx"],"names":["clickToolbar","container","selector","quoteBlockElement","querySelector","fireEvent","click","plugins","array","describe","indentTitle","indentOperationByKeyboard","_","content","keyDown","dedentTitle","dedentOperationByKeyboard","indentOperationByToolbar","screen","queryByTestId","element","dedentOperationByToolbar","forEach","it","value","indentElement","expect","style","textIndent","toBe","paddingLeft","indentSize","textContent","indentElements","querySelectorAll","ele","mock","controller","Controller","create","run","KeyboardEvent","document","getBlocks","data","toEqual","ind","firstLine","left","leftChars","hanging"],"mappings":"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","sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\n/** @jsx jsx */\nimport { Value, Controller } from '@ali/4ever-cangjie';\nimport {\n  renderEditor,\n  getHotkeyEvent,\n  fireEvent,\n  jsx,\n} from '@ali/4ever-dev-test';\nimport {\n  wait,\n  waitForElement,\n  waitFor,\n} from '@testing-library/react';\nimport { screen } from '@testing-library/dom';\nimport { EditorWidthLegacyToolbar as BiEditor } from '../editor';\nimport { removeInvisibleChars } from '../helper';\nimport createBiPlugins from '../../createBiPlugins';\n\nfunction clickToolbar(container, selector) {\n  const quoteBlockElement = container.querySelector(selector);\n  fireEvent.click(quoteBlockElement);\n}\n\nconst plugins = createBiPlugins().array;\n\ndescribe('Bi/indent/ui', () => {\n  [{\n    indentTitle: '在行首 tab 增加缩进',\n    indentOperationByKeyboard: (_, content) => {\n      _ && fireEvent.keyDown(content, getHotkeyEvent('tab'));\n    },\n    dedentTitle: '在行首 backspace 减少缩进',\n    dedentOperationByKeyboard: (_, content) => {\n      _ && fireEvent.keyDown(content, getHotkeyEvent('backspace'));\n    },\n  }, {\n    indentTitle: '点击按钮增加缩进',\n    indentOperationByToolbar: async (container, _) => {\n      if (!_) return;\n      await waitFor(() => screen.queryByTestId('bi-toolbar-indent'));\n      clickToolbar(container, '[data-testid=\"bi-toolbar-indent\"] [data-testid=\"splitbutton-arrow-bi-toolbar-indent\"]');\n      await waitFor(() => screen.queryByTestId('splite-overlay-bi-toolbar-indent'));\n      const element = await waitFor(() => screen.queryByTestId('menu-item-option-increase'));\n      fireEvent.click(element);\n    },\n    dedentTitle: '点击按钮减少缩进',\n    dedentOperationByToolbar: async (container, _) => {\n      if (!_) return;\n      await waitFor(() => screen.queryByTestId('bi-toolbar-indent'));\n      clickToolbar(container, '[data-testid=\"bi-toolbar-indent\"] [data-testid=\"splitbutton-arrow-bi-toolbar-indent\"]');\n      await waitFor(() => screen.queryByTestId('splite-overlay-bi-toolbar-indent'));\n      const element = await waitFor(() => screen.queryByTestId('menu-item-option-decrease'));\n      fireEvent.click(element);\n    },\n  }].forEach(({\n    indentTitle,\n    indentOperationByKeyboard,\n    dedentOperationByKeyboard,\n    dedentTitle,\n    indentOperationByToolbar,\n    dedentOperationByToolbar,\n  }) => {\n    it(indentTitle, async () => {\n      const value = (\n        <value>\n          <document>\n            <block type=\"paragraph\">\n              <cursor />Hello\n            </block>\n          </document>\n        </value>\n      ) as unknown as Value;\n      const { container, content } = await renderEditor(<BiEditor defaultValue={value} />);\n      if (indentOperationByKeyboard) {\n        await indentOperationByKeyboard(container, content);\n        await wait();\n        const indentElement = content.querySelector('*[data-type=\"paragraph\"]') as HTMLDivElement;\n        expect(indentElement.style.textIndent).toBe('32px');\n        expect(indentElement.style.paddingLeft).toBe('0px');\n      }\n      if (indentOperationByToolbar) {\n        await indentOperationByToolbar(container, content);\n        await wait();\n        const indentElement = content.querySelector('*[data-type=\"paragraph\"]') as HTMLDivElement;\n        expect(indentElement.style.textIndent).toBe('0');\n        expect(indentElement.style.paddingLeft).toBe('32px');\n      }\n    });\n\n    it(dedentTitle, async () => {\n      const value = (\n        <value>\n          <document>\n            <block type=\"paragraph\">\n              <cursor />Hello\n            </block>\n          </document>\n        </value>\n      ) as unknown as Value;\n      const { container, content, queryByTestId } = await renderEditor(<BiEditor defaultValue={value} />);\n\n      fireEvent.keyDown(content, getHotkeyEvent('tab'));\n      fireEvent.keyDown(content, getHotkeyEvent('tab'));\n      fireEvent.keyDown(content, getHotkeyEvent('tab'));\n      await wait();\n\n      if (dedentOperationByKeyboard) {\n        await dedentOperationByKeyboard(container, content);\n        await wait();\n        const indentElement = content.querySelector('*[data-type=\"paragraph\"]') as HTMLDivElement;\n        expect(indentElement.style.textIndent).toBe('0');\n        expect(indentElement.style.paddingLeft).toBe('64px');\n      }\n      if (dedentOperationByToolbar) {\n        await dedentOperationByToolbar(container, content);\n        await wait();\n        const indentElement = content.querySelector('*[data-type=\"paragraph\"]') as HTMLDivElement;\n        expect(indentElement.style.textIndent).toBe('32px');\n        expect(indentElement.style.paddingLeft).toBe('32px');\n      }\n    });\n  });\n\n  it('在行内 tab 插入 4 个空格', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            H<cursor />ello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('tab'));\n    const indentElement = await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n    const indentSize = indentElement.style.textIndent;\n    expect(indentSize).toBe('0');\n    expect(content.textContent).toBe('H    ello');\n  });\n\n  it('在行内 backspace 删除 4 个空格', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            Hell    <cursor />o\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('backspace'));\n    const indentElement = await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n    const indentSize = indentElement.style.textIndent;\n    expect(indentSize).toBe('0');\n    expect(content.textContent).toBe('Hello');\n  });\n\n  it('在行内 backspace 时，如光标前空格不满 4 个，不做特殊处理', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            Hell  <cursor />o\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('backspace'));\n    const indentElement = await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n    const indentSize = indentElement.style.textIndent;\n    expect(indentSize).toBe('0');\n    expect(content.textContent).toBe('Hell o');\n  });\n\n  it('在段首有选区（部分） tab 时, 删除选中内容并首行缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            <anchor />Hello<focus />world\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('tab'));\n    const indentElement = await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n    const indentSize = indentElement.style.textIndent;\n    expect(indentSize).toBe('32px');\n    expect(removeInvisibleChars(content?.textContent ?? '')).toBe('world');\n  });\n\n  it('在段首有选区（整段） tab 时, 不删除并缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            <anchor />Hello<focus />\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('tab'));\n    const indentElement = await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n    expect(indentElement.style.paddingLeft).toBe('32px');\n    expect(indentElement.style.textIndent).toBe('0');\n    expect(removeInvisibleChars(content?.textContent ?? '')).toBe('Hello');\n  });\n\n  it('在段首有选区（跨段） tab 时, 不删除并缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            <anchor />Hello\n          </block>\n          <block type=\"paragraph\">\n            world<focus />\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('tab'));\n    // eslint-disable-next-line no-unused-expressions\n    await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n    const indentElements = content.querySelectorAll('*[data-type=\"paragraph\"]');\n    indentElements.forEach((ele) => {\n      expect(ele.style.paddingLeft).toBe('32px');\n      expect(ele.style.textIndent).toBe('0');\n    });\n    expect(removeInvisibleChars(content?.textContent ?? '')).toBe('Helloworld');\n  });\n\n  it('在段首无选区 tab 时, 首行缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('tab'));\n    const indentElement = await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n    expect(indentElement.style.paddingLeft).toBe('0px');\n    expect(indentElement.style.textIndent).toBe('32px');\n  });\n\n  it('在段内有选区（部分） tab 时, 删除选中内容并缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            Hello<anchor />world<focus />\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('tab'));\n\n    const indentElement = await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n\n    expect(indentElement.style.paddingLeft).toBe('0px');\n    expect(removeInvisibleChars(content?.textContent ?? '')).toBe('Hello    ');\n  });\n\n  it('在段内有选区（跨段） tab 时, 删除并插入tab', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\">\n            Hello<anchor />\n          </block>\n          <block type=\"paragraph\">\n            world<focus />\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const { content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    fireEvent.keyDown(content, getHotkeyEvent('tab'));\n    const indentElement = await waitForElement(() => (\n      content.querySelector('*[data-type=\"paragraph\"]')\n    )) as HTMLDivElement;\n    expect(indentElement.style.paddingLeft).toBe('0px');\n    expect(indentElement.style.textIndent).toBe('0');\n    expect(removeInvisibleChars(content?.textContent ?? '')).toBe('Hello    ');\n  });\n\n  it('增加缩进不会覆盖节点已有的属性', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\" data={{ mock: true }}>\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n    const { document } = controller.value;\n    expect(document.getBlocks()[0].data)\n      .toEqual({ mock: true, ind: { firstLine: 32 } });\n  });\n\n  it('减少缩进不会覆盖节点已有的属性', async () => {\n    const value = (\n      <value>\n        <document>\n          <block type=\"paragraph\" data={{ mock: true }}>\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('backspace')),\n    );\n    const { document } = controller.value;\n    expect(document.getBlocks()[0].data)\n      .toEqual({ mock: true, ind: { left: 32 } });\n  });\n\n  it('按原有单位减少缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                leftChars: 400,\n              },\n            }}\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('backspace')),\n    );\n    const { document } = controller.value;\n    expect(document.getBlocks()[0].data)\n      .toEqual({\n        ind: {\n          leftChars: 200,\n          left: 32,\n        },\n      });\n  });\n\n  it('按原有单位增加缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                leftChars: 200,\n                firstLine: 32,\n              },\n            }}\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n    const { document } = controller.value;\n    expect(document.getBlocks()[0].data)\n      .toEqual({\n        ind: {\n          leftChars: 400,\n          left: 64,\n          firstLine: 32,\n        },\n      });\n  });\n\n  it('悬挂缩进：按 tab 删除悬挂缩进并增加左缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                hanging: 32,\n              },\n            }}\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n\n    expect(controller.value.document.getBlocks()[0].data)\n      .toEqual({\n        ind: {\n          left: 32,\n        }\n      });\n  });\n\n  it('悬挂缩进：全选时按 tab 保留悬挂缩进并增加左缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                hanging: 32,\n              },\n            }}\n          >\n            <anchor />Hello<focus />\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n\n    expect(controller.value.document.getBlocks()[0].data)\n      .toEqual({\n        ind: {\n          leftChars: 200,\n          left: 32,\n          hanging: 32,\n        }\n      });\n  });\n\n  it('悬挂缩进：使用 toolbar 增加缩进可增加左缩进并保留悬挂缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                hanging: 32,\n              },\n            }}\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n\n    const { container, content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    await waitFor(() => screen.queryByTestId('bi-toolbar-indent'));\n    clickToolbar(container, '[data-testid=\"bi-toolbar-indent\"] [data-testid=\"splitbutton-arrow-bi-toolbar-indent\"]');\n    await waitFor(() => screen.queryByTestId('splite-overlay-bi-toolbar-indent'));\n    const element = await waitFor(() => screen.queryByTestId('menu-item-option-increase'));\n    fireEvent.click(element);\n\n    const indentElement = content.querySelector('*[data-type=\"paragraph\"]') as HTMLDivElement;\n    expect(indentElement.style.textIndent).toBe('-32px');\n    expect(indentElement.style.paddingLeft).toBe('32px');\n  });\n\n  it('悬挂缩进：已有左缩进时，按 tab 删除悬挂缩进并保留左缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                hanging: 32,\n                leftChars: 200,\n              },\n            }}\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n\n    expect(controller.value.document.getBlocks()[0].data)\n      .toEqual({\n        ind: {\n          leftChars: 200,\n        }\n      });\n  });\n\n  it('悬挂缩进：使用负的 firstLine', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                firstLine: -32,\n                left: 32,\n              },\n            }}\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n\n    expect(controller.value.document.getBlocks()[0].data)\n      .toEqual({\n        ind: {\n          left: 32,\n        }\n      });\n  });\n\n  it('首行缩进：按 tab 增加左缩进并保留首行', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                firstLine: 32,\n              },\n            }}\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n\n    expect(controller.value.document.getBlocks()[0].data)\n      .toEqual({ ind: { firstLine: 32, left: 32 } });\n  });\n\n  it('首行缩进：按 tab 首行缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n    const controller = Controller.create({\n      value,\n      plugins,\n    });\n\n    controller.run(\n      'onKeyDown',\n      // @ts-ignore\n      new KeyboardEvent('keydown', getHotkeyEvent('tab')),\n    );\n\n    expect(controller.value.document.getBlocks()[0].data)\n      .toEqual({ ind: { firstLine: 32 } });\n  });\n\n  it('首行缩进：使用 toolbar 增加缩进可增加左缩进并保留首行缩进', async () => {\n    const value = (\n      <value>\n        <document>\n          <block\n            type=\"paragraph\"\n            data={{\n              ind: {\n                firstLine: 32,\n              },\n            }}\n          >\n            <cursor />Hello\n          </block>\n        </document>\n      </value>\n    ) as unknown as Value;\n\n    const { container, content } = await renderEditor(<BiEditor defaultValue={value} />);\n\n    await waitFor(() => screen.queryByTestId('bi-toolbar-indent'));\n    clickToolbar(container, '[data-testid=\"bi-toolbar-indent\"] [data-testid=\"splitbutton-arrow-bi-toolbar-indent\"]');\n    await waitFor(() => screen.queryByTestId('splite-overlay-bi-toolbar-indent'));\n    const element = await waitFor(() => screen.queryByTestId('menu-item-option-increase'));\n    fireEvent.click(element);\n    await wait();\n    const indentElement = content.querySelector('*[data-type=\"paragraph\"]') as HTMLDivElement;\n    expect(indentElement.style.textIndent).toBe('32px');\n    expect(indentElement.style.paddingLeft).toBe('32px');\n  });\n});\n"],"file":"ui.legacyToolbar.test.js"}