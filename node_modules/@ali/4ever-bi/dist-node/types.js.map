{"version":3,"sources":["../../src/types.ts"],"names":[],"mappings":";;AAgDA","sourcesContent":["/**\n * @packageDocumentation\n * @module PluginConfigs\n */\nimport {\n  Value,\n  Operation,\n  Plugin,\n  ControllerConfigs,\n  Controller,\n  Block,\n} from '@ali/4ever-cangjie';\nimport { LinkPluginConfig } from './plugins/link/types';\nimport { QuickInsertPluginConfig } from './plugins/quickInsert/types';\nimport { CodePluginConfig } from '@ali/4ever-plugin-code';\nimport { MentionPluginConfigBi as MentionPluginConfig } from '@ali/4ever-plugin-mention';\nimport { EmbedPluginConfig } from './plugins/embed/types';\nimport { ClipboardPluginConfig } from '@ali/4ever-plugin-clipboard';\nimport { HeadingPluginConfig } from './plugins/heading/types';\nimport { HistoryPluginConfig } from '@ali/4ever-plugin-history';\nimport { OnlineVideoPluginConfig } from './plugins/onlineVideo/types';\nimport { PlaceHolderPluginConfig } from './plugins/placeholder/types';\nimport { ReferPluginConfig } from './plugins/refer/types';\nimport { AudioPluginConfig } from './plugins/audio/types';\nimport { VideoPluginConfig } from './plugins/video/types';\nimport { IMTagPluginConfig } from './plugins/imTag/types';\nimport { CalendarCardPluginConfig } from './plugins/calendarCard/types';\nimport type { DraggablePluginConfig } from '@ali/4ever-plugin-draggable';\nimport { NewlineGuidePluginConfig } from './plugins/newlineGuide/types';\nimport { ImagePluginConfig } from './plugins/image/types';\nimport { FormulaConfig } from './plugins/formula/types';\nimport { BiConfig as TableConfig } from '@ali/4ever-plugin-table';\nimport { SubjectConfig } from './plugins/subject/types';\nimport { HeadingGroupConfig } from './plugins/headingGroup/types';\nimport type { ColorToolbarConfig } from '@ali/4ever-plugin-color';\nimport { LaserPointerPluginConfig } from './plugins/laserPointer/types';\nimport { AutoSpacingPluginConfig } from './plugins/autoSpacing/types';\nimport { CalloutPluginConfig } from './plugins/callout/types';\nimport type { IPrefConfig } from '@ali/4ever-plugin-pref';\nimport { BiConfig as RefBlockPluginConfig } from '@ali/4ever-plugin-refblock';\nimport { VotePluginConfig } from './plugins/voteCard/types';\nimport { LeftToolbarItem } from '@ali/4ever-plugin-draggable';\nimport { QuickPreviewConfigs } from './plugins/quickPreview/types';\nimport type { FindAndReplaceConfig } from '@ali/4ever-plugin-find-and-replace';\nimport type { IHoverBlockConfig } from './plugins/hoverBlock/types';\nimport type { IHoverToolbarPluginConfigs } from './plugins/hoverToolbar/types';\nimport type { RenderToolbar } from '@ali/4ever-component';\nimport type { BiPlugin as BiPluginType } from '@ali/4ever-cangjie';\nimport '@ali/4ever-plugin-fold';\n\nexport interface SidebarTriggerConfig {\n  open: (key: string, name?: string) => void;\n}\n\n/**\n * @ignore\n */\nexport interface Change {\n  operations: Operation[];\n  value: Value;\n}\n\n/**\n * @ignore\n */\nexport type Changer = (value: Value, ...args) => Change;\n\n/**\n * @ignore\n */\nexport interface Action<Payload = any> {\n  type: string | symbol;\n  payload: Payload;\n}\n\n/**\n * Bi 插件的配置选项。\n */\nexport interface BiPluginConfig extends ControllerConfigs {\n  /**\n   * 允许业务层自定义插件\n   */\n  [key: string]: Record<string, any> | undefined;\n\n  /**\n   * 议题插件\n   */\n  subject?: SubjectConfig;\n  /**\n   * 标题组\n   */\n  headingGroup?: HeadingGroupConfig;\n  /**\n   * 剪切板插件\n   */\n  clipboard?: ClipboardPluginConfig | Record<string, any>;\n  /**\n   * 代码块插件\n   */\n  code?: CodePluginConfig;\n  /**\n   * 内置文件插件\n   */\n  embed?: EmbedPluginConfig;\n  /**\n   * 音频插件\n   */\n  audio?: AudioPluginConfig;\n  /**\n   * 视频插件\n   */\n  video?: VideoPluginConfig;\n  /**\n   * 标题插件\n   */\n  heading?: HeadingPluginConfig;\n  /**\n   * 历史记录插件\n   */\n  history?: HistoryPluginConfig;\n  /**\n   * 浮动工具栏插件\n   */\n  hoverToolbar?: IHoverToolbarPluginConfigs;\n  /**\n   * 块元素高亮效果\n   */\n  hoverBlock?: IHoverBlockConfig;\n  /**\n   * 图片插件\n   */\n  image?: ImagePluginConfig;\n  /**\n   * 链接插件\n   */\n  link?: LinkPluginConfig;\n  /**\n   * AT人插件\n   */\n  mention?: MentionPluginConfig;\n  /**\n   * 在线视频插件\n   */\n  onlineVideo?: OnlineVideoPluginConfig;\n  /**\n   * 占位字符插件\n   */\n  placeholder?: PlaceHolderPluginConfig;\n  /**\n   * 快速插入插件\n   */\n  quickInsert?: QuickInsertPluginConfig;\n  /**\n   * 钉盘引用插件\n   * @ignore\n   */\n  refer?: ReferPluginConfig;\n  /**\n   * bi中的imTag配置\n   */\n  imTag?: IMTagPluginConfig;\n  /**\n   * bi中的calendarCard配置\n   */\n  calendarCard?: CalendarCardPluginConfig;\n  /**\n   * draggable 配置\n   */\n  draggable?: DraggablePluginConfig;\n  /**\n   * newlineGuide 配置\n   */\n  newlineGuide?: NewlineGuidePluginConfig;\n  /**\n   * 公式配置\n   */\n  formula?: FormulaConfig;\n  /**\n   * 表格配置\n   */\n  table?: TableConfig;\n  /**\n   * 颜色工具栏配置\n   */\n  color?: ColorToolbarConfig;\n  /**\n   * 激光笔配置\n   */\n  laserPointer?: LaserPointerPluginConfig;\n  /**\n   * 中西文自动间距配置\n   */\n  autoSpacing?: AutoSpacingPluginConfig;\n  /**\n   * 高亮块配置\n   */\n  callout?: CalloutPluginConfig;\n  /**\n   * 用户偏好配置\n   */\n  pref?: IPrefConfig;\n  /**\n   * 引用块\n   */\n  refblock?: RefBlockPluginConfig;\n  // 右侧面板配置\n  sideBarTrigger?: SidebarTriggerConfig;\n  /**\n   * 投票配置\n   */\n  vote?: VotePluginConfig;\n  /**\n   * 快速预览态配置\n   */\n  quickPreview?: QuickPreviewConfigs;\n  /**\n   * 查找替换配置\n   */\n  findAndReplace?: FindAndReplaceConfig;\n}\n\n/**\n * 插件工厂。该方法会传入一个【调用createBiPlugins时候传入的】BiPluginConfig，和已经加载完成的插件map对象。\n * 工厂需要返回一个编辑器插件。\n * @ignore\n */\nexport type PluginFactory = (\n  config: BiPluginConfig,\n  map: Record<string, Plugin>,\n) => Plugin;\n\ninterface LeftToolbarProps {\n  controller: Controller;\n  currentBlock: Block;\n}\n\n\nexport type BiPlugin = Plugin & {\n  menubar?: any; // TODO 补充明确的类型\n  leftToolbar?: React.ComponentType<LeftToolbarProps>;\n  toolbar?: {\n    getTarget?: (controller: Controller) => string;\n  };\n  renderToolbar?: RenderToolbar;\n  renderHoverToolbar?: BiPluginType['renderHoverToolbar'];\n  sidebar?: {\n    locale: any;\n    config: any;\n    items: any;\n  } | (() => Promise<{\n    locale: any;\n    config: any;\n    items: any;\n  }>);\n  quickInsert?: any;\n  actions?: any;\n  placeholder?: any;\n  leftToolbarHandlers?: LeftToolbarItem[];\n};\n"],"file":"types.js"}