import { Document } from '@ali/4ever-cangjie';
import { Heading } from '@ali/4ever-mo';
var Heading1 = Heading.Heading1,
    Heading2 = Heading.Heading2,
    Heading3 = Heading.Heading3;

function createGenerateGroup(config) {
  return function generateGroup(element, controller, next) {
    var document = controller.value.document;
    var parent = document.getParent(element.key);
    var last = parent == null ? void 0 : parent.nodes[parent.nodes.length - 1]; // 如果不是一级节点，或者是文档末尾，则不分组

    if (!Document.isDocument(parent) || last === element) {
      return next();
    }

    if (Heading1.isHeading1(element)) {
      return {
        type: 'heading1-group',
        data: {
          symbol: '#'
        }
      };
    } else if (Heading2.isHeading2(element)) {
      return {
        type: 'heading2-group',
        data: {
          symbol: '##'
        }
      };
    } else if (Heading3.isHeading3(element)) {
      return {
        type: 'heading3-group',
        data: {
          symbol: '###'
        }
      };
    }

    return next();
  };
}

export default createGenerateGroup;
//# sourceMappingURL=createGenerateGroup.js.map