import onAction from "./handlers/onAction";
import createOnChange from "./handlers/onChange";
import * as actions from "./actions";
import * as queries from "./queries";

function createUUIDPlugin(config) {
  var _ref = config.uuid || {},
      _ref$enable = _ref.enable,
      enable = _ref$enable === void 0 ? false : _ref$enable; // 若 UUID 未开启，则 UUID Plugin：
  // 1. 不再负责生成 UUID 的职责（交由仓颉底层实现）
  // 2. 通过 anchor query，兼容已生成的锚点


  if (!enable) {
    return {
      queries: {
        anchor: queries.anchor
      }
    };
  }

  return {
    onAction: onAction,
    onChange: createOnChange(config.uuid || {}),
    models: [],
    queries: queries
  };
}

createUUIDPlugin.actions = actions;
export default createUUIDPlugin;
//# sourceMappingURL=index.js.map