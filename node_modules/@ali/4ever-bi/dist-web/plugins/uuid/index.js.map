{"version":3,"sources":["../../../../src/plugins/uuid/index.ts"],"names":["onAction","createOnChange","actions","queries","createUUIDPlugin","config","uuid","enable","anchor","onChange","models"],"mappings":"AACA,OAAOA,QAAP;AACA,OAAOC,cAAP;AACA,OAAO,KAAKC,OAAZ;AACA,OAAO,KAAKC,OAAZ;;AAEA,SAASC,gBAAT,CAA0BC,MAA1B,EAA0C;AAAA,aACbA,MAAM,CAACC,IAAP,IAAe,EADF;AAAA,yBAChCC,MADgC;AAAA,MAChCA,MADgC,4BACvB,KADuB,gBAExC;AACA;AACA;;;AACA,MAAI,CAACA,MAAL,EAAa;AACX,WAAO;AACLJ,MAAAA,OAAO,EAAE;AACPK,QAAAA,MAAM,EAAEL,OAAO,CAACK;AADT;AADJ,KAAP;AAKD;;AAED,SAAO;AACLR,IAAAA,QAAQ,EAARA,QADK;AAELS,IAAAA,QAAQ,EAAER,cAAc,CAACI,MAAM,CAACC,IAAP,IAAe,EAAhB,CAFnB;AAGLI,IAAAA,MAAM,EAAE,EAHH;AAILP,IAAAA,OAAO,EAAPA;AAJK,GAAP;AAMD;;AAEDC,gBAAgB,CAACF,OAAjB,GAA2BA,OAA3B;AAEA,eAAeE,gBAAf","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport onAction from './handlers/onAction';\nimport createOnChange from './handlers/onChange';\nimport * as actions from './actions';\nimport * as queries from './queries';\n\nfunction createUUIDPlugin(config): Plugin {\n  const { enable = false } = config.uuid || {};\n  // 若 UUID 未开启，则 UUID Plugin：\n  // 1. 不再负责生成 UUID 的职责（交由仓颉底层实现）\n  // 2. 通过 anchor query，兼容已生成的锚点\n  if (!enable) {\n    return {\n      queries: {\n        anchor: queries.anchor,\n      }\n    };\n  }\n\n  return {\n    onAction,\n    onChange: createOnChange(config.uuid || {}),\n    models: [],\n    queries,\n  };\n}\n\ncreateUUIDPlugin.actions = actions;\n\nexport default createUUIDPlugin;\n"],"file":"index.js"}