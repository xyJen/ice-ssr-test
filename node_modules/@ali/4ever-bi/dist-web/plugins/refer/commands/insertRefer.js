import { Commands } from '@ali/4ever-cangjie';
import uuid from 'uuid/v4';
export default (function (controller, files) {
  if (files === void 0) {
    files = [];
  }

  controller.command(Commands.focus);

  if (controller.query('isCollapsedInBlockVoid')) {
    controller.command(Commands.insertBlock, 'paragraph');
  }

  files.forEach(function (file) {
    controller.command(Commands.insertInline, {
      type: 'refer',
      data: {
        id: uuid(),
        name: file.fileName,
        type: 'dingpan',
        fileType: file.fileType,
        corpId: file.corpId,
        spaceId: file.spaceId,
        fileId: file.fileId,
        fileSize: file.fileSize,
        viewType: file.viewType || 'link',
        height: file.height
      }
    }).command(Commands.moveToStartOfNextText).command(Commands.insertText, ' ');
  });
  return controller.flush();
});
//# sourceMappingURL=insertRefer.js.map