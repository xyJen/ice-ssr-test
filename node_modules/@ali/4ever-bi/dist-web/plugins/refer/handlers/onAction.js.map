{"version":3,"sources":["../../../../../src/plugins/refer/handlers/onAction.ts"],"names":["DINGPAN_UPDATE","DINGPAN_REMOVE","updateRefer","removeRefer","onAction","action","controller","next","type","payload","node","data"],"mappings":"AAAA,SACEA,cADF,EAEEC,cAFF;AAIA,OAAOC,WAAP;AACA,OAAOC,WAAP;AAEA,eAAe,SAASC,QAAT,CAAkBC,MAAlB,EAA0BC,UAA1B,EAAsCC,IAAtC,EAA4C;AAAA,MACjDC,IADiD,GAC/BH,MAD+B,CACjDG,IADiD;AAAA,MAC3CC,OAD2C,GAC/BJ,MAD+B,CAC3CI,OAD2C;;AAEzD,MAAID,IAAI,KAAKR,cAAb,EAA6B;AAAA,QACnBU,IADmB,GACJD,OADI,CACnBC,IADmB;AAAA,QACbC,IADa,GACJF,OADI,CACbE,IADa;AAE3B,WAAOT,WAAW,CAACI,UAAD,EAAaI,IAAb,EAAmBC,IAAnB,CAAlB;AACD;;AACD,MAAIH,IAAI,KAAKP,cAAb,EAA6B;AAAA,QACnBS,KADmB,GACVD,OADU,CACnBC,IADmB;AAE3B,WAAOP,WAAW,CAACG,UAAD,EAAaI,KAAb,CAAlB;AACD;;AAED,SAAOH,IAAI,EAAX;AACD","sourcesContent":["import {\n  DINGPAN_UPDATE,\n  DINGPAN_REMOVE,\n} from '../actions';\nimport updateRefer from '../commands/updateRefer';\nimport removeRefer from '../commands/removeRefer';\n\nexport default function onAction(action, controller, next) {\n  const { type, payload } = action;\n  if (type === DINGPAN_UPDATE) {\n    const { node, data } = payload;\n    return updateRefer(controller, node, data);\n  }\n  if (type === DINGPAN_REMOVE) {\n    const { node } = payload;\n    return removeRefer(controller, node);\n  }\n\n  return next();\n}\n"],"file":"onAction.js"}