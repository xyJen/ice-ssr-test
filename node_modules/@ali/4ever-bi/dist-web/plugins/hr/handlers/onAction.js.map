{"version":3,"sources":["../../../../../src/plugins/hr/handlers/onAction.ts"],"names":["HR_INSERT","HR_UPDATE","insertHr","updateHr","onAction","action","editor","next","type","payload","data","node"],"mappings":"AACA,SAASA,SAAT,EAAoBC,SAApB;AACA,OAAOC,QAAP;AACA,OAAOC,QAAP;AAGA,eAAe,SAASC,QAAT,CAAkBC,MAAlB,EAAkCC,MAAlC,EAAsDC,IAAtD,EAAwE;AAAA,MAC7EC,IAD6E,GAC3DH,MAD2D,CAC7EG,IAD6E;AAAA,MACvEC,OADuE,GAC3DJ,MAD2D,CACvEI,OADuE;;AAErF,MAAID,IAAI,KAAKR,SAAb,EAAwB;AACtB,WAAOE,QAAQ,CAACI,MAAD,EAASG,OAAT,CAAf;AACD;;AACD,MAAID,IAAI,KAAKP,SAAb,EAAwB;AAAA,QACdS,IADc,GACCD,OADD,CACdC,IADc;AAAA,QACRC,IADQ,GACCF,OADD,CACRE,IADQ;;AAEtB,QAAIA,IAAI,IAAIA,IAAI,CAACH,IAAL,KAAc,IAA1B,EAAgC;AAC9B,aAAOL,QAAQ,CAACG,MAAD,EAASK,IAAT,EAAeD,IAAf,CAAf;AACD;AACF;;AACD,SAAOH,IAAI,EAAX;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { HR_INSERT, HR_UPDATE } from '../actions';\nimport insertHr from '../commands/insertHr';\nimport updateHr from '../commands/updateHr';\nimport { Action } from '../../../types';\n\nexport default function onAction(action: Action, editor: Controller, next: () => void) {\n  const { type, payload } = action;\n  if (type === HR_INSERT) {\n    return insertHr(editor, payload);\n  }\n  if (type === HR_UPDATE) {\n    const { data, node } = payload;\n    if (node && node.type === 'hr') {\n      return updateHr(editor, node, data);\n    }\n  }\n  return next();\n}\n"],"file":"onAction.js"}