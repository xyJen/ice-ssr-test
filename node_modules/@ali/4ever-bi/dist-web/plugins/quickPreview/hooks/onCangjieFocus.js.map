{"version":3,"sources":["../../../../../src/plugins/quickPreview/hooks/onCangjieFocus.ts"],"names":["findNativeTextArea","onCangjieFocus","controller","next","isPreviewing","query","value","isBlurred","textArea","blur"],"mappings":"AACA,OAAOA,kBAAP;AAEA,eAAe,SAASC,cAAT,CAAwBC,UAAxB,EAAgDC,IAAhD,EAA2D;AACxE,MAAMC,YAAY,GAAGF,UAAU,CAACG,KAAX,CAAiB,gBAAjB,CAArB;;AACA,MAAID,YAAY,IAAIF,UAAU,CAACI,KAAX,CAAiBC,SAArC,EAAgD;AAC9C;AACA,QAAMC,QAAQ,GAAGR,kBAAkB,CAACE,UAAD,CAAnC;;AACA,QAAIM,QAAJ,YAAIA,QAAQ,CAAEC,IAAd,EAAoB;AAClBD,MAAAA,QAAQ,CAACC,IAAT;AACD;;AACD,WAAOP,UAAP;AACD;;AACD,SAAOC,IAAI,EAAX;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport findNativeTextArea from '../utils/findNativeTextArea';\n\nexport default function onCangjieFocus(controller: Controller, next: any) {\n  const isPreviewing = controller.query('isQuickPreview');\n  if (isPreviewing && controller.value.isBlurred) {\n    // 额外调用一次 native blur 事件，避免键盘弹出、数据没有 focus 的情形\n    const textArea = findNativeTextArea(controller);\n    if (textArea?.blur) {\n      textArea.blur();\n    }\n    return controller;\n  }\n  return next();\n}\n"],"file":"onCangjieFocus.js"}