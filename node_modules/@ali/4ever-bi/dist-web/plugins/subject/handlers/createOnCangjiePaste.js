import { selectSubjectRange } from "../commands";
import { SELECTED_SUBJECT_KEY } from "../constants";
import { hasSubjectBeenSelected } from "../helpers";
import { isSubjectHeading } from "../utils";

function createOnCangjiePaste() {
  return function onCangjiePaste(event, controller, next) {
    if (hasSubjectBeenSelected(controller)) {
      var _controller$value = controller.value,
          document = _controller$value.document,
          data = _controller$value.data;
      var selectedKey = data[SELECTED_SUBJECT_KEY];
      var block = document.getNode(selectedKey);

      if (isSubjectHeading(block)) {
        // Paste 之前先全选议题
        controller.command(selectSubjectRange, block);
      }
    }

    return next();
  };
}

export default createOnCangjiePaste;
//# sourceMappingURL=createOnCangjiePaste.js.map