import { Commands } from '@ali/4ever-cangjie';
import { TOGGLE_FINISHED, INSERT_SUBJECT, INSERT_BLOCK, HIGHLIGHT_SUBJECT } from "../actions";
import { highlightSubject, insertSubject, toggleFinished } from "../commands";

function createOnAction() {
  return function onAction(action, controller, next) {
    var type = action.type,
        payload = action.payload;

    if (type === TOGGLE_FINISHED) {
      var _ref = payload,
          node = _ref.node,
          finished = _ref.finished;
      return controller.command(toggleFinished, node, finished);
    }

    if (type === INSERT_SUBJECT) {
      var _ref2 = payload,
          _node = _ref2.node,
          direction = _ref2.direction,
          properties = _ref2.properties;
      return controller.command(insertSubject, properties, _node, direction);
    }

    if (type === INSERT_BLOCK) {
      var _ref3 = payload,
          blockProps = _ref3.blockProps;
      return controller.command(Commands.insertBlock, blockProps);
    }

    if (type === HIGHLIGHT_SUBJECT) {
      var _ref4 = payload,
          subjectId = _ref4.subjectId,
          highlight = _ref4.highlight;
      return controller.command(highlightSubject, subjectId, highlight);
    }

    return next();
  };
}

export default createOnAction;
//# sourceMappingURL=createOnAction.js.map