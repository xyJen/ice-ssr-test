{"version":3,"sources":["../../../../../src/plugins/subject/handlers/createOnCangjieSelect.ts"],"names":["SubjectPlugin","unselectSubject","hasSubjectBeenSelected","createCommonOnCangjieSelect","handlers","createOnCangjieSelect","handleCangjieSelect","onCangjieSelect","event","controller","next","command"],"mappings":"AACA,SAASA,aAAT,QAA8B,mBAA9B;AACA,SAASC,eAAT;AACA,SAASC,sBAAT;IAE+BC,2B,GAAgCH,aAAa,CAACI,Q,CAArEC,qB;;AAER,SAASA,qBAAT,GAA4D;AAC1D,MAAMC,mBAAmB,GAAGH,2BAA2B,EAAvD;AAEA,SAAO,SAASI,eAAT,CAAyBC,KAAzB,EAAgCC,UAAhC,EAA4CC,IAA5C,EAAkD;AACvD;AACA,QAAIR,sBAAsB,CAACO,UAAD,CAA1B,EAAwC;AACtCA,MAAAA,UAAU,CAACE,OAAX,CAAmBV,eAAnB;AACD;;AACD,WAAOK,mBAAmB,CAACE,KAAD,EAAQC,UAAR,EAAoBC,IAApB,CAA1B;AACD,GAND;AAOD;;AAED,eAAeL,qBAAf","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport { SubjectPlugin } from '@ali/4ever-bamboo';\nimport { unselectSubject } from '../commands';\nimport { hasSubjectBeenSelected } from '../helpers';\n\nconst { createOnCangjieSelect: createCommonOnCangjieSelect } = SubjectPlugin.handlers;\n\nfunction createOnCangjieSelect(): Plugin['onCangjieSelect'] {\n  const handleCangjieSelect = createCommonOnCangjieSelect()!;\n\n  return function onCangjieSelect(event, controller, next) {\n    // 每次选区变化的时候，重置议题选区\n    if (hasSubjectBeenSelected(controller)) {\n      controller.command(unselectSubject);\n    }\n    return handleCangjieSelect(event, controller, next);\n  };\n}\n\nexport default createOnCangjieSelect;\n"],"file":"createOnCangjieSelect.js"}