{"version":3,"sources":["../../../../../src/plugins/subject/components/feedback.tsx"],"names":["React","styled","keyframes","classnames","fadeIn","fadeOut","FeedbackBox","div","Feedback","props","visible","children","className","rest","useState","internalVisible","setInternalVisible","animate","setAnimate","visibleRef","useRef","handleAnimationEnd","useCallback","useEffect","current","classNames","displayName"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,mBAAlC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,IAAMC,MAAM,gBAAGF,SAAH,wHAAZ;AAcA,IAAMG,OAAO,gBAAGH,SAAH,wFAAb;AAWA,IAAMI,WAAW,gBAAGL,MAAM,CAACM,GAAV,mTAYKH,MAZL,EAiBKC,OAjBL,CAAjB;;AA0BA,IAAMG,QAAiC,GAAG,SAApCA,QAAoC,CAACC,KAAD,EAAW;AAAA,MAEjDC,OAFiD,GAM/CD,KAN+C,CAEjDC,OAFiD;AAAA,MAGjDC,QAHiD,GAM/CF,KAN+C,CAGjDE,QAHiD;AAAA,MAIjDC,SAJiD,GAM/CH,KAN+C,CAIjDG,SAJiD;AAAA,MAK9CC,IAL8C,iCAM/CJ,KAN+C;;AAAA,wBAQLT,KAAK,CAACc,QAAN,CAAeJ,OAAf,CARK;AAAA,MAQ5CK,eAR4C;AAAA,MAQ3BC,kBAR2B;;AAAA,yBASrBhB,KAAK,CAACc,QAAN,CAAe,KAAf,CATqB;AAAA,MAS5CG,OAT4C;AAAA,MASnCC,UATmC;;AAUnD,MAAMC,UAAU,GAAGnB,KAAK,CAACoB,MAAN,CAAaV,OAAb,CAAnB;AAEA,MAAMW,kBAAkB,GAAGrB,KAAK,CAACsB,WAAN,CAAkB,YAAM;AACjDJ,IAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,IAAAA,kBAAkB,CAACN,OAAD,CAAlB;AACD,GAH0B,EAGxB,CAACA,OAAD,CAHwB,CAA3B;AAKAV,EAAAA,KAAK,CAACuB,SAAN,CAAgB,YAAM;AACpB,QAAIb,OAAO,KAAKS,UAAU,CAACK,OAA3B,EAAoC;AAClCN,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAF,MAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAG,MAAAA,UAAU,CAACK,OAAX,GAAqBd,OAArB;AACD;AACF,GAND,EAMG,CAACA,OAAD,CANH;AAQA,MAAMe,UAAU,GAAGtB,UAAU,CAACS,SAAD,EAAY;AACvC,eAAWK,OAAO,IAAIP,OADiB;AAEvC,gBAAYO,OAAO,IAAI,CAACP;AAFe,GAAZ,CAA7B;;AAKA,MAAI,CAACK,eAAL,EAAsB;AACpB,WAAO,IAAP;AACD;;AAED,sBACE,eAAC,WAAD,eAAiBF,IAAjB;AAAuB,IAAA,SAAS,EAAEY,UAAlC;AAA8C,IAAA,cAAc,EAAEJ;AAA9D,MACGV,QADH,CADF;AAKD,CAvCD;;AAyCAH,QAAQ,CAACkB,WAAT,GAAuB,aAAvB;AAEA,eAAelB,QAAf","sourcesContent":["import * as React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport classnames from 'classnames';\n\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n    transform: translate(0, 20%);\n  }\n  80% {\n    opacity: 1;\n    transform: translate(0, -5%);\n  }\n  100% {\n    transform: translate(0, 0);\n  }\n`;\n\nconst fadeOut = keyframes`\n  0% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n  100% {\n    opacity: 0;\n    transform: translate(0, 20%);\n  }\n`;\n\nconst FeedbackBox = styled.div`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  background: #FFFFFF;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.0823864);\n  border-radius: 4px;\n  font-size: 12px;\n  color: rgba(17, 31, 44, 0.65);\n  cursor: default;\n\n  &.fade-in {\n    animation-name: ${fadeIn};\n    animation-duration: 0.4s;\n  }\n\n  &.fade-out {\n    animation-name: ${fadeOut};\n    animation-duration: 0.4s;\n  }\n`;\n\nexport interface FeedbackProps extends React.HTMLAttributes<HTMLDivElement> {\n  visible: boolean;\n}\n\nconst Feedback: React.FC<FeedbackProps> = (props) => {\n  const {\n    visible,\n    children,\n    className,\n    ...rest\n  } = props;\n\n  const [internalVisible, setInternalVisible] = React.useState(visible);\n  const [animate, setAnimate] = React.useState(false);\n  const visibleRef = React.useRef(visible);\n\n  const handleAnimationEnd = React.useCallback(() => {\n    setAnimate(false);\n    setInternalVisible(visible);\n  }, [visible]);\n\n  React.useEffect(() => {\n    if (visible !== visibleRef.current) {\n      setAnimate(true);\n      setInternalVisible(true);\n      visibleRef.current = visible;\n    }\n  }, [visible]);\n\n  const classNames = classnames(className, {\n    'fade-in': animate && visible,\n    'fade-out': animate && !visible,\n  });\n\n  if (!internalVisible) {\n    return null;\n  }\n\n  return (\n    <FeedbackBox {...rest} className={classNames} onAnimationEnd={handleAnimationEnd}>\n      {children}\n    </FeedbackBox>\n  );\n};\n\nFeedback.displayName = 'FeedbackBox';\n\nexport default Feedback;\n"],"file":"feedback.js"}