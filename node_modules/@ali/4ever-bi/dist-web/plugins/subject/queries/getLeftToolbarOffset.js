import { SubjectPlugin } from '@ali/4ever-bamboo';
import { ColorBlocks } from '@ali/4ever-mo';
var getSubjectStartBlock = SubjectPlugin.queries.getSubjectStartBlock;
var DRAGGABLE_WIDTH = -20;
var blackList = [function (node, controller) {
  // 在高亮块中
  var parent = controller.value.document.getParent(node.key);
  return ColorBlocks.isColorBlocks(parent);
}];
export function getLeftToolbarOffset(controller, data) {
  var _ref = data || {},
      node = _ref.node;

  var subject = controller.query(getSubjectStartBlock, node); // 如果节点在议题里，那么段落拖动按钮需要加一个 offset
  // 黑名单包含的节点会单独定义 offset

  if (!!subject && !blackList.some(function (fn) {
    return fn(node, controller);
  })) {
    return {
      x: DRAGGABLE_WIDTH,
      y: 0
    };
  }

  return undefined;
}
//# sourceMappingURL=getLeftToolbarOffset.js.map