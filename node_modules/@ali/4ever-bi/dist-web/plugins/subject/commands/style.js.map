{"version":3,"sources":["../../../../../src/plugins/subject/commands/style.ts"],"names":["Commands","clearSubjectStyle","controller","value","selection","document","blocks","getRootBlocksAtRange","forEach","block","data","subjectPr","rest","command","setNodeByKey","key"],"mappings":";AAAA,SAASA,QAAT,QAAqC,oBAArC;AAEA;AACA;AACA;AACA;;AACA,OAAO,SAASC,iBAAT,CAA2BC,UAA3B,EAAmD;AAAA,0BACxBA,UAAU,CAACC,KADa;AAAA,MAChDC,SADgD,qBAChDA,SADgD;AAAA,MACrCC,QADqC,qBACrCA,QADqC;AAExD,MAAMC,MAAM,GAAGD,QAAQ,CAACE,oBAAT,CAA8BH,SAA9B,CAAf;AACAE,EAAAA,MAAM,CAACE,OAAP,CAAe,UAACC,KAAD,EAAW;AACxB,QAAIA,KAAK,CAACC,IAAN,CAAWC,SAAf,EAA0B;AAAA,wBACOF,KAAK,CAACC,IADb;AAAA,UAChBC,SADgB,eAChBA,SADgB;AAAA,UACFC,IADE;;AAExBV,MAAAA,UAAU,CAACW,OAAX,CAAmBb,QAAQ,CAACc,YAA5B,EAA0CL,KAAK,CAACM,GAAhD,EAAqD;AACnDL,QAAAA,IAAI,EAAEE;AAD6C,OAArD;AAGD;AACF,GAPD;AAQA,SAAOV,UAAP;AACD","sourcesContent":["import { Commands, Controller } from '@ali/4ever-cangjie';\n\n/**\n * 清楚议题格式\n * @param controller\n */\nexport function clearSubjectStyle(controller: Controller) {\n  const { selection, document } = controller.value;\n  const blocks = document.getRootBlocksAtRange(selection);\n  blocks.forEach((block) => {\n    if (block.data.subjectPr) {\n      const { subjectPr, ...rest } = block.data;\n      controller.command(Commands.setNodeByKey, block.key, {\n        data: rest,\n      });\n    }\n  });\n  return controller;\n}\n"],"file":"style.js"}