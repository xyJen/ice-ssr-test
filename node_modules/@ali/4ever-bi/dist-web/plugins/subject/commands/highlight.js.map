{"version":3,"sources":["../../../../../src/plugins/subject/commands/highlight.ts"],"names":["HIGHLIGHT_SUBJECT_KEY","highlightSubject","controller","subjectId","highlight","data","value","setData","newData"],"mappings":";AACA,SAASA,qBAAT;AAEA,OAAO,SAASC,gBAAT,CAA0BC,UAA1B,EAAkDC,SAAlD,EAAqEC,SAArE,EAAyF;AAAA,MACtFC,IADsF,GAC7EH,UAAU,CAACI,KADkE,CACtFD,IADsF;;AAG9F,MAAID,SAAJ,EAAe;AAAA;;AACb,WAAOF,UAAU,CAACK,OAAX,cACFF,IADE,6BAEJL,qBAFI,IAEoBG,SAFpB,cAAP;AAID;;AAED,MAAIE,IAAI,CAACL,qBAAD,CAAR,EAAiC;AAC/B,QAAMQ,OAAO,gBAAQH,IAAR,CAAb;;AACA,WAAOG,OAAO,CAACR,qBAAD,CAAd;AACA,WAAOE,UAAU,CAACK,OAAX,CAAmBC,OAAnB,CAAP;AACD;;AAED,SAAON,UAAP;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { HIGHLIGHT_SUBJECT_KEY } from '../constants';\n\nexport function highlightSubject(controller: Controller, subjectId: string, highlight: boolean) {\n  const { data } = controller.value;\n\n  if (highlight) {\n    return controller.setData({\n      ...data,\n      [HIGHLIGHT_SUBJECT_KEY]: subjectId,\n    });\n  }\n\n  if (data[HIGHLIGHT_SUBJECT_KEY]) {\n    const newData = { ...data };\n    delete newData[HIGHLIGHT_SUBJECT_KEY];\n    return controller.setData(newData);\n  }\n\n  return controller;\n}\n"],"file":"highlight.js"}