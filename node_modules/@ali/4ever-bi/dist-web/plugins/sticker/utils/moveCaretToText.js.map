{"version":3,"sources":["../../../../../src/plugins/sticker/utils/moveCaretToText.ts"],"names":["moveCaret","STICKER_NODE_TYPE","moveCaretToText","controller","offset","cb","value","document","selection","anchor","parent","getParent","key","type","run"],"mappings":"AACA,SAASA,SAAT;AACA,SAASC,iBAAT;;AAQA;AACA;AACA;AACA;AACA,eAAe,SAASC,eAAT,OAIM;AAAA,MAHnBC,UAGmB,QAHnBA,UAGmB;AAAA,MAFnBC,MAEmB,QAFnBA,MAEmB;AAAA,MADnBC,EACmB,QADnBA,EACmB;AAAA,0BACaF,UAAU,CAACG,KADxB;AAAA,MACXC,QADW,qBACXA,QADW;AAAA,MACDC,SADC,qBACDA,SADC;AAAA,MAEXC,MAFW,GAEAD,SAFA,CAEXC,MAFW;AAGnB,MAAMC,MAAM,GAAGH,QAAQ,CAACI,SAAT,CAAmBF,MAAM,CAACG,GAA1B,CAAf;AACA,MAAI,CAAAF,MAAM,QAAN,YAAAA,MAAM,CAAEG,IAAR,MAAiBZ,iBAArB,EAAwC;;AACxC,MAAII,EAAJ,EAAQ;AACNA,IAAAA,EAAE;AACH,GAFD,MAEO;AACLF,IAAAA,UAAU,CAACW,GAAX,CAAe,UAAf,EAA2Bd,SAAS,CAAC;AAAEI,MAAAA,MAAM,EAANA;AAAF,KAAD,CAApC;AACD;AACF","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { moveCaret } from '../actions';\nimport { STICKER_NODE_TYPE } from '../constants';\n\ninterface IMoveCaretToText {\n  controller: Controller;\n  offset?: 1 | -1;\n  cb?: Function;\n}\n\n/**\n * @description sticker 为选中态时，根据实际场景移动光标至节点左侧或右侧\n * @param offset 光标移动偏移量\n * */\nexport default function moveCaretToText({\n  controller,\n  offset,\n  cb,\n}: IMoveCaretToText) {\n  const { document, selection } = controller.value;\n  const { anchor } = selection;\n  const parent = document.getParent(anchor.key);\n  if (parent?.type !== STICKER_NODE_TYPE) return;\n  if (cb) {\n    cb();\n  } else {\n    controller.run('onAction', moveCaret({ offset }));\n  }\n}\n"],"file":"moveCaretToText.js"}