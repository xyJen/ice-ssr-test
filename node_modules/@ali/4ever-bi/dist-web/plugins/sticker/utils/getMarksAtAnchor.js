import { Mark, Text } from '@ali/4ever-cangjie';
import { SzMark, HighlightMark } from '@ali/4ever-mo';
/**
 * @description 继承粘贴时光标所在位置 startBlock的style及type
 * @param {controller}
 * */

export default function getMarksAtAnchor(controller) {
  var _controller$value = controller.value,
      document = _controller$value.document,
      selection = _controller$value.selection;
  var anchor = selection.anchor;
  var anchorNode = document.getNode(anchor.key);
  var marks = Text.isText(anchorNode) ? anchorNode.getMarks() : [];
  return [].concat(marks, [Mark.create({
    type: SzMark.TYPE,
    data: {
      value: controller.query('getSize'),
      szUnit: 'pt'
    }
  }), Mark.create({
    type: HighlightMark.TYPE,
    data: {
      value: controller.query('getHighlight')
    }
  })]);
}
//# sourceMappingURL=getMarksAtAnchor.js.map