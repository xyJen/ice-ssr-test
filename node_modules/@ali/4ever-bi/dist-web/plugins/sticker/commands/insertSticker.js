import { Commands, Inline, Text } from '@ali/4ever-cangjie';
import { STICKER_NODE_TYPE } from "../constants";
import { getMarksAtAnchor } from "../utils";
export default function insertSticker(controller, payload) {
  var marks = getMarksAtAnchor(controller);
  var code = payload.code,
      node = payload.node;
  controller.command(Commands.insertInline, Inline.create({
    type: STICKER_NODE_TYPE,
    data: {
      code: code
    },
    nodes: [Text.create('').addMarks(0, 0, marks)]
  }));
  if (!node) return controller; // 通过面板连续添加表情，需要移除表情的选中状态

  return controller.command(Commands.moveToStartOfNextText).command(Commands.focus);
}
//# sourceMappingURL=insertSticker.js.map