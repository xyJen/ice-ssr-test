{"version":3,"sources":["../../../../../src/plugins/sticker/commands/setRange.ts"],"names":["Commands","MOVE_SET","setRange","controller","payload","document","value","range","trigger","getTargetMethod","moveMethod","maybeSticker","getParent","anchor","key","sideNode","newRange","command","select"],"mappings":"AAAA,SAAqBA,QAArB,QAAqC,oBAArC;AAEA,SAASC,QAAT;AAEA,eAAe,SAASC,QAAT,CACbC,UADa,EAEbC,OAFa,EAGb;AAAA,MACQC,QADR,GACqBF,UAAU,CAACG,KADhC,CACQD,QADR;AAAA,MAEQE,KAFR,GAE2BH,OAF3B,CAEQG,KAFR;AAAA,MAEeC,OAFf,GAE2BJ,OAF3B,CAEeI,OAFf;AAAA,0BAGwCP,QAAQ,CAACO,OAAD,CAHhD;AAAA,MAGQC,eAHR,qBAGQA,eAHR;AAAA,MAGyBC,UAHzB,qBAGyBA,UAHzB;AAIA,MAAMC,YAAY,GAAGN,QAAQ,CAACO,SAAT,CAAmBL,KAAK,CAACM,MAAN,CAAaC,GAAhC,CAArB;AACA,MAAMC,QAAQ,GAAGV,QAAQ,CAACI,eAAD,CAAR,CAA0BE,YAAY,CAACG,GAAvC,CAAjB;AACA,MAAME,QAAQ,GAAGT,KAAK,CAACG,UAAD,CAAL,CAAkBK,QAAlB,EAA4BZ,UAA5B,CAAjB;AACA,SAAOA,UAAU,CAACc,OAAX,CAAmBjB,QAAQ,CAACkB,MAA5B,EAAoCF,QAApC,CAAP;AACD","sourcesContent":["import { Controller, Commands } from '@ali/4ever-cangjie';\nimport { SetRangeProps } from '../types';\nimport { MOVE_SET } from '../constants';\n\nexport default function setRange(\n  controller: Controller,\n  payload: SetRangeProps,\n) {\n  const { document } = controller.value;\n  const { range, trigger } = payload;\n  const { getTargetMethod, moveMethod } = MOVE_SET[trigger];\n  const maybeSticker = document.getParent(range.anchor.key);\n  const sideNode = document[getTargetMethod](maybeSticker.key);\n  const newRange = range[moveMethod](sideNode, controller);\n  return controller.command(Commands.select, newRange);\n}\n"],"file":"setRange.js"}