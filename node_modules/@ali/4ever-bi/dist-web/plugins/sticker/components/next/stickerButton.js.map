{"version":3,"sources":["../../../../../../src/plugins/sticker/components/next/stickerButton.tsx"],"names":["React","insertSticker","setStickerPanelVisible","STICKER_PLACEHOLDER_DATA","IconEmoji","createStickerButton","props","controller","locale","icon","title","tooltip","badgeDot","disabled","handleClick","run","visible","isDisabled","query","buttonConfig","onClick","quickInsertTitle","testid"],"mappings":";AAAA,OAAOA,KAAP,MAAmC,OAAnC;qBAC4B,a;AAC5B,SAASC,aAAT,EAAwBC,sBAAxB;AACA,SAASC,wBAAT;AACA,SAA6CC,SAA7C,QAA8D,sBAA9D;;wBAwBkB,eAAC,SAAD,O;;AAhBlB,eAAe,SAASC,mBAAT,CAA6BC,KAA7B,EAAsE;AAAA,MAC3EC,UAD2E,GACLD,KADK,CAC3EC,UAD2E;AAAA,sBACLD,KADK,CAC/DE,MAD+D;AAAA,MAC/DA,MAD+D,8BACtD,EADsD;AAAA,MAClDC,IADkD,GACLH,KADK,CAClDG,IADkD;AAAA,MAC5CC,KAD4C,GACLJ,KADK,CAC5CI,KAD4C;AAAA,MACrCC,OADqC,GACLL,KADK,CACrCK,OADqC;AAAA,MAC5BC,QAD4B,GACLN,KADK,CAC5BM,QAD4B;AAAA,MAClBC,QADkB,GACLP,KADK,CAClBO,QADkB;;AAGnF,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBP,IAAAA,UAAU,CAACQ,GAAX,CAAe,UAAf,EAA2Bd,aAAa,CAACE,wBAAD,CAAxC;AACAI,IAAAA,UAAU,CAACQ,GAAX,CACE,UADF,EAEEb,sBAAsB,CAAC;AACrBc,MAAAA,OAAO,EAAE;AADY,KAAD,CAFxB;AAMD,GARD;;AAUA,MAAMC,UAAU,GAAGJ,QAAQ,IAAIN,UAAU,CAACW,KAAX,CAAiB,kBAAjB,CAAZ,IAAoDX,UAAU,CAACW,KAAX,CAAiB,oBAAjB,CAApD,IAA8FX,UAAU,CAACW,KAAX,CAAiB,uBAAjB,CAAjH;AAEA,MAAMC,YAA0B,GAAI;AAClCV,IAAAA,IAAI,EAAEA,IAAI,QADwB;AAElCW,IAAAA,OAAO,EAAEN,WAFyB;AAGlCJ,IAAAA,KAAK,EAAEA,KAAK,KAAIF,MAAJ,oBAAIA,MAAM,CAAEa,gBAAZ,CAHsB;AAIlCV,IAAAA,OAAO;AACLD,MAAAA,KAAK,EAAEA,KAAK,KAAIF,MAAJ,oBAAIA,MAAM,CAAEa,gBAAZ;AADP,OAEFV,OAFE,CAJ2B;AAQlCC,IAAAA,QAAQ,EAARA,QARkC;AASlCC,IAAAA,QAAQ,EAAEI,UATwB;AAUlCK,IAAAA,MAAM,EAAE;AAV0B,GAApC;AAaA,SAAOH,YAAP;AAED","sourcesContent":["import React, { useCallback } from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { insertSticker, setStickerPanelVisible } from '../../actions';\nimport { STICKER_PLACEHOLDER_DATA } from '../../constants';\nimport { IBasicButton, IToolbarButtonConfig, IconEmoji } from '@ali/4ever-component';\n\n\nexport interface StickerButtonProps extends IToolbarButtonConfig {\n  controller: Controller;\n  locale?: Record<string, string>;\n}\n\nexport default function createStickerButton(props: StickerButtonProps): IBasicButton {\n  const { controller, locale = {}, icon, title, tooltip, badgeDot, disabled } = props;\n\n  const handleClick = () => {\n    controller.run('onAction', insertSticker(STICKER_PLACEHOLDER_DATA));\n    controller.run(\n      'onAction',\n      setStickerPanelVisible({\n        visible: true,\n      }),\n    );\n  };\n\n  const isDisabled = disabled || controller.query('isDisableSticker') || controller.query('isSelectionInImage') || controller.query('isSelectionInLinkCard');\n\n  const buttonConfig: IBasicButton = ({\n    icon: icon || <IconEmoji />,\n    onClick: handleClick,\n    title: title || locale?.quickInsertTitle,\n    tooltip: {\n      title: title || locale?.quickInsertTitle,\n      ...tooltip,\n    },\n    badgeDot,\n    disabled: isDisabled,\n    testid: \"bi-toolbar-sticker\"\n  });\n\n  return buttonConfig;\n\n}\n"],"file":"stickerButton.js"}