{"version":3,"sources":["../../../../../src/plugins/link/utils/getCardInfo.ts"],"names":["isLinkCardNode","getCardInfo","node","injections","data","cardInfo","length","injection","find","i","key"],"mappings":"AACA,SAASA,cAAT;AAGA,eAAe,SAASC,WAAT,CAAqBC,IAArB,EAAiCC,UAAjC,EAA6F;AAC1G,MAAIH,cAAc,CAACE,IAAD,CAAlB,EAA0B;AAAA,QAChBE,IADgB,GACPF,IADO,CAChBE,IADgB;AAAA,QAEhBC,QAFgB,GAEHD,IAFG,CAEhBC,QAFgB;;AAGxB,QAAIA,QAAJ,EAAc;AACZ,aAAOA,QAAP;AACD;AACF;;AAED,MAAIF,UAAU,IAAIA,UAAU,CAACG,MAAX,GAAoB,CAAtC,EAAyC;AACvC,QAAMC,SAAS,GAAGJ,UAAU,CAACK,IAAX,CAAgB,UAACC,CAAD;AAAA,aAAOA,CAAC,CAACC,GAAF,KAAUR,IAAI,CAACQ,GAAtB;AAAA,KAAhB,CAAlB;;AACA,QAAIH,SAAJ,EAAe;AACb,aAAOA,SAAS,CAACH,IAAV,CAAeC,QAAtB;AACD;AACF;;AAED,SAAO,IAAP;AACD","sourcesContent":["import { Injection, Node } from '@ali/4ever-cangjie';\nimport { isLinkCardNode } from './isLinkCard';\nimport { ILinkCardInfo } from '../types';\n\nexport default function getCardInfo(node: Node, injections?: Injection[]): ILinkCardInfo | null | undefined {\n  if (isLinkCardNode(node)) {\n    const { data } = node;\n    const { cardInfo } = data;\n    if (cardInfo) {\n      return cardInfo;\n    }\n  }\n\n  if (injections && injections.length > 0) {\n    const injection = injections.find((i) => i.key === node.key);\n    if (injection) {\n      return injection.data.cardInfo;\n    }\n  }\n\n  return null;\n}\n"],"file":"getCardInfo.js"}