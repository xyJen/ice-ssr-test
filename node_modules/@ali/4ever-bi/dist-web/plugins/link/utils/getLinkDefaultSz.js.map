{"version":3,"sources":["../../../../../src/plugins/link/utils/getLinkDefaultSz.ts"],"names":["Heading","SzUtil","theme","DEFAULT_FONT_SIZE","fontSize","DEFAULT","getLinkDefaultSz","document","node","headingNode","isHeading","getClosestBlock","key","fromHeadingType","type"],"mappings":"AACA,SAASA,OAAT,QAAwB,eAAxB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,mBAA9B;IAGWC,iB,GACPD,KAAK,CAACE,Q,CADRC,O;AAGF;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,gBAAT,CAA0BC,QAA1B,EAA8CC,IAA9C,EAA0D;AACvE,MAAIC,WAAwB,GAAGD,IAA/B;;AACA,SAAOC,WAAW,IAAI,CAACT,OAAO,CAACU,SAAR,CAAkBD,WAAlB,CAAvB,EAAuD;AACrDA,IAAAA,WAAW,GAAGF,QAAQ,CAACI,eAAT,CAAyBF,WAAW,CAACG,GAArC,CAAd;AACD;;AACD,MAAIZ,OAAO,CAACU,SAAR,CAAkBD,WAAlB,CAAJ,EAAoC;AAClC,WAAOR,MAAM,CAACY,eAAP,CAAuBJ,WAAW,CAACK,IAAnC,CAAP;AACD;;AAED,SAAOX,iBAAP;AACD","sourcesContent":["import { Node, Document } from '@ali/4ever-cangjie';\nimport { Heading } from '@ali/4ever-mo';\nimport { SzUtil, theme } from '@ali/4ever-bamboo';\n\nconst {\n  DEFAULT: DEFAULT_FONT_SIZE,\n} = theme.fontSize;\n\n/**\n * 这里是为了获取默认的文本中默认的 font-size, 用于支持 placeholder 中 hover 背景跟随尺寸变化的 case\n * @param document\n * @param node\n */\nexport default function getLinkDefaultSz(document: Document, node: Node) {\n  let headingNode: Node | null = node;\n  while (headingNode && !Heading.isHeading(headingNode)) {\n    headingNode = document.getClosestBlock(headingNode.key);\n  }\n  if (Heading.isHeading(headingNode)) {\n    return SzUtil.fromHeadingType(headingNode.type);\n  }\n\n  return DEFAULT_FONT_SIZE;\n}\n"],"file":"getLinkDefaultSz.js"}