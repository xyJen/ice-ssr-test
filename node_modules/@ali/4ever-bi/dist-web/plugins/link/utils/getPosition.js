import { theme } from '@ali/4ever-bamboo'; // 这里的魔数是卡片状态下呼出编辑框的 ui 高度设置: 距离工具栏浮层高度为 4px

var CARD_OFFSETY = 34;
export var offsetY = -(theme.link.height - CARD_OFFSETY);
export function getPositionTopRight(containerRect, triggerRect, portalRect) {
  var height = portalRect.height,
      width = portalRect.width;
  var baseTop = triggerRect.bottom - containerRect.top;
  var baseRight = triggerRect.right - containerRect.left; // 计算底部剩余空间，若剩余空间能够容纳 portal，则向下展示 portal
  // 如果下方剩余空间无法容纳 portal，还需要判断上方空间能否容纳
  // 若上方也无法容纳(triggerTop < height)，则仍然放到下方
  // 左右则优先放右对齐，不够之后向右偏移

  var bottomSpace = containerRect.height - baseTop;
  var leftSpace = triggerRect.right - containerRect.left;
  var triggerTop = triggerRect.top - containerRect.top;
  var top = bottomSpace < height && triggerTop > height ? triggerTop - height - 4 // 放到上方
  : baseTop + offsetY;
  var left = triggerRect.right < width ? baseRight - leftSpace + 4 : baseRight - width;
  return {
    left: left,
    top: top
  };
}
export function getPositionTopLeft(containerRect, triggerRect, portalRect) {
  var height = portalRect.height,
      width = portalRect.width;
  var baseTop = triggerRect.bottom - containerRect.top;
  var baseLeft = triggerRect.left - containerRect.left; // 计算底部剩余空间，若剩余空间能够容纳 portal，则向下展示 portal
  // 如果下方剩余空间无法容纳 portal，还需要判断上方空间能否容纳
  // 若上方也无法容纳(triggerRect.top < height)，则仍然放到下方
  // 左右则优先做对齐，不够之后向左偏移

  var bottomSpace = containerRect.height - baseTop;
  var rightSpace = containerRect.width - baseLeft;
  var triggerTop = triggerRect.top - containerRect.top;
  var triggerRight = triggerRect.right - containerRect.left;
  var top = bottomSpace < height && triggerTop > height ? triggerTop - height - 4 // 放到上方
  : baseTop + offsetY;
  var left = rightSpace < width && triggerRight > width ? baseLeft - width + rightSpace - 4 : baseLeft;
  return {
    left: left,
    top: top
  };
}
//# sourceMappingURL=getPosition.js.map