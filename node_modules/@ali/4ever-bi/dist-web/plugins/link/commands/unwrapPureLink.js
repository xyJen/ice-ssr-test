import { Commands, Mark } from '@ali/4ever-cangjie';
export default function unwrapPureLink(controller, node, offset, href) {
  var selection = controller.value.selection;
  var range = selection.moveToStartOfNode(node, controller).moveForward(offset).moveFocusForward(href.length);
  var moveTo = range.moveToFocus();
  controller.command(Commands.addMarkAtRange, range, Mark.create({
    type: 'unlink'
  })).command(Commands.select, moveTo); // 如果 pure link 后面没有内容，为了避免输入新的 pure link 无法被高亮
  // 需要手动插入一个空白符

  if (range.focus.isAtEndOfNode(node)) {
    controller.command(Commands.insertText, ' ', []);
  } else {
    controller.command(Commands.moveForward);
  }

  return controller;
}
//# sourceMappingURL=unwrapPureLink.js.map