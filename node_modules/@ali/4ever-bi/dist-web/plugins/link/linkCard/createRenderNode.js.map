{"version":3,"sources":["../../../../../src/plugins/link/linkCard/createRenderNode.tsx"],"names":["React","styled","useZoom","useZoomContainer","URLLinkCard","convertBlockLinkCardToTextLink","copyBlockLinkCard","cutBlockLinkCard","deleteBlockLinkCard","unlinkBlockCardData","updateBlockLinkCardData","getBlockLinkCardState","Portal","getPositionTopRight","offsetY","LinkPlugin","useScrollableContent","LinkEditor","biLocale","normalizeLink","openLink","Wrapper","div","LinkCardNode","props","nodeProps","controller","linkConfig","isMobile","locale","link","protocolAllowList","onCopyLink","getLinkInfo","openLinkOfConfig","node","isSelected","selection","value","data","metadata","text","href","cardInfo","useState","editMode","setEditMode","linkRef","useRef","portalRef","scrollableContent","document","body","scrollContent","zoom","getContainer","useCallback","urlInfo","useMemo","isTitleEqualsHref","trim","actualTitle","title","desc","imgURL","linkCardLocale","tooltipLocale","editTooltip","edit","copyTooltip","copy","unlinkTooltip","unlink","deleteTooltip","switchStyleTooltip","styleText","state","handleVisit","normalizedLink","handleCopy","run","handleCut","handleRemove","handleUnlink","handleSwitchStyle","e","handleRefresh","handleClickoutside","event","target","current","contains","handleEdit","handleEditorHide","handleSave","displayType","overlay","key","isCollapsed","createRenderNode"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { Controller, RenderNodeProps, useZoom, useZoomContainer } from '@ali/4ever-cangjie';\nimport { CustomizedBiCardPluginType } from '@ali/4ever-factory';\nimport { BlockLinkCard, LinkDisplayType, LinkPluginConfig } from '../types';\nimport { URLLinkCard } from '@ali/we-biz-link-card';\nimport { convertBlockLinkCardToTextLink, copyBlockLinkCard, cutBlockLinkCard, deleteBlockLinkCard, unlinkBlockCardData, updateBlockLinkCardData } from './actions';\nimport { getBlockLinkCardState } from './utils/getBlockLinkCardState';\nimport Portal from '../components/AnimatePortal';\nimport { getPositionTopRight, offsetY } from '../utils/getPosition';\nimport { LinkPlugin, useScrollableContent } from '@ali/4ever-bamboo';\nimport LinkEditor from '../components/linkEditor';\nimport biLocale from '../../../locales/zh_CN';\n\nconst { normalizeLink, openLink } = LinkPlugin;\n\n\nconst Wrapper = styled.div`\n  cursor: pointer;\n  border-radius: 9px;\n`;\n\nfunction LinkCardNode(props: {\n  nodeProps: RenderNodeProps<BlockLinkCard>,\n  controller: Controller,\n  linkConfig: LinkPluginConfig,\n  isMobile: boolean\n}) {\n\n  const { nodeProps, controller, linkConfig, isMobile } = props;\n\n  const {\n    locale = biLocale.link.locale,\n    protocolAllowList = ['http:', 'https:', 'dingtalk:', 'taobao:'],\n    onCopyLink,\n    getLinkInfo,\n    openLink: openLinkOfConfig,\n  } = linkConfig;\n\n  const { node, isSelected } = nodeProps;\n\n  const { selection } = controller.value;\n\n  const { text, href, cardInfo } = node.data.metadata!;\n\n  const [editMode, setEditMode] = React.useState(false);\n\n  const linkRef = React.useRef<HTMLDivElement>(null);\n\n  const portalRef = React.useRef<HTMLDivElement>(null);\n\n  const scrollableContent = useZoomContainer() || document.body;\n\n  const scrollContent = useScrollableContent() || document.body;\n\n  const zoom = useZoom();\n\n  const getContainer = React.useCallback(() => {\n    return scrollContent;\n  }, [scrollContent]);\n\n  const urlInfo = React.useMemo(() => {\n    const isTitleEqualsHref = text.trim() === href.trim();\n    const actualTitle = isTitleEqualsHref ? cardInfo.title : text;\n    return ({\n      title: actualTitle || '',\n      desc: cardInfo.desc || '',\n      imgURL: cardInfo.imgURL || '',\n    })\n  }, [cardInfo, text, href]);\n\n  const linkCardLocale = React.useMemo(() => {\n    const tooltipLocale = {\n      editTooltip: locale.edit,\n      copyTooltip: locale.copy,\n      unlinkTooltip: locale.unlink,\n      deleteTooltip: locale.delete,\n      switchStyleTooltip: locale.styleText,\n    };\n    return { ...locale, ...tooltipLocale };\n  }, [locale]);\n\n  const state = React.useMemo(() => {\n    return getBlockLinkCardState(node);\n  }, [node]);\n\n  const handleVisit = React.useCallback(\n    () => {\n      if (openLinkOfConfig) {\n        const normalizedLink = normalizeLink(href, protocolAllowList);\n        openLinkOfConfig(normalizedLink);\n      } else {\n        openLink(href, protocolAllowList);\n      }\n    },\n    [href, protocolAllowList, openLinkOfConfig],\n  );\n\n  const handleCopy = React.useCallback(\n    () => {\n      // 卡片形式下，使用仓颉复制\n      controller.run('onAction', copyBlockLinkCard(node));\n      if (onCopyLink && typeof onCopyLink === 'function') {\n        onCopyLink(href);\n      }\n    },\n    [href, onCopyLink, node, controller],\n  );\n\n  const handleCut = React.useCallback(() => {\n    controller.run('onAction', cutBlockLinkCard(node));\n  }, [controller, node]);\n\n  const handleRemove = React.useCallback(() => {\n    controller.run('onAction', deleteBlockLinkCard(node));\n  }, [controller, node]);\n\n  const handleUnlink = React.useCallback(() => {\n    controller.run('onAction', unlinkBlockCardData(node));\n  }, [controller, node]);\n\n  const handleSwitchStyle = React.useCallback((e: 'indoc' | 'popup') => {\n    if (e === 'popup') {\n      controller.run('onAction', convertBlockLinkCardToTextLink(node));\n    }\n  }, [controller, node]);\n\n  const handleRefresh = React.useCallback(() => {\n    controller.run('onAction', updateBlockLinkCardData(node, text, href));\n  }, [controller, getLinkInfo, text, href, node]);\n\n  const handleClickoutside = React.useCallback((event) => {\n    const target = event.target as HTMLElement;\n    if (target === linkRef.current || linkRef.current?.contains(target)) {\n      return;\n    }\n    setEditMode(false);\n  }, []);\n\n  const handleEdit = React.useCallback(() => {\n    setEditMode(true);\n  }, []);\n\n  const handleEditorHide = React.useCallback(() => {\n    setEditMode(false);\n  }, []);\n\n  const handleSave = React.useCallback((text: string, href: string, displayType: LinkDisplayType) => {\n    if (displayType === 'link') {\n      controller.run('onAction', convertBlockLinkCardToTextLink(node, { text, href }));\n    } else {\n      controller.run('onAction', updateBlockLinkCardData(node, text, href));\n    }\n  }, []);\n\n  const overlay = React.useMemo(() => (\n    <LinkEditor\n      ref={portalRef}\n      displayType={'card'}\n      nodeKey={node?.key}\n      text={text.trim() === href.trim() ? '' : text}\n      href={href}\n      onSave={handleSave}\n      onRemove={handleRemove}\n      onUnlink={handleUnlink}\n      locale={linkCardLocale}\n      controller={controller}\n      onHide={handleEditorHide}\n      onClickoutside={handleClickoutside}\n      enableCard={true}\n    />\n  ), [portalRef, node, text, href, linkCardLocale, controller, handleRemove, handleUnlink, handleEditorHide, handleClickoutside]);\n\n  return (\n    <Portal\n      className=\"bi-link-card-portal\"\n      visible={editMode}\n      triggerRef={linkRef}\n      overlay={overlay}\n      portalMatchTrigger={false}\n      container={scrollableContent}\n      getPosition={getPositionTopRight}\n      offset={[0, offsetY]}\n      zoom={zoom}\n    >\n      <Wrapper>\n        <URLLinkCard\n          getContainer={getContainer}\n          isSelected={isSelected && selection.isCollapsed}\n          cardStyle={'indoc'}\n          state={state}\n          url={href}\n          readonly={false}\n          locale={linkCardLocale}\n          urlInfo={urlInfo}\n          isMobile={isMobile}\n          // @ts-ignore\n          onRefresh={handleRefresh}\n          onCopy={handleCopy}\n          onOpenURL={handleVisit}\n          onSwitchStyle={handleSwitchStyle}\n          onDelete={handleRemove}\n          onCut={handleCut}\n          onEdit={handleEdit}\n          onUnlink={handleUnlink}\n          editBtnTestID=\"link-toolbar-edit\"\n          copyBtnTestID=\"link-toolbar-copy\"\n          cutBtnTestID=\"link-toolbar-cut\"\n          unlinkBtnTestID=\"link-toolbar-unlink\"\n          deleteBtnTestID=\"link-toolbar-remove\"\n          switchStyleBtnTestID=\"link-toolbar-switch\"\n          linkStyleBtnTestID=\"link-toolbar-switch-link\"\n          cardStyleBtnTestID=\"link-toolbar-switch-card\"\n          cardTestID=\"link-card\"\n        />\n      </Wrapper>\n    </Portal>);\n}\n\nexport default function createRenderNode(\n  linkConfig: LinkPluginConfig,\n  isMobile: boolean\n): CustomizedBiCardPluginType['renderNode'] {\n\n  return (nodeProps: RenderNodeProps<BlockLinkCard>, controller: Controller) => {\n    return (\n      <LinkCardNode\n        linkConfig={linkConfig}\n        isMobile={isMobile}\n        nodeProps={nodeProps}\n        controller={controller}\n      />\n    )\n  };\n}\n"],"file":"createRenderNode.js"}