{"version":3,"sources":["../../../../../../src/plugins/link/linkCard/utils/getBlockLinkCardState.ts"],"names":["getBlockLinkCardState","node","isLoading","data","metadata","cardInfo","title","desc","imgURL","undefined"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMA,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,IAAD,EAAoC;AAAA,MAE/DC,SAF+D,GAEjDD,IAAI,CAACE,IAF4C,CAE/DD,SAF+D;AAAA,aAGlDD,IAAI,CAACE,IAAL,CAAUC,QAHwC;AAAA,MAG/DC,QAH+D,QAG/DA,QAH+D,EAIvE;;AACA,MAAIH,SAAJ,EAAe;AACb,WAAO,SAAP;AACD;;AAPsE,cAQvCG,QAAQ,IAAI,EAR2B;AAAA,MAQ/DC,KAR+D,SAQ/DA,KAR+D;AAAA,MAQxDC,IARwD,SAQxDA,IARwD;AAAA,MAQlDC,MARkD,SAQlDA,MARkD,EASvE;;;AACA,MAAIF,KAAK,KAAKG,SAAV,IAAuBF,IAAI,KAAKE,SAAhC,IAA6CD,MAAM,KAAKC,SAA5D,EAAuE;AACrE,WAAO,OAAP;AACD;;AAED,SAAO,QAAP;AACD,CAfM","sourcesContent":["import { BlockLinkCard, CardState } from '../../types';\n/**\n * 在编辑形态下，如果 title、desc、imgURL 都为 undefined，则说明请求失败，需要显示 error\n * 如果存在 injection 数据，说明是 loading 状态\n * @param title\n * @param desc\n * @param imgURL\n */\nexport const getBlockLinkCardState = (node: BlockLinkCard): CardState => {\n\n  const { isLoading } = node.data;\n  const { cardInfo } = node.data.metadata!;\n  // injection 有状态，返回 loading\n  if (isLoading) {\n    return 'loading';\n  }\n  const { title, desc, imgURL } = cardInfo || {};\n  // 数据都为 undefined 返回 error\n  if (title === undefined && desc === undefined && imgURL === undefined) {\n    return 'error';\n  }\n\n  return 'normal';\n};\n"],"file":"getBlockLinkCardState.js"}