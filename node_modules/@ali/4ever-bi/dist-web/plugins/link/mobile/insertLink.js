import { Text, Commands } from '@ali/4ever-cangjie';
export default function insertLink(controller, text, href) {
  var isExpanded = controller.value.selection.isExpanded;
  controller.command(Commands.focus); // 针对移动端链接插入，如果 href 为 undefined 则直接返回。

  if (typeof href !== 'string') {
    console.warn('href is invalid');
    return controller;
  } // 有选区无标题时执行 wrapInline


  if (!text && isExpanded) {
    controller.command(Commands.wrapInline, {
      type: 'link',
      data: {
        href: href
      }
    });
  } else {
    controller.command(Commands.insertInline, {
      type: 'link',
      data: {
        href: href
      },
      nodes: [Text.create(text)]
    });
  }

  return controller.command(Commands.moveToStartOfNextText).command(Commands.insertText, ' ');
}
//# sourceMappingURL=insertLink.js.map