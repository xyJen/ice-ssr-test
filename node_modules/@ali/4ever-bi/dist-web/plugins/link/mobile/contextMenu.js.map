{"version":3,"sources":["../../../../../src/plugins/link/mobile/contextMenu.ts"],"names":["PluginRoles","LINK_OPEN","locale","configs","contextMenu","controller","next","link","query","title","openLinkMenu","item","name","action","type","payload","href","key","icon","options","group","mobile","role"],"mappings":"AACA,SAASA,WAAT,QAA4B,mBAA5B;AACA,SAASC,SAAT;AAEA,OAAOC,MAAP;AAEA,gBAAe,UAACC,OAAD,EAA2C;AACxD,SAAO,SAASC,WAAT,CAAqBC,UAArB,EAA6CC,IAA7C,EAAmD;AAExD,QAAMC,IAAI,GAAGF,UAAU,CAACG,KAAX,CAAiB,oBAAjB,CAAb;;AACA,QAAI,CAACD,IAAL,EAAW;AACT,aAAOD,IAAI,EAAX;AACD;;AAED,QAAMG,KAAK,GAAG,CAAAN,OAAO,QAAP,YAAAA,OAAO,CAAED,MAAT,CAAgBQ,YAAhB,KAAgCR,MAAM,CAACK,IAAP,CAAYL,MAAZ,CAAmBQ,YAAjE;AACA,QAAMC,IAAqB,GAAG;AAC5BC,MAAAA,IAAI,EAAEH,KADsB;AAE5BI,MAAAA,MAAM,EAAE;AACNC,QAAAA,IAAI,EAAEb,SADA;AAENc,QAAAA,OAAO,EAAE;AAAEC,UAAAA,IAAI,EAAET;AAAR;AAFH,OAFoB;AAM5BU,MAAAA,GAAG,EAAE,UANuB;AAO5BC,MAAAA,IAAI,EAAE,4FAPsB;AAQ5BC,MAAAA,OAAO,EAAE;AACPC,QAAAA,KAAK,EAAE,GADA;AAEPC,QAAAA,MAAM,EAAE;AAFD,OARmB;AAY5BC,MAAAA,IAAI,EAAEtB,WAAW,CAACO;AAZU,KAA9B,CARwD,CAsBxD;;AACA,QAAIF,UAAU,CAACG,KAAX,CAAiB,gBAAjB,CAAJ,EAAwC;AACtC,aAAO,CAACG,IAAD,CAAP;AACD;;AACD,YAAQA,IAAR,SAAiBL,IAAI,EAArB;AACD,GA3BD;AA4BD,CA7BD","sourcesContent":["import { Controller, ContextMenuItem } from '@ali/4ever-cangjie';\nimport { PluginRoles } from '@ali/4ever-bamboo';\nimport { LINK_OPEN } from '../actions';\nimport { LinkPluginConfig } from '../types';\nimport locale from '../../../locales/zh_CN';\n\nexport default (configs: LinkPluginConfig | undefined) => {\n  return function contextMenu(controller: Controller, next) {\n\n    const link = controller.query('getSelectedLinkUrl');\n    if (!link) {\n      return next();\n    }\n\n    const title = configs?.locale.openLinkMenu || locale.link.locale.openLinkMenu;\n    const item: ContextMenuItem = {\n      name: title,\n      action: {\n        type: LINK_OPEN,\n        payload: { href: link }\n      },\n      key: 'openLink',\n      icon: 'https://gw.alicdn.com/imgextra/i3/O1CN01PvOSYX1Y9NJ9rGzkZ_!!6000000003016-55-tps-24-24.svg',\n      options: {\n        group: 100,\n        mobile: true,\n      },\n      role: PluginRoles.link,\n    };\n    // 非只读的预览模式，显示 open link 按钮\n    if (controller.query('isQuickPreview')) {\n      return [item];\n    }\n    return [item, ...next()];\n  };\n};\n"],"file":"contextMenu.js"}