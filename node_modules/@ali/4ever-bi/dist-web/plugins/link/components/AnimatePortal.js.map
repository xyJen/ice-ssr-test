{"version":3,"sources":["../../../../../src/plugins/link/components/AnimatePortal.tsx"],"names":["React","styled","keyframes","css","Transition","Portal","fadeInTop","fadeInTopAnimation","fadeOut","fadeOutAnimation","AnimateWrapper","div","props","state","AnimatePortal","children","overlay","visible","onOverlayHide","rest","animatedOverlay","enter","exit","cloneElement"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,OAAOC,MAAP,IAAiBC,SAAjB,EAA4BC,GAA5B,QAAuC,mBAAvC;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,MAAT,QAAuB,sBAAvB;AAOA,IAAMC,SAAS,gBAAGJ,SAAH,wFAAf;AAWA,IAAMK,kBAAkB,gBAAGJ,GAAH,uEACTG,SADS,CAAxB;AAIA,IAAME,OAAO,gBAAGN,SAAH,oCAAb;AASA,IAAMO,gBAAgB,gBAAGN,GAAH,+EAGPK,OAHO,CAAtB;AAMA,IAAME,cAAc,gBAAGT,MAAM,CAACU,GAAV,kCAEhBJ,kBAFgB,EAGf,UAACK,KAAD;AAAA,SAAW,CAACA,KAAK,CAACC,KAAN,KAAgB,SAAhB,IAA6BD,KAAK,CAACC,KAAN,KAAgB,QAA9C,KAA2DJ,gBAAtE;AAAA,CAHe,CAApB;;AAOA,IAAMK,aAA2C,GAAG,SAA9CA,aAA8C,CAACF,KAAD,EAAW;AAAA,MAErDG,QAFqD,GAEEH,KAFF,CAErDG,QAFqD;AAAA,MAE3CC,OAF2C,GAEEJ,KAFF,CAE3CI,OAF2C;AAAA,MAElCC,OAFkC,GAEEL,KAFF,CAElCK,OAFkC;AAAA,MAEzBC,aAFyB,GAEEN,KAFF,CAEzBM,aAFyB;AAAA,MAEPC,IAFO,iCAEEP,KAFF;;AAI7D,MAAMQ,eAAe,gBACnB,eAAC,UAAD;AACE,UAAIH,OADN;AAEE,IAAA,OAAO,EAAE;AAAEI,MAAAA,KAAK,EAAE,GAAT;AAAcC,MAAAA,IAAI,EAAE;AAApB,KAFX;AAGE,IAAA,QAAQ,EAAEJ,aAHZ;AAIE,IAAA,aAAa;AAJf,KAMG,UAACL,KAAD;AAAA,wBACC,eAAC,cAAD;AAAgB,MAAA,KAAK,EAAEA;AAAvB,oBACGb,KAAK,CAACuB,YAAN,CAAmBP,OAAnB,CADH,CADD;AAAA,GANH,CADF;;AAeA,sBACE,eAAC,MAAD,eACMG,IADN;AAEE,IAAA,OAAO,EAAEC,eAFX;AAGE,IAAA,OAAO,EAAEH,OAHX;AAIE,IAAA,oBAAoB,EAAE;AAJxB,MAMGF,QANH,CADF;AAUD,CA7BD;;AA+BA,eAAeD,aAAf","sourcesContent":["import * as React from 'react';\nimport styled, { keyframes, css } from 'styled-components';\nimport { Transition } from 'react-transition-group';\nimport { Portal } from '@ali/4ever-component';\nimport type { PortalProps } from '@ali/4ever-component';\n\ninterface AnimatePortalProps extends PortalProps {\n  onOverlayHide?: () => void;\n}\n\nconst fadeInTop = keyframes`\n  0% {\n    transform: translateY(-12px);\n    opacity: 0;\n  }\n  100% {\n    transform: translateY(0);\n    opacity: 1;\n  }\n`;\n\nconst fadeInTopAnimation = css`\n  animation: ${fadeInTop} 0.25s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n`;\n\nconst fadeOut = keyframes`\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n`;\n\nconst fadeOutAnimation = css`\n  width: fit-content;\n  height: fit-content;\n  animation: ${fadeOut} 0.15s ease-out both;\n`;\n\nconst AnimateWrapper = styled.div<{ state: string }>`\n  position: absolute;\n  ${fadeInTopAnimation}\n  ${((props) => (props.state === 'exiting' || props.state === 'exited') && fadeOutAnimation)}\n`;\n\n\nconst AnimatePortal: React.FC<AnimatePortalProps> = (props) => {\n\n  const { children, overlay, visible, onOverlayHide, ...rest } = props;\n\n  const animatedOverlay = (\n    <Transition\n      in={visible}\n      timeout={{ enter: 250, exit: 150 }}\n      onExited={onOverlayHide}\n      unmountOnExit\n    >\n      {(state) => (\n        <AnimateWrapper state={state}>\n          {React.cloneElement(overlay)}\n        </AnimateWrapper>\n      )}\n    </Transition>\n  );\n\n  return (\n    <Portal\n      {...rest}\n      overlay={animatedOverlay}\n      visible={visible}\n      destroyOverlayOnHide={false}\n    >\n      {children}\n    </Portal>\n  );\n}\n\nexport default AnimatePortal;\n"],"file":"AnimatePortal.js"}