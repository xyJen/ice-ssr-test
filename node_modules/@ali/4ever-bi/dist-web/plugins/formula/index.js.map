{"version":3,"sources":["../../../../src/plugins/formula/index.tsx"],"names":["React","Wrapper","FormulaView","FormulaPlaceholder","tagFactory","onAction","TagType","moFactory","createRenderNode","config","renderNode","props","createFormulaPlugin","formula","tagType","Formula","components"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAC5B,OAAOC,OAAP;AACA,OAAOC,WAAP;AACA,OAAOC,kBAAP;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,OAAOC,QAAP;AACA,SAASC,OAAT;AACA;AACA,SAASC,SAAT,QAA0B,2BAA1B;;AAMA,SAASC,gBAAT,CAA0BC,MAA1B,EAAkD;AAChD,SAAO,SAASC,UAAT,CAAoBC,KAApB,EAAoD;AACzD,wBACE,eAAC,OAAD,eAAaA,KAAb;AAAoB,MAAA,MAAM,EAAEF;AAA5B,OADF;AAGD,GAJD;AAKD;;AAOD,IAAMG,mBAAmB,GAAGR,UAAU,CAAa,UAACK,MAAD,EAAiC;AAClF,MAAMC,UAAU,GAAGF,gBAAgB,CAACC,MAAM,CAACI,OAAR,CAAnC;AAEA,SAAO;AACLC,IAAAA,OAAO,EAAER,OAAO,CAACS,OADZ;AAELL,IAAAA,UAAU,EAAVA,UAFK;AAGLL,IAAAA,QAAQ,EAARA;AAHK,GAAP;AAKD,CARqC,EAQnCE,SARmC,CAAtC;AAUAK,mBAAmB,CAACI,UAApB,GAAiC;AAAEd,EAAAA,WAAW,EAAXA,WAAF;AAAeC,EAAAA,kBAAkB,EAAlBA;AAAf,CAAjC;AAEA,eAAeS,mBAAf","sourcesContent":["import React from 'react';\nimport { Inline, RenderNodeProps } from '@ali/4ever-cangjie';\nimport Wrapper from './components/wrapper';\nimport FormulaView from './components/view';\nimport FormulaPlaceholder from './components/placeholder';\nimport { tagFactory } from '@ali/4ever-factory';\nimport onAction from './handlers/onAction';\nimport { TagType, FormulaConfig } from './types';\nimport './fonts.css';\nimport { moFactory } from '@ali/4ever-plugin-formula';\n\ninterface FormulaPluginConfig {\n  formula?: FormulaConfig;\n}\n\nfunction createRenderNode(config?: FormulaConfig) {\n  return function renderNode(props: RenderNodeProps<Inline>) {\n    return (\n      <Wrapper {...props} config={config} />\n    );\n  };\n}\n\ninterface Components {\n  FormulaView: typeof FormulaView;\n  FormulaPlaceholder: typeof FormulaPlaceholder;\n}\n\nconst createFormulaPlugin = tagFactory<Components>((config: FormulaPluginConfig) => {\n  const renderNode = createRenderNode(config.formula) as any;\n\n  return {\n    tagType: TagType.Formula,\n    renderNode,\n    onAction,\n  };\n}, moFactory);\n\ncreateFormulaPlugin.components = { FormulaView, FormulaPlaceholder };\n\nexport default createFormulaPlugin;\n"],"file":"index.js"}