import createClearMarksAtRange from "./clearMarksAtRange";
import { getRangesFromEditor } from '@ali/4ever-utils';
import clearParagraphStyle from "./clearParagraphStyle";
export default function createClearStyles(ignores) {
  if (ignores === void 0) {
    ignores = [];
  }

  var clearMarksAtRange = createClearMarksAtRange(ignores);
  return function clearStyles(controller, ranges) {
    // 移动端第二参数会莫名其妙传入 true
    var targetRanges = Array.isArray(ranges) ? ranges : getRangesFromEditor(controller);
    targetRanges.forEach(function (range) {
      clearMarksAtRange(controller, range);
      clearParagraphStyle(controller, range, !!ranges);
    });
    var value = controller.value;

    if (value.data.listSelections && value.data.listSelections.length > 0) {
      controller.dispatch('selectSymbol', value.data.listSelections, false);
      controller.dispatch('clearListSelections');
    }

    return controller;
  };
}
//# sourceMappingURL=clearStyles.js.map