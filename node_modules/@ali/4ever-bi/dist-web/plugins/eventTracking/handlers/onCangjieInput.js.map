{"version":3,"sources":["../../../../../src/plugins/eventTracking/handlers/onCangjieInput.ts"],"names":["sample","eventTracking","TrackingType","trackIMEInputText","controller","run","type","IMEInputText","trackInputText","inputText","onCangjieInput","event","next","detail"],"mappings":"AACA,SAASA,MAAT,QAAuB,mBAAvB;AACA,SAASC,aAAT,EAAwBC,YAAxB;AAEA,IAAMC,iBAAiB,GAAGH,MAAM,CAAC,UAACI,UAAD,EAAgB;AAC/CA,EAAAA,UAAU,CAACC,GAAX,CACE,UADF,EAEEJ,aAAa,CAAC;AAAEK,IAAAA,IAAI,EAAEJ,YAAY,CAACK;AAArB,GAAD,CAFf;AAID,CAL+B,EAK7B;AAAEP,EAAAA,MAAM,EAAE;AAAV,CAL6B,CAAhC;AAOA,IAAMQ,cAAc,GAAGR,MAAM,CAAC,UAACI,UAAD,EAAgB;AAC5CA,EAAAA,UAAU,CAACC,GAAX,CACE,UADF,EAEEJ,aAAa,CAAC;AAAEK,IAAAA,IAAI,EAAEJ,YAAY,CAACO;AAArB,GAAD,CAFf;AAID,CAL4B,EAK1B;AAAET,EAAAA,MAAM,EAAE;AAAV,CAL0B,CAA7B;AAOA,eAAe,SAASU,cAAT,CAAwBC,KAAxB,EAAkDP,UAAlD,EAA0EQ,IAA1E,EAAgF;AAC7F,MAAID,KAAK,CAACE,MAAN,CAAaP,IAAb,KAAsB,kBAA1B,EAA8C;AAC5CH,IAAAA,iBAAiB,CAACC,UAAD,CAAjB;AACD,GAFD,MAEO,IAAIO,KAAK,CAACE,MAAN,CAAaP,IAAb,KAAsB,YAA1B,EAAwC;AAC7CE,IAAAA,cAAc,CAACJ,UAAD,CAAd;AACD;;AAED,SAAOQ,IAAI,EAAX;AACD","sourcesContent":["import { CangjieInputEvent, Controller } from '@ali/4ever-cangjie';\nimport { sample } from '@ali/4ever-bamboo';\nimport { eventTracking, TrackingType } from '../actions';\n\nconst trackIMEInputText = sample((controller) => {\n  controller.run(\n    'onAction',\n    eventTracking({ type: TrackingType.IMEInputText }),\n  );\n}, { sample: 50 })\n\nconst trackInputText = sample((controller) => {\n  controller.run(\n    'onAction',\n    eventTracking({ type: TrackingType.inputText }),\n  );\n}, { sample: 50 })\n\nexport default function onCangjieInput(event: CangjieInputEvent, controller: Controller, next) {\n  if (event.detail.type === 'compositionStart') {\n    trackIMEInputText(controller);\n  } else if (event.detail.type === 'insertText') {\n    trackInputText(controller);\n  }\n\n  return next();\n}\n"],"file":"onCangjieInput.js"}