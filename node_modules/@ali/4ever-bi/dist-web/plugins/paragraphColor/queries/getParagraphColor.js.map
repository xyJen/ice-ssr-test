{"version":3,"sources":["../../../../../src/plugins/paragraphColor/queries/getParagraphColor.ts"],"names":["getCurrentBlocks","getRangeFromNodes","getParagraphColor","controller","payload","currentBlock","node","blocks","key","color","Array","isArray","length","range","query"],"mappings":"AAEA,SAASA,gBAAT,EAA2BC,iBAA3B;;AAGA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,UAAD,EAAyBC,OAAzB,EAAyD;AAAA,MACnEC,YADmE,GAClDD,OADkD,CACzEE,IADyE;AAEjF,MAAMC,MAAM,GAAGP,gBAAgB,CAACG,UAAD,EAAaE,YAAY,CAACG,GAA1B,CAA/B;AAEA,MAAIC,KAAK,GAAG,EAAZ;;AACA,MAAIC,KAAK,CAACC,OAAN,CAAcJ,MAAd,KAAyBA,MAAM,CAACK,MAAP,GAAgB,CAAzC,IAA8CL,MAAM,CAAC,CAAD,CAAN,KAAc,IAAhE,EAAsE;AACpE,QAAMM,KAAK,GAAGZ,iBAAiB,CAACE,UAAD,EAAaI,MAAb,CAA/B;AACAE,IAAAA,KAAK,GAAGN,UAAU,CAACW,KAAX,CAAiB,iBAAjB,EAAoCD,KAApC,CAAR;AACD;;AACD,SAAOJ,KAAP;AACD,CAVD;;AAYA,eAAeP,iBAAf","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\n\nimport { getCurrentBlocks, getRangeFromNodes } from '../utils';\nimport { IGetParagraphColor } from '../types';\n\nconst getParagraphColor = (controller: Controller, payload: IGetParagraphColor) => {\n  const { node: currentBlock } = payload;\n  const blocks = getCurrentBlocks(controller, currentBlock.key);\n\n  let color = '';\n  if (Array.isArray(blocks) && blocks.length > 0 && blocks[0] !== null) {\n    const range = getRangeFromNodes(controller, blocks);\n    color = controller.query('getColorAtRange', range);\n  }\n  return color;\n};\n\nexport default getParagraphColor;\n"],"file":"getParagraphColor.js"}