{"version":3,"sources":["../../../../../../src/plugins/comment/components/next/createCommentButton.tsx"],"names":["React","PluginRoles","CommentPlugin","IconComment","environment","MOD","IS_MAC","createCommentButton","props","controller","locale","icon","title","tooltip","badgeDot","disabled","handleClick","run","type","actions","ACTION_COMMENT_CLICK","isDisabled","query","queries","canComment","defaultTooltip","useMemo","comment","shortCut","buttonConfig","onClick","role"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,mBAA3C;AACA,SAA6CC,WAA7C,QAAgE,sBAAhE;AACA,SAAqBC,WAArB,QAAwC,oBAAxC;AAOA,IAAMC,GAAG,GAAGD,WAAW,CAACE,MAAZ,GAAqB,GAArB,GAA2B,MAAvC;;wBAmBkB,eAAC,WAAD,O;;AAjBlB,eAAe,SAASC,mBAAT,CAA6BC,KAA7B,EAAuE;AAAA,MAC5EC,UAD4E,GACXD,KADW,CAC5EC,UAD4E;AAAA,MAChEC,MADgE,GACXF,KADW,CAChEE,MADgE;AAAA,MACxDC,IADwD,GACXH,KADW,CACxDG,IADwD;AAAA,MAClDC,KADkD,GACXJ,KADW,CAClDI,KADkD;AAAA,MAC3CC,OAD2C,GACXL,KADW,CAC3CK,OAD2C;AAAA,MAClCC,QADkC,GACXN,KADW,CAClCM,QADkC;AAAA,MACxBC,QADwB,GACXP,KADW,CACxBO,QADwB;;AAGpF,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBP,IAAAA,UAAU,CAACQ,GAAX,CAAe,UAAf,EAA2B;AACzBC,MAAAA,IAAI,EAAEhB,aAAa,CAACiB,OAAd,CAAsBC;AADH,KAA3B;AAGD,GAJD;;AAMA,MAAMC,UAAU,GAAGN,QAAQ,IAAI,CAACN,UAAU,CAACa,KAAX,CAAiBpB,aAAa,CAACqB,OAAd,CAAsBC,UAAvC,CAAhC;AAEA,MAAMC,cAAc,GAAGzB,KAAK,CAAC0B,OAAN,CAAc;AAAA,WAAO;AAC1Cd,MAAAA,KAAK,EAAEF,MAAF,oBAAEA,MAAM,CAAEiB,OAD2B;AAE1CC,MAAAA,QAAQ,EAAKvB,GAAL;AAFkC,KAAP;AAAA,GAAd,EAGnB,EAHmB,CAAvB;AAKA,MAAMwB,YAA0B,GAAI;AAClClB,IAAAA,IAAI,EAAEA,IAAI,QADwB;AAElCmB,IAAAA,OAAO,EAAEd,WAFyB;AAGlCJ,IAAAA,KAAK,EAAEA,KAAK,KAAIF,MAAJ,oBAAIA,MAAM,CAAEE,KAAZ,CAHsB;AAIlCC,IAAAA,OAAO,EAAEA,OAAO,IAAIY,cAJc;AAKlCX,IAAAA,QAAQ,EAARA,QALkC;AAMlCC,IAAAA,QAAQ,EAAEM,UANwB;AAOlCU,IAAAA,IAAI,EAAE9B,WAAW,CAAC0B;AAPgB,GAApC;AAUA,SAAOE,YAAP;AAED","sourcesContent":["import * as React from 'react';\nimport { PluginRoles, CommentPlugin } from '@ali/4ever-bamboo';\nimport { IBasicButton, IToolbarButtonConfig, IconComment } from '@ali/4ever-component';\nimport { Controller, environment } from '@ali/4ever-cangjie';\n\nexport interface IcommentButtonProps extends IToolbarButtonConfig {\n  controller: Controller;\n  locale?: Record<string, string>;\n}\n\nconst MOD = environment.IS_MAC ? 'âŒ˜' : 'Ctrl';\n\nexport default function createCommentButton(props: IcommentButtonProps): IBasicButton {\n  const { controller, locale, icon, title, tooltip, badgeDot, disabled } = props;\n\n  const handleClick = () => {\n    controller.run('onAction', {\n      type: CommentPlugin.actions.ACTION_COMMENT_CLICK,\n    });\n  };\n\n  const isDisabled = disabled || !controller.query(CommentPlugin.queries.canComment);\n\n  const defaultTooltip = React.useMemo(() => ({\n    title: locale?.comment,\n    shortCut: `${MOD}+Shift+m`,\n  }), []);\n\n  const buttonConfig: IBasicButton = ({\n    icon: icon || <IconComment />,\n    onClick: handleClick,\n    title: title || locale?.title,\n    tooltip: tooltip || defaultTooltip,\n    badgeDot,\n    disabled: isDisabled,\n    role: PluginRoles.comment,\n  });\n\n  return buttonConfig;\n\n}\n"],"file":"createCommentButton.js"}