{"version":3,"sources":["../../../../src/plugins/hoverToolbar/createOnQuery.ts"],"names":["createOnQuery","config","onQuery","event","controller","next","type","args","currentType","isDisabled","layouts","disabled"],"mappings":"AAGA,eAAe,SAASA,aAAT,CAAuBC,MAAvB,EAA6E;AAC1F,SAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,UAAxB,EAAoCC,IAApC,EAA0C;AAAA,QACvCC,IADuC,GACxBH,KADwB,CACvCG,IADuC;AAAA,QACjCC,IADiC,GACxBJ,KADwB,CACjCI,IADiC;;AAE/C,QAAID,IAAI,KAAK,iBAAb,EAAgC;AAC9B,UAAME,WAAW,GAAGD,IAAI,CAAC,CAAD,CAAxB;AAD8B,UAEtBE,UAFsB,GAEER,MAFF,CAEtBQ,UAFsB;AAAA,UAEVC,OAFU,GAEET,MAFF,CAEVS,OAFU;AAG9B,UAAMC,QAAQ,GAAGF,UAAU,IAAIA,UAAU,EAAzC;AACA,aAAO,CAACE,QAAD,IAAaD,OAAb,IAAwB,CAAC,CAACA,OAAO,CAACF,WAAD,CAAxC;AACD;;AAED,WAAOH,IAAI,EAAX;AACD,GAVD;AAWD","sourcesContent":["import { Plugin } from '@ali/4ever-cangjie';\nimport { IHoverToolbarPluginConfigs } from './types';\n\nexport default function createOnQuery(config: IHoverToolbarPluginConfigs):Plugin['onQuery'] {\n  return function onQuery(event, controller, next) {\n    const { type, args } = event;\n    if (type === 'hasHoverToolbar') {\n      const currentType = args[0];\n      const { isDisabled, layouts } = config;\n      const disabled = isDisabled && isDisabled();\n      return !disabled && layouts && !!layouts[currentType];\n    }\n\n    return next();\n  };\n}"],"file":"createOnQuery.js"}