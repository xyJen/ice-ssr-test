import { Commands } from '@ali/4ever-cangjie';
import { HOVER_TOOLBAR_COPY_NODE, HOVER_TOOLBAR_CUT_NODE } from "../actions";
export default function createOnAction() {
  return function (action, controller, next) {
    var type = action.type,
        payload = action.payload;

    if (type === HOVER_TOOLBAR_COPY_NODE) {
      var node = payload.node;
      var copyNodes = controller.run('beforeCopySelectedNodes', [node]) || node;
      controller.query('copyNodes', copyNodes);
      return controller;
    }

    if (type === HOVER_TOOLBAR_CUT_NODE) {
      var _node = payload.node;
      controller.run('onAction', {
        type: HOVER_TOOLBAR_COPY_NODE,
        payload: {
          node: _node
        }
      });
      controller.command(Commands.removeNodeByKey, _node.key);
      return controller;
    }

    return next();
  };
}
//# sourceMappingURL=onAction.js.map