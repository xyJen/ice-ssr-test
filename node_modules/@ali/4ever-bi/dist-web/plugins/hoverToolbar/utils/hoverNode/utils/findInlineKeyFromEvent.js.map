{"version":3,"sources":["../../../../../../../src/plugins/hoverToolbar/utils/hoverNode/utils/findInlineKeyFromEvent.ts"],"names":["constants","Inline","findInlineKeyFromEvent","event","document","eventTarget","target","nodeDom","closest","Selector","key","getAttribute","node","getNode","isInline"],"mappings":"AAAA;AACA,SAASA,SAAT,EAAoBC,MAApB,QAA4C,oBAA5C;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,sBAAT,CAAgCC,KAAhC,EAAmDC,QAAnD,EAA+E;AAC5F,MAAMC,WAAW,GAAGF,KAAK,CAACG,MAA1B;;AACA,MAAI,CAACD,WAAL,EAAkB;AAChB,WAAO,EAAP;AACD;;AACD,MAAME,OAAO,GAAGF,WAAW,CAACG,OAAZ,OAAwBR,SAAS,CAACS,QAAV,CAAmBC,GAA3C,OAAhB;AACA,MAAMA,GAAG,GAAGH,OAAH,oBAAGA,OAAO,CAAEI,YAAT,CAAsBX,SAAS,CAACS,QAAV,CAAmBC,GAAzC,CAAZ;;AACA,MAAIA,GAAJ,EAAS;AACP,QAAME,IAAI,GAAGR,QAAQ,CAACS,OAAT,CAAiBH,GAAjB,CAAb;AACA,WAAOT,MAAM,CAACa,QAAP,CAAgBF,IAAhB,IAAwBF,GAAxB,GAA8B,EAArC;AACD;;AACD,SAAO,EAAP;AACD","sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { constants, Inline, Document } from '@ali/4ever-cangjie';\n\n/**\n * 根据鼠标移动事件查找文档 key\n * 策略：查找最近的 data-cangjie-key, 如果是 inline node 就直接返回\n * @param event\n * @param container\n */\nexport default function findInlineKeyFromEvent(event: MouseEvent, document: Document): string {\n  const eventTarget = event.target as HTMLElement | null;\n  if (!eventTarget) {\n    return '';\n  }\n  const nodeDom = eventTarget.closest(`[${constants.Selector.key}]`);\n  const key = nodeDom?.getAttribute(constants.Selector.key);\n  if (key) {\n    const node = document.getNode(key);\n    return Inline.isInline(node) ? key : '';\n  }\n  return '';\n}\n"],"file":"findInlineKeyFromEvent.js"}