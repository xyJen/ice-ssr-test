{"version":3,"sources":["../../../../../src/plugins/indent/components/IndentButton.tsx"],"names":["React","IndentButton","PluginRoles","DECREASE_HOT_KEY_TIP","INCREASE_HOT_KEY_TIP","increaseIndent","decreaseIndent","titles","increase","decrease","MemoIndentButton","memo","Button","props","controller","locale","rest","isInc","onSelect","useCallback","value","run","handleClick","isCollapsedAtEdge","selection","disabled","query","tip","rightButtonTitle","leftButtonTitle","indent"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAC5B,SACEC,YADF,QAEO,iBAFP;AAGA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SACEC,oBADF,EAEEC,oBAFF;AAIA;AACA,SAASC,cAAT,EAAyBC,cAAzB;AAOA,IAAMC,MAAM,GAAG;AACbC,EAAAA,QAAQ,EAAEJ,oBADG;AAEbK,EAAAA,QAAQ,EAAEN;AAFG,CAAf;AAIA,IAAMO,gBAAgB,gBAAGV,KAAK,CAACW,IAAN,CAAWV,YAAX,CAAzB;AAEA,eAAe,SAASW,MAAT,CAAgBC,KAAhB,EAA0C;AAAA,MAC/CC,UAD+C,GACfD,KADe,CAC/CC,UAD+C;AAAA,MACnCC,MADmC,GACfF,KADe,CACnCE,MADmC;AAAA,MACxBC,IADwB,iCACfH,KADe;;AAEvD,MAAMI,KAAK,GAAG,IAAd,CAFuD,CAEnC;;AAEpB,MAAMC,QAAQ,GAAGlB,KAAK,CAACmB,WAAN,CAAkB,UAACC,KAAD,EAAmB;AACpDN,IAAAA,UAAU,CAACO,GAAX,CAAe,UAAf,EAA2BD,KAAK,KAAK,UAAV,GAAuBf,cAAc,EAArC,GAA0CC,cAAc,EAAnF;AACD,GAFgB,EAEd,CAACQ,UAAD,CAFc,CAAjB;AAIA,MAAMQ,WAAW,GAAGtB,KAAK,CAACmB,WAAN,CAAkB,YAAM;AAC1CL,IAAAA,UAAU,CAACO,GAAX,CAAe,UAAf,EAA2BhB,cAAc,EAAzC;AACD,GAFmB,EAEjB,CAACS,UAAD,CAFiB,CAApB;AARuD,MAY/CS,iBAZ+C,GAYzBT,UAAU,CAACM,KAAX,CAAiBI,SAZQ,CAY/CD,iBAZ+C;AAavD,MAAME,QAAQ,GAAGF,iBAAiB,IAAIT,UAAU,CAACY,KAAX,CAAiB,yBAAjB,CAAtC;AAEA,MAAMC,GAAG,GAAGV,KAAK,GACVF,MAAM,CAACa,gBADG,SACiBxB,oBADjB,GAEVW,MAAM,CAACc,eAFG,SAEgB1B,oBAFjC;AAIA,sBACE,eAAC,gBAAD,eACMa,IADN;AAEE,IAAA,YAAY,EAAEW,GAFhB;AAGE,IAAA,MAAM,EAAEpB,MAHV;AAIE,IAAA,QAAQ,EAAEkB,QAJZ;AAKE,IAAA,MAAM,EAAC,mBALT;AAME,IAAA,OAAO,EAAEH,WANX;AAOE,IAAA,QAAQ,EAAEJ,QAPZ;AAQE,IAAA,IAAI,EAAEhB,WAAW,CAAC4B;AARpB,KADF;AAYD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport {\n  IndentButton,\n} from '@ali/we-toolbar';\nimport { PluginRoles } from '@ali/4ever-bamboo';\nimport {\n  DECREASE_HOT_KEY_TIP,\n  INCREASE_HOT_KEY_TIP,\n} from '../utils/hotKeyTips';\n;\nimport { increaseIndent, decreaseIndent } from '../actions';\n\nexport interface IndentButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n}\n\nconst titles = {\n  increase: INCREASE_HOT_KEY_TIP,\n  decrease: DECREASE_HOT_KEY_TIP,\n};\nconst MemoIndentButton = React.memo(IndentButton);\n\nexport default function Button(props: IndentButtonProps) {\n  const { controller, locale, ...rest } = props;\n  const isInc = true; // 默认始终增加缩进\n\n  const onSelect = React.useCallback((value: string) => {\n    controller.run('onAction', value === 'increase' ? increaseIndent() : decreaseIndent());\n  }, [controller]);\n\n  const handleClick = React.useCallback(() => {\n    controller.run('onAction', increaseIndent());\n  }, [controller]);\n\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const disabled = isCollapsedAtEdge || controller.query('isSelectionInListSymbol');\n\n  const tip = isInc\n    ? `${locale.rightButtonTitle} ${INCREASE_HOT_KEY_TIP}`\n    : `${locale.leftButtonTitle} ${DECREASE_HOT_KEY_TIP}`;\n\n  return (\n    <MemoIndentButton\n      {...rest}\n      shortcutText={tip}\n      titles={titles}\n      disabled={disabled}\n      testid=\"bi-toolbar-indent\"\n      onClick={handleClick}\n      onSelect={onSelect}\n      role={PluginRoles.indent}\n    />\n  );\n}\n"],"file":"IndentButton.js"}