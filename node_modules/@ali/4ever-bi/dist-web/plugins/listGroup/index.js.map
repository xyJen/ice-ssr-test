{"version":3,"sources":["../../../../src/plugins/listGroup/index.ts"],"names":["ListGroupPlugin","BambooListGroup","groupFactory","DRAG_BUTTON_OFFSET","handlers","createRenderNode","createGroupNodes","isFoldGroupNode","utils","config","listGroup","groupType","renderNode","groupNodes","queries","isListGroupAvailable","ignore","getLeftToolbarOffset","controller","data","node","list","level","x","y","undefined"],"mappings":"AAAA,SAASA,eAAe,IAAIC,eAA5B,QAAmD,mBAAnD;AAIA,SAASC,YAAT,QAA6B,oBAA7B;AAEA,IAAMC,kBAAkB,GAAG,CAAC,EAA5B;4BAC+CF,eAAe,CAACG,Q;IAAvDC,gB,yBAAAA,gB;IAAkBC,gB,yBAAAA,gB;IAClBC,e,GAAoBN,eAAe,CAACO,K,CAApCD,e;AAER,IAAMP,eAAe,GAAGE,YAAY,CAAC,UAACO,MAAD,EAA4B;AAAA,0BACpCA,MADoC,CACvDC,SADuD;AAAA,MACvDA,SADuD,kCAC3C,EAD2C;AAE/D,SAAO;AACLC,IAAAA,SAAS,EAAE,WADN;AAELC,IAAAA,UAAU,EAAEP,gBAAgB,CAACK,SAAD,CAFvB;AAGLG,IAAAA,UAAU,EAAEP,gBAAgB,CAACI,SAAD,CAHvB;AAILI,IAAAA,OAAO,EAAE;AACPC,MAAAA,oBAAoB,EAAE;AAAA,eACpBL,SAAS,CAACM,MAAV,GAAmB,CAACN,SAAS,CAACM,MAAV,EAApB,GAAyC,IADrB;AAAA,OADf;AAGPC,MAAAA,oBAAoB,EAAE,8BAACC,UAAD,EAAaC,IAAb,EAAsB;AAAA;;AAAA,YAClCC,IADkC,GACzBD,IADyB,CAClCC,IADkC;;AAE1C,YACE,CAAAA,IAAI,QAAJ,0BAAAA,IAAI,CAAED,IAAN,mDAAYE,IAAZ,qCAAkBC,KAAlB,MAA4B,CAA5B,IACAf,eAAe,CAACa,IAAD,EAAOF,UAAP,CAFjB,EAGE;AACA,iBAAO;AACL;AACAK,YAAAA,CAAC,EAAEpB,kBAAkB,GAAG,CAFnB;AAGLqB,YAAAA,CAAC,EAAE;AAHE,WAAP;AAKD;;AACD,eAAOC,SAAP;AACD;AAhBM;AAJJ,GAAP;AAuBD,CAzBmC,CAApC;AA2BA,eAAezB,eAAf","sourcesContent":["import { ListGroupPlugin as BambooListGroup } from '@ali/4ever-bamboo';\nimport { IsDataChangeAffectParentQueryParams } from '@ali/4ever-cangjie';\nimport { isListNode } from '@ali/4ever-utils';\nimport { BiPluginConfig } from '../../types';\nimport { groupFactory } from '@ali/4ever-factory';\n\nconst DRAG_BUTTON_OFFSET = -20;\nconst { createRenderNode, createGroupNodes } = BambooListGroup.handlers;\nconst { isFoldGroupNode } = BambooListGroup.utils;\n\nconst ListGroupPlugin = groupFactory((config: BiPluginConfig) => {\n  const { listGroup = {} } = config;\n  return {\n    groupType: 'listGroup',\n    renderNode: createRenderNode(listGroup),\n    groupNodes: createGroupNodes(listGroup),\n    queries: {\n      isListGroupAvailable: () =>\n        listGroup.ignore ? !listGroup.ignore() : true,\n      getLeftToolbarOffset: (controller, data) => {\n        const { node } = data;\n        if (\n          node?.data?.list?.level === 0 &&\n          isFoldGroupNode(node, controller)\n        ) {\n          return {\n            // 这里加上4是因为左侧工具栏的offset为6，但是在标题场景下是2\n            x: DRAG_BUTTON_OFFSET + 4,\n            y: 0,\n          };\n        }\n        return undefined;\n      },\n    },\n  };\n});\n\nexport default ListGroupPlugin;\n"],"file":"index.js"}