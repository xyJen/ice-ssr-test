{"version":3,"sources":["../../../../../src/plugins/newlineGuide/queries/isInsertBtnDisplay.ts"],"names":["checkBlockData","checkBlockContent","Heading","isInsertBtnDisplay","controller","data","node","composing","length","type","isCallout","query"],"mappings":"AACA,SAAyBA,cAAzB,EAAyCC,iBAAzC;AACA,SAASC,OAAT,QAAwB,2BAAxB;AAEA,eAAe,SAASC,kBAAT,CACbC,UADa,EAEbC,IAFa,EAGb;AAAA,MACQC,IADR,GAC4BD,IAD5B,CACQC,IADR;AAAA,MACcC,SADd,GAC4BF,IAD5B,CACcE,SADd;AAEA,MAAIA,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwB,CAACF,IAA7B,EAAmC,OAAO,KAAP,CAFnC,CAIA;;AACA,MAAIA,IAAI,CAACG,IAAL,KAAc,WAAlB,EAA+B,OAAO,KAAP;AAE/B,MAAIP,OAAO,CAACQ,SAAR,CAAkBJ,IAAlB,CAAJ,EAA6B,OAAO,KAAP;AAE7B,MAAI,CAACN,cAAc,CAACI,UAAD,EAAaE,IAAb,CAAnB,EAAuC,OAAO,KAAP;AAEvC,MAAI,CAACL,iBAAiB,CAACK,IAAD,CAAtB,EAA8B,OAAO,KAAP;AAE9B,MAAIF,UAAU,CAACO,KAAX,CAAiB,kBAAjB,EAAqC;AAAEL,IAAAA,IAAI,EAAJA;AAAF,GAArC,CAAJ,EAAoD,OAAO,KAAP;AAEpD,SAAO,IAAP;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { IsNewLineProps, checkBlockData, checkBlockContent } from './isNewLine';\nimport { Heading } from '@ali/4ever-plugin-heading';\n\nexport default function isInsertBtnDisplay(\n  controller: Controller,\n  data: IsNewLineProps,\n) {\n  const { node, composing } = data;\n  if (composing.length > 0 || !node) return false;\n\n  // 使用 query 后不会再有 data.pi，直接比较 type\n  if (node.type !== 'paragraph') return false;\n\n  if (Heading.isCallout(node)) return false;\n\n  if (!checkBlockData(controller, node)) return false;\n\n  if (!checkBlockContent(node)) return false;\n\n  if (controller.query('isHideDragButton', { node })) return false;\n\n  return true;\n}\n"],"file":"isInsertBtnDisplay.js"}