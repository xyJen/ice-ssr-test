{"version":3,"sources":["../../../../../src/plugins/newlineGuide/utils/getStartBlock.ts"],"names":["getStartBlock","controller","value","startBlock","document","node","type","getClosestBlock","key"],"mappings":"AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASA,aAAT,CAAuBC,UAAvB,EAA+C;AAAA,0BAC3BA,UAAU,CAACC,KADgB;AAAA,MACpDC,UADoD,qBACpDA,UADoD;AAAA,MACxCC,QADwC,qBACxCA,QADwC;AAE5D,MAAI,CAACD,UAAL,EAAiB,OAAOA,UAAP;AAEjB,MAAIE,IAAkB,GAAGF,UAAzB;;AAEA,MAAIE,IAAI,CAACC,IAAL,KAAc,MAAlB,EAA0B;AACxBD,IAAAA,IAAI,GAAGD,QAAQ,CAACG,eAAT,CAAyBF,IAAI,CAACG,GAA9B,CAAP;AACD;;AAED,SAAOH,IAAP;AACD","sourcesContent":["import { Block, Controller } from '@ali/4ever-cangjie';\n\n/**\n * 根据 startBlock 获取光标所在的 block（兼容排版模式）\n * line 是排版中分割的行，需要再向上一层\n * @param controller\n */\nexport default function getStartBlock(controller: Controller) {\n  const { startBlock, document } = controller.value;\n  if (!startBlock) return startBlock;\n\n  let node: Block | null = startBlock;\n\n  if (node.type === 'line') {\n    node = document.getClosestBlock(node.key);\n  }\n\n  return node;\n}\n"],"file":"getStartBlock.js"}