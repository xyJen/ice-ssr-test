import { NEWLINE_REMOVE_TRIGGER_TEXT, NEWLINE_REMOVE_DATA, NEWLINE_SET_DATA, mountInsertMenu } from "../actions";
import { removeNewlineTriggerText, removeNewlineData } from "../commands/newline";
import { NewlineGuideData } from "../model/newlineGuide";
export default function onAction(action, controller, next) {
  var type = action.type,
      payload = action.payload;

  if (type === NEWLINE_REMOVE_TRIGGER_TEXT) {
    return removeNewlineTriggerText(controller, payload.needRemoveEmptyParagraph);
  }

  if (type === NEWLINE_REMOVE_DATA) {
    return removeNewlineData(controller);
  }

  if (type === NEWLINE_SET_DATA) {
    if (typeof payload.triggered === 'boolean') {
      if (payload.triggered) {
        controller.run('onAction', mountInsertMenu());
      }
    }

    return NewlineGuideData.set(controller, payload);
  }

  return next();
}
//# sourceMappingURL=onAction.js.map