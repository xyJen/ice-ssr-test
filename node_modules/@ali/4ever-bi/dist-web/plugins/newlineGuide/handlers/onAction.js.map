{"version":3,"sources":["../../../../../src/plugins/newlineGuide/handlers/onAction.ts"],"names":["NEWLINE_REMOVE_TRIGGER_TEXT","NEWLINE_REMOVE_DATA","NEWLINE_SET_DATA","mountInsertMenu","removeNewlineTriggerText","removeNewlineData","NewlineGuideData","onAction","action","controller","next","type","payload","needRemoveEmptyParagraph","triggered","run","set"],"mappings":"AAAA,SAASA,2BAAT,EAAsCC,mBAAtC,EAA2DC,gBAA3D,EAA6EC,eAA7E;AACA,SAASC,wBAAT,EAAmCC,iBAAnC;AACA,SAASC,gBAAT;AAEA,eAAe,SAASC,QAAT,CAAkBC,MAAlB,EAA0BC,UAA1B,EAAsCC,IAAtC,EAA4C;AAAA,MACjDC,IADiD,GAC/BH,MAD+B,CACjDG,IADiD;AAAA,MAC3CC,OAD2C,GAC/BJ,MAD+B,CAC3CI,OAD2C;;AAGzD,MAAID,IAAI,KAAKX,2BAAb,EAA0C;AACxC,WAAOI,wBAAwB,CAACK,UAAD,EAAaG,OAAO,CAACC,wBAArB,CAA/B;AACD;;AAED,MAAIF,IAAI,KAAKV,mBAAb,EAAkC;AAChC,WAAOI,iBAAiB,CAACI,UAAD,CAAxB;AACD;;AAED,MAAIE,IAAI,KAAKT,gBAAb,EAA+B;AAC7B,QAAI,OAAOU,OAAO,CAACE,SAAf,KAA6B,SAAjC,EAA4C;AAC1C,UAAIF,OAAO,CAACE,SAAZ,EAAuB;AACrBL,QAAAA,UAAU,CAACM,GAAX,CAAe,UAAf,EAA2BZ,eAAe,EAA1C;AACD;AACF;;AACD,WAAOG,gBAAgB,CAACU,GAAjB,CAAqBP,UAArB,EAAiCG,OAAjC,CAAP;AACD;;AAED,SAAOF,IAAI,EAAX;AACD","sourcesContent":["import { NEWLINE_REMOVE_TRIGGER_TEXT, NEWLINE_REMOVE_DATA, NEWLINE_SET_DATA, mountInsertMenu } from '../actions';\nimport { removeNewlineTriggerText, removeNewlineData } from '../commands/newline';\nimport { NewlineGuideData } from '../model/newlineGuide';\n\nexport default function onAction(action, controller, next) {\n  const { type, payload } = action;\n\n  if (type === NEWLINE_REMOVE_TRIGGER_TEXT) {\n    return removeNewlineTriggerText(controller, payload.needRemoveEmptyParagraph);\n  }\n\n  if (type === NEWLINE_REMOVE_DATA) {\n    return removeNewlineData(controller);\n  }\n\n  if (type === NEWLINE_SET_DATA) {\n    if (typeof payload.triggered === 'boolean') {\n      if (payload.triggered) {\n        controller.run('onAction', mountInsertMenu());\n      }\n    }\n    return NewlineGuideData.set(controller, payload);\n  }\n\n  return next();\n}\n"],"file":"onAction.js"}