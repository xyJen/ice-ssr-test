import { Mark } from '@ali/4ever-cangjie';
import getDefaultSz from "./getDefaultSz";

function createEmptySzMarkHandler(defaultSz) {
  return function emptySzMarkHandler(controller, text) {
    var _controller$value = controller.value,
        document = _controller$value.document,
        startText = _controller$value.startText;
    var key = (text == null ? void 0 : text.key) || (startText == null ? void 0 : startText.key);
    var sz = getDefaultSz(document, key, defaultSz);
    return [Mark.create({
      type: 'sz',
      data: {
        value: sz,
        szUnit: 'pt'
      }
    })];
  };
}

export default function getActiveSzMark(controller, defaultSz) {
  return controller.query('getActiveMark', 'sz', createEmptySzMarkHandler(defaultSz));
}
//# sourceMappingURL=getActiveSzMark.js.map