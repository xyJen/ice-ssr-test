{"version":3,"sources":["../../../../../../src/plugins/sz/components/next/SzButton.tsx"],"names":["React","isNaN","PluginRoles","FontSizeSelect","useDefaultSz","setSz","SzButton","props","controller","locale","rest","defaultSz","useState","undefined","_","setSzValue","sz","query","isCollapsedAtEdge","value","selection","isDisabled","handleChange","useCallback","size","run","buttonTitle"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAC5B,SAASC,KAAT,EAAgBC,WAAhB,QAAoC,mBAApC;AACA,SAASC,cAAT,EAA+CC,YAA/C,QAAmE,sBAAnE;AACA;AACA,SAASC,KAAT;AAOA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAwC;AAAA,MAC7CC,UAD6C,GACbD,KADa,CAC7CC,UAD6C;AAAA,MACjCC,MADiC,GACbF,KADa,CACjCE,MADiC;AAAA,MACtBC,IADsB,iCACbH,KADa;;AAErD,MAAMI,SAAS,GAAGP,YAAY,EAA9B;;AAFqD,wBAG7BJ,KAAK,CAACY,QAAN,CAAmCC,SAAnC,CAH6B;AAAA,MAG9CC,CAH8C;AAAA,MAG3CC,UAH2C;;AAIrD,MAAIC,EAAE,GAAGR,UAAU,CAACS,KAAX,CAAiB,SAAjB,EAA4BN,SAA5B,CAAT;;AACA,MAAIV,KAAK,CAACe,EAAD,CAAT,EAAe;AACbA,IAAAA,EAAE,GAAGH,SAAL;AACD;;AAPoD,MAQ7CK,iBAR6C,GAQvBV,UAAU,CAACW,KAAX,CAAiBC,SARM,CAQ7CF,iBAR6C;AASrD,MAAMG,UAAU,GACdH,iBAAiB,IACdV,UAAU,CAACS,KAAX,CAAiB,oBAAjB,CADH,IAEGT,UAAU,CAACS,KAAX,CAAiB,iBAAjB,CAFH,IAGGT,UAAU,CAACS,KAAX,CAAiB,uBAAjB,CAJL;AAMA,MAAMK,YAAY,GAAGtB,KAAK,CAACuB,WAAN,CAAkB,UAACC,IAAD,EAAkB;AACvDhB,IAAAA,UAAU,CAACiB,GAAX,CAAe,UAAf,EAA2BpB,KAAK,CAACmB,IAAD,CAAhC;AACAT,IAAAA,UAAU,CAACS,IAAD,CAAV;AACD,GAHoB,EAGlB,CAAChB,UAAD,CAHkB,CAArB;AAKA,sBACE,eAAC,cAAD;AACE,IAAA,MAAM,EAAC,eADT;AAEE,IAAA,QAAQ,EAAEa,UAFZ;AAGE,IAAA,KAAK,EAAEL,EAHT;AAIE,IAAA,QAAQ,EAAEM,YAJZ;AAKE,IAAA,OAAO,EAAE,CAAAb,MAAM,QAAN,YAAAA,MAAM,CAAEiB,WAAR,KAAuB,EALlC;AAME,IAAA,IAAI,EAAExB,WAAW,CAACc;AANpB,KAOMN,IAPN,EADF;AAWD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { isNaN, PluginRoles, } from '@ali/4ever-bamboo';\nimport { FontSizeSelect, IToolbarButtonConfig, useDefaultSz } from '@ali/4ever-component';\n;\nimport { setSz } from '../../actions';\n\nexport interface SzButtonProps extends IToolbarButtonConfig {\n  controller: Controller;\n  locale?: Record<string, string>;\n}\n\nexport default function SzButton(props: SzButtonProps) {\n  const { controller, locale, ...rest } = props;\n  const defaultSz = useDefaultSz();\n  const [_, setSzValue] = React.useState<number | undefined>(undefined);\n  let sz = controller.query('getSize', defaultSz);\n  if (isNaN(sz)) {\n    sz = undefined;\n  }\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled =\n    isCollapsedAtEdge\n    || controller.query('isSelectionInImage')\n    || controller.query('isSelectionInHr')\n    || controller.query('isSelectionInLinkCard');\n\n  const handleChange = React.useCallback((size: number) => {\n    controller.run('onAction', setSz(size));\n    setSzValue(size)\n  }, [controller]);\n\n  return (\n    <FontSizeSelect\n      testid=\"bi-toolbar-sz\"\n      disabled={isDisabled}\n      value={sz}\n      onChange={handleChange}\n      tooltip={locale?.buttonTitle || ''}\n      role={PluginRoles.sz}\n      {...rest}\n    />\n  );\n}\n"],"file":"SzButton.js"}