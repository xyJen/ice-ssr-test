import _extends from "@babel/runtime/helpers/extends";
import { Commands } from '@ali/4ever-cangjie';
/**
 * block 为高亮块中最后一个段落
 * 高亮块整体选中时，会选中高亮块最后一个段落后方，并视觉上隐藏光标
 * 同时将 controller.value.data.selectedCallout 置为 true
 */

export function setCalloutSelected(controller, block) {
  var selection = controller.value.selection;

  if (selection) {
    controller.command(Commands.moveAnchorToEndOfNode, block).command(Commands.moveFocusToEndOfNode, block);
  }

  controller.setData(_extends({}, controller.value.data, {
    // 存 view 数据不太合理，改存最后一个 callout 段落的 key
    // 展示判定时，只要命中 group 中任何一个 key，就算命中
    selectedCallout: block.key
  }));
  return controller.command(Commands.focus);
}
//# sourceMappingURL=setCalloutSelected.js.map