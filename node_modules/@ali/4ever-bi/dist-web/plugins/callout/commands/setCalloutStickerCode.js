import _extends from "@babel/runtime/helpers/extends";
import { Commands } from '@ali/4ever-cangjie';
import { ColorBlocks } from '@ali/4ever-mo';
import { broadcastDataChange } from "../actions";
export function setCalloutStickerCode(controller, key, stickerCode) {
  var node = controller.value.document.getNode(key);

  if (!ColorBlocks.isColorBlocks(node)) {
    return controller;
  }

  var metadata = _extends({}, node.data.metadata);

  if (stickerCode) {
    metadata.sticker = stickerCode;
  } else {
    delete metadata.sticker;
  }

  controller.run('onAction', broadcastDataChange(metadata));
  return controller.command(Commands.setNodeByKey, key, {
    data: _extends({}, node.data, {
      metadata: metadata
    })
  });
}
//# sourceMappingURL=setCalloutStickerCode.js.map