{"version":3,"sources":["../../../../../src/plugins/callout/components/colorPanel.tsx"],"names":["React","styled","ColorPanel","ColorPanelComp","CalloutPlugin","setMetaData","DEFAULTS","ColorPanelWrapper","div","blockEvent","event","stopPropagation","preventDefault","color","controller","getNode","bgcolor","border","locale","showSticker","onValueChange","handleChange","key","value","data","node","run","checkboxLayout","title","showEmoji","defaultValue","Boolean"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAA5B,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAU,IAAIC,cAAvB,QAA6C,gBAA7C;AAEA,SAASC,aAAT,QAA8B,mBAA9B;AAEA,SAASC,WAAT;IAcQC,Q,GAAaF,a,CAAbE,Q;AAER,IAAMC,iBAAiB,gBAAGN,MAAM,CAACO,GAAV,qDAAvB;;AAMA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAA6B;AAC9CA,EAAAA,KAAK,CAACC,eAAN;AACAD,EAAAA,KAAK,CAACE,cAAN;AACD,CAHD;;AAKA,OAAO,SAASV,UAAT,OASc;AAAA,MARnBW,KAQmB,QARnBA,KAQmB;AAAA,MAPnBC,UAOmB,QAPnBA,UAOmB;AAAA,MANnBC,OAMmB,QANnBA,OAMmB;AAAA,MALnBC,OAKmB,QALnBA,OAKmB;AAAA,MAJnBC,MAImB,QAJnBA,MAImB;AAAA,MAHnBC,MAGmB,QAHnBA,MAGmB;AAAA,MAFnBC,WAEmB,QAFnBA,WAEmB;AAAA,MADnBC,aACmB,QADnBA,aACmB;;AAEnB,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD;AAAA,WAAoC,UAACC,KAAD,EAAgB;AACvE,UAAMC,IAAkC,GAAG,EAA3C,CADuE,CAEvE;;AACAA,MAAAA,IAAI,CAACF,GAAD,CAAJ,GAAYC,KAAZ;AACA,UAAME,IAAI,GAAGV,OAAO,EAApB;AACAD,MAAAA,UAAU,CAACY,GAAX,CAAe,eAAf;AACAZ,MAAAA,UAAU,CAACY,GAAX,CAAe,UAAf,EAA2BrB,WAAW,CAAC;AAAEoB,QAAAA,IAAI,EAAJA,IAAF;AAAQD,QAAAA,IAAI,EAAJA;AAAR,OAAD,CAAtC;AACAJ,MAAAA,aAAa,IAAIA,aAAa,CAACE,GAAD,EAAMC,KAAN,CAA9B;AACD,KARoB;AAAA,GAArB;;AASA,MAAMI,cAAc,GAAG,CACrB;AACEC,IAAAA,KAAK,EAAE,CAAAV,MAAM,QAAN,YAAAA,MAAM,CAAEW,SAAR,KAAqB,cAD9B;AAEEC,IAAAA,YAAY,EAAE,IAFhB;AAGEP,IAAAA,KAAK,EAAEQ,OAAO,CAACZ,WAAD,CAHhB;AAIEC,IAAAA,aAAa,EAAE,uBAACG,KAAD,EAAoB;AACjCF,MAAAA,YAAY,CAAC,SAAD,CAAZ,CAAwBE,KAAxB;AACD;AANH,GADqB,CAAvB;AAWA,sBACE,eAAC,iBAAD;AAAmB,IAAA,WAAW,EAAEd,UAAhC;AAA4C,IAAA,OAAO,EAAEA;AAArD,kBACE,eAAC,cAAD;AACE,IAAA,KAAK,EAAEI,KADT;AAEE,IAAA,YAAY,EAAEP,QAAQ,CAACO,KAFzB;AAGE,IAAA,YAAY,EAAEQ,YAAY,CAAC,OAAD,CAH5B;AAIE,IAAA,WAAW,EAAEJ,MAJf;AAKE,IAAA,kBAAkB,EAAEX,QAAQ,CAACW,MAL/B;AAME,IAAA,kBAAkB,EAAEI,YAAY,CAAC,QAAD,CANlC;AAOE,IAAA,eAAe,EAAEL,OAPnB;AAQE,IAAA,sBAAsB,EAAEV,QAAQ,CAACU,OARnC;AASE,IAAA,sBAAsB,EAAEK,YAAY,CAAC,SAAD,CATtC;AAUE,IAAA,cAAc,EAAEM,cAVlB;AAWE,IAAA,iBAAiB;AAXnB,IADF,CADF;AAiBD","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { ColorPanel as ColorPanelComp } from '@ali/we-design';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { CalloutPlugin } from '@ali/4ever-bamboo';\nimport { ColorBlocksMetaData, ColorBlocks } from '@ali/4ever-mo';\nimport { setMetaData } from '../actions';\nimport { Locale } from '../types';\n\nexport interface IColorPanelProps {\n  locale?: Locale;\n  controller: Controller;\n  getNode: () => ColorBlocks;\n  bgcolor: string;\n  color?: string;\n  border?: string;\n  showSticker?: boolean;\n  onValueChange?: (key: keyof ColorBlocksMetaData, value: 'string') => void;\n}\n\nconst { DEFAULTS } = CalloutPlugin;\n\nconst ColorPanelWrapper = styled.div`\n  background: white;\n  padding: 8px;\n  border-radius: 4px;\n`;\n\nconst blockEvent = (event: React.MouseEvent) => {\n  event.stopPropagation();\n  event.preventDefault();\n};\n\nexport function ColorPanel({\n  color,\n  controller,\n  getNode,\n  bgcolor,\n  border,\n  locale,\n  showSticker,\n  onValueChange,\n}: IColorPanelProps) {\n\n  const handleChange = (key: keyof ColorBlocksMetaData) => (value: any) => {\n    const data: Partial<ColorBlocksMetaData> = {};\n    // @ts-ignore\n    data[key] = value;\n    const node = getNode();\n    controller.run('onCangjieBlur');\n    controller.run('onAction', setMetaData({ node, data }));\n    onValueChange && onValueChange(key, value);\n  };\n  const checkboxLayout = [\n    {\n      title: locale?.showEmoji || 'Show Sticker',\n      defaultValue: true,\n      value: Boolean(showSticker),\n      onValueChange: (value: boolean) => {\n        handleChange('showstk')(value);\n      },\n    },\n  ];\n\n  return (\n    <ColorPanelWrapper onMouseDown={blockEvent} onClick={blockEvent}>\n      <ColorPanelComp\n        color={color}\n        defaultColor={DEFAULTS.color}\n        onColorClick={handleChange('color')}\n        borderColor={border}\n        defaultBorderColor={DEFAULTS.border}\n        onBorderColorClick={handleChange('border')}\n        backgroundColor={bgcolor}\n        defaultBackgroundColor={DEFAULTS.bgcolor}\n        onBackgroundColorClick={handleChange('bgcolor')}\n        checkboxLayout={checkboxLayout}\n        enableResetButton\n      />\n    </ColorPanelWrapper>\n  );\n}"],"file":"colorPanel.js"}