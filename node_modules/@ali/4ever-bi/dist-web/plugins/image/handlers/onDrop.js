import { transferUtils } from '@ali/4ever-cangjie';
import onInsertImage from "./onInsertImage";
export default function createOnDrop(imageConfig, state) {
  return function onDrop(event, controller, next) {
    event.preventDefault();
    var data = transferUtils.getEventTransfer(event, controller);

    if (data.type === 'files') {
      var files = data.files;
      var imageFiles = files.filter(function (file) {
        return file.type.indexOf('image/') >= 0;
      });
      if (imageFiles.length === 0) return next();
      return onInsertImage(controller, imageFiles, imageConfig, state);
    }

    return next();
  };
}
//# sourceMappingURL=onDrop.js.map