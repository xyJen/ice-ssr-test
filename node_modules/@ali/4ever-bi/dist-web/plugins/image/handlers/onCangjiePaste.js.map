{"version":3,"sources":["../../../../../src/plugins/image/handlers/onCangjiePaste.ts"],"names":["onInsertImage","createOnCangjiePaste","config","state","imageConfig","image","onCangjiePaste","event","controller","next","clipboardData","query","files","getImages","length"],"mappings":"AACA,OAAOA,aAAP;AAIA,eAAe,SAASC,oBAAT,CACbC,MADa,EAEbC,KAFa,EAGb;AACA,MAAMC,WAAW,GAAGF,MAAM,CAACG,KAAP,IAAgB,EAApC;AAEA,SAAO,SAASC,cAAT,CACLC,KADK,EAELC,UAFK,EAGLC,IAHK,EAIL;AACA,QAAMC,aAAa,GAAGF,UAAU,CAACG,KAAX,CAAiB,kBAAjB,EAAqCJ,KAArC,CAAtB;AACA,QAAMK,KAAK,GAAGF,aAAH,oBAAGA,aAAa,CAAEG,SAAf,EAAd;;AACA,QAAID,KAAK,IAAIA,KAAK,CAACE,MAAN,IAAgB,CAA7B,EAAgC;AAC9B,aAAOd,aAAa,CAACQ,UAAD,EAAaI,KAAb,EAAoBR,WAApB,EAAiCD,KAAjC,CAApB;AACD;;AACD,WAAOM,IAAI,EAAX;AACD,GAXD;AAYD","sourcesContent":["import { Controller, CangjieClipboardEvent } from '@ali/4ever-cangjie';\nimport onInsertImage from './onInsertImage';\nimport { BiPluginConfig } from '../../../types';\nimport { ImageState } from '../types';\n\nexport default function createOnCangjiePaste(\n  config: BiPluginConfig,\n  state: ImageState,\n) {\n  const imageConfig = config.image || {};\n\n  return function onCangjiePaste(\n    event: CangjieClipboardEvent,\n    controller: Controller,\n    next: Function,\n  ) {\n    const clipboardData = controller.query('getClipboardData', event);\n    const files = clipboardData?.getImages();\n    if (files && files.length >= 1) {\n      return onInsertImage(controller, files, imageConfig, state);\n    }\n    return next();\n  };\n}\n"],"file":"onCangjiePaste.js"}