import * as React from 'react';
var _createElement = /*#__PURE__*/React.createElement;
import { Image } from '@ali/4ever-mo';
import styled from 'styled-components';
import { SidebarItems } from '@ali/4ever-component';
var SidebarBox = /*#__PURE__*/styled.div(["height:100%;"]);
var SidebarItemsBox = /*#__PURE__*/styled.div(["margin-bottom:60px;"]);
var TipBox = /*#__PURE__*/styled.div(["height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:14px;"]);
var IconBox = /*#__PURE__*/styled.div(["height:100px;"]);

var _ref = /*#__PURE__*/_createElement(IconBox, null, /*#__PURE__*/_createElement("img", {
  src: "https://img.alicdn.com/imgextra/i4/O1CN01wWQTqW1RcV9LQrOlh_!!6000000002132-2-tps-540-540.png",
  width: 100
}));

var Sidebar = function Sidebar(props) {
  var controller = props.controller,
      locale = props.locale;
  var _controller$value = controller.value,
      document = _controller$value.document,
      selection = _controller$value.selection;
  var layout = controller.query('getImageSidebarLayout') || [];
  var focusNode = React.useMemo(function () {
    var isCollapsed = selection.isCollapsed,
        focus = selection.focus;

    if (isCollapsed) {
      var node = document.getClosestVoid(focus.key, controller);
      return Image.isImage(node) ? node : null;
    }

    return null;
  }, [controller, document, selection]);

  if (!focusNode) {
    return /*#__PURE__*/_createElement(SidebarBox, null, /*#__PURE__*/_createElement(TipBox, null, _ref, locale.selectImageTip));
  }

  return /*#__PURE__*/_createElement(SidebarItemsBox, null, /*#__PURE__*/_createElement(SidebarItems, {
    layout: layout
  }));
};

Sidebar.displayName = 'Sidebar';
export default Sidebar;
//# sourceMappingURL=Sidebar.js.map