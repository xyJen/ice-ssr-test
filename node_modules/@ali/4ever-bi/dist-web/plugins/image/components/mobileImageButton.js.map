{"version":3,"sources":["../../../../../src/plugins/image/components/mobileImageButton.tsx"],"names":["React","selectImage","isButtonDisabled","controller","value","document","selection","isDisabled","getClosest","anchor","key","n","query","Boolean","MobileImage","props","Wrapper","item","locale","handleClick","run","quickInsertTitle","MobileBigImage"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAE5B,SAASC,WAAT;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,UAAD,EAA4B;AAAA,0BACnBA,UAAU,CAACC,KADQ;AAAA,MAC3CC,QAD2C,qBAC3CA,QAD2C;AAAA,MACjCC,SADiC,qBACjCA,SADiC;AAEnD,MAAMC,UAAU,GAAGF,QAAQ,CAACG,UAAT,CAAoBF,SAAS,CAACG,MAAV,CAAiBC,GAArC,EAA0C,UAACC,CAAD;AAAA,WAC3DR,UAAU,CAACS,KAAX,CAAiB,QAAjB,EAA2BD,CAA3B,CAD2D;AAAA,GAA1C,CAAnB;AAGA,SAAOE,OAAO,CAACN,UAAD,CAAd;AACD,CAND;;AAQA,OAAO,SAASO,WAAT,CAAqBC,KAArB,EAAsD;AAAA,MACnDZ,UADmD,GACbY,KADa,CACnDZ,UADmD;AAAA,MACvCa,OADuC,GACbD,KADa,CACvCC,OADuC;AAAA,MAC9BC,IAD8B,GACbF,KADa,CAC9BE,IAD8B;AAAA,MACxBC,MADwB,GACbH,KADa,CACxBG,MADwB;;AAE3D,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBhB,IAAAA,UAAU,CAACiB,GAAX,CAAe,eAAf;AACAjB,IAAAA,UAAU,CAACiB,GAAX,CAAe,UAAf,EAA2BnB,WAAW,EAAtC;AACD,GAHD;;AAKA,sBACE,eAAC,OAAD;AACE,IAAA,IAAI,EAAEgB,IADR;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,QAAQ,EAAEC,MAAF,oBAAEA,MAAM,CAAEG,gBAJpB;AAKE,IAAA,UAAU,EAAEnB,gBAAgB,CAACC,UAAD,CAL9B;AAME,IAAA,OAAO,EAAEgB;AANX,IADF;AAUD;AAED,OAAO,SAASG,cAAT,CAAwBP,KAAxB,EAAyD;AAAA,MACtDZ,UADsD,GACxBY,KADwB,CACtDZ,UADsD;AAAA,MAC1Ca,OAD0C,GACxBD,KADwB,CAC1CC,OAD0C;AAAA,MACjCC,IADiC,GACxBF,KADwB,CACjCE,IADiC;;AAE9D,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBhB,IAAAA,UAAU,CAACiB,GAAX,CAAe,eAAf;AACAjB,IAAAA,UAAU,CAACiB,GAAX,CAAe,UAAf,EAA2BnB,WAAW,EAAtC;AACD,GAHD;;AAKA,sBACE,eAAC,OAAD;AACE,IAAA,IAAI,EAAEgB,IADR;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,UAAU,EAAEf,gBAAgB,CAACC,UAAD,CAJ9B;AAKE,IAAA,OAAO,EAAEgB;AALX,IADF;AASD","sourcesContent":["import React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport type { MobileToolbarButtonProps } from '@ali/4ever-component';\nimport { selectImage } from '../actions';\n\nconst isButtonDisabled = (controller: Controller) => {\n  const { document, selection } = controller.value;\n  const isDisabled = document.getClosest(selection.anchor.key, (n) =>\n    controller.query('isVoid', n),\n  );\n  return Boolean(isDisabled);\n};\n\nexport function MobileImage(props: MobileToolbarButtonProps) {\n  const { controller, Wrapper, item, locale } = props;\n  const handleClick = () => {\n    controller.run('onCangjieBlur');\n    controller.run('onAction', selectImage());\n  };\n\n  return (\n    <Wrapper\n      item={item}\n      type=\"line\"\n      icon=\"image\"\n      lineText={locale?.quickInsertTitle}\n      isDisabled={isButtonDisabled(controller)}\n      onClick={handleClick}\n    />\n  );\n}\n\nexport function MobileBigImage(props: MobileToolbarButtonProps) {\n  const { controller, Wrapper, item } = props;\n  const handleClick = () => {\n    controller.run('onCangjieBlur');\n    controller.run('onAction', selectImage());\n  };\n\n  return (\n    <Wrapper\n      item={item}\n      type=\"big\"\n      icon=\"image\"\n      isDisabled={isButtonDisabled(controller)}\n      onClick={handleClick}\n    />\n  );\n}\n"],"file":"mobileImageButton.js"}