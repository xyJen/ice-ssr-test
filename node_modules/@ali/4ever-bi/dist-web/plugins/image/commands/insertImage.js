import { Commands } from '@ali/4ever-cangjie';
import { generateKey } from '@ali/4ever-utils';
export default function insertImage(controller, maybeImages) {
  if (controller.query('isCollapsedInBlockVoid')) {
    controller.command(Commands.insertBlock, 'paragraph');
  }

  var images = Array.isArray(maybeImages) ? maybeImages : [maybeImages];
  images.forEach(function (image) {
    controller.command(Commands.insertInline, {
      type: 'image',
      data: {
        id: generateKey(),
        name: '',
        src: image.src,
        width: image.width,
        height: image.height,
        extraData: image.extraData
      }
    }).command(Commands.moveToStartOfNextText).command(Commands.insertText, ' ');
  });
  return controller.command(Commands.focus);
}
//# sourceMappingURL=insertImage.js.map