{"version":3,"sources":["../../../../../src/plugins/image/commands/insertImagePlaceholder.ts"],"names":["Commands","Inline","insertImagePlaceholder","controller","value","selection","startInline","isExpanded","command","moveToStartOfNextText","inline","create","type","data","insertInline"],"mappings":"AAAA,SAAqBA,QAArB,EAA+BC,MAA/B,QAA6C,oBAA7C;AAEA,eAAe,SAASC,sBAAT,CAAgCC,UAAhC,EAAwD;AAAA,MAC7DC,KAD6D,GACnDD,UADmD,CAC7DC,KAD6D;AAAA,MAE7DC,SAF6D,GAElCD,KAFkC,CAE7DC,SAF6D;AAAA,MAElDC,WAFkD,GAElCF,KAFkC,CAElDE,WAFkD;AAIrE,MAAID,SAAS,CAACE,UAAd,EAA0B,OAAOJ,UAAP;;AAE1B,MAAIG,WAAJ,EAAiB;AACfH,IAAAA,UAAU,CAACK,OAAX,CAAmBR,QAAQ,CAACS,qBAA5B;AACD;;AAED,MAAMC,MAAM,GAAGT,MAAM,CAACU,MAAP,CAAc;AAC3BC,IAAAA,IAAI,EAAE,OADqB;AAE3BC,IAAAA,IAAI,EAAE;AAFqB,GAAd,CAAf;AAKA,SAAOV,UAAU,CAACK,OAAX,CAAmBR,QAAQ,CAACc,YAA5B,EAA0CJ,MAA1C,CAAP;AACD","sourcesContent":["import { Controller, Commands, Inline } from '@ali/4ever-cangjie';\n\nexport default function insertImagePlaceholder(controller: Controller) {\n  const { value } = controller;\n  const { selection, startInline } = value;\n\n  if (selection.isExpanded) return controller;\n\n  if (startInline) {\n    controller.command(Commands.moveToStartOfNextText);\n  }\n\n  const inline = Inline.create({\n    type: 'image',\n    data: {},\n  });\n\n  return controller.command(Commands.insertInline, inline);\n}\n"],"file":"insertImagePlaceholder.js"}