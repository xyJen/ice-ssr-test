{"version":3,"sources":["../../../../src/plugins/image/createRenderEditable.tsx"],"names":["React","ImagePlugin","config","props","controller","next","transformImageURL","imageManager","useMemo","ImageManager"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;qBAA4B,a;AAE5B,SAASC,WAAT,QAA4B,mBAA5B;AAGA,gBAAe,UAACC,MAAD,EAA+B;AAC5C,SAAO,UAACC,KAAD,EAA4BC,UAA5B,EAAoDC,IAApD,EAA6D;AAAA,eACpCH,MAAM,IAAI,EAD0B;AAAA,QAC1DI,iBAD0D,QAC1DA,iBAD0D;;AAElE,QAAMC,YAAY,GAAGP,KAAK,CAACQ,OAAN,CAAc,YAAM;AACvC,UAAIF,iBAAJ,EAAuB;AACrB,eAAO,IAAIL,WAAW,CAACQ,YAAhB,CAA6BH,iBAA7B,EAAgDF,UAAhD,CAAP;AACD;;AACD,aAAO,IAAP;AACD,KALoB,EAKlB,CAACE,iBAAD,CALkB,CAArB;AAOA,wBACE,eAAC,WAAD,CAAa,mBAAb,CAAiC,QAAjC;AAA0C,MAAA,KAAK,EAAEC;AAAjD,OACGF,IAAI,EADP,CADF;AAKD,GAdD;AAeD,CAhBD","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport { RenderContentProps, Controller } from '@ali/4ever-cangjie';\nimport { ImagePlugin } from '@ali/4ever-bamboo';\nimport { ImagePluginConfig } from './types';\n\nexport default (config: ImagePluginConfig) => {\n  return (props: RenderContentProps, controller: Controller, next) => {\n    const { transformImageURL } = config || {};\n    const imageManager = React.useMemo(() => {\n      if (transformImageURL) {\n        return new ImagePlugin.ImageManager(transformImageURL, controller);\n      }\n      return null;\n    }, [transformImageURL]);\n\n    return (\n      <ImagePlugin.ImageManagerContext.Provider value={imageManager}>\n        {next()}\n      </ImagePlugin.ImageManagerContext.Provider>\n    );\n  };\n};\n"],"file":"createRenderEditable.js"}