{"version":3,"sources":["../../../../../src/plugins/alignment/components/alignmentButton.tsx"],"names":["React","HorizontalAlignSelect","OriginHorizontalAlignSelect","PluginRoles","useScrollableContent","setAlignment","shortcut","ToolbarMode","memo","SUPPORT_ALIGNMENT","left","center","right","justify","AlignmentButton","props","controller","locale","size","toolbarMode","alignment","query","isCollapsedAtEdge","value","selection","isDisabled","handleChange","useCallback","run","scrollableContent","getContainer","defaultContainer","window","document","body","buttonTitle","alignSelect","inline","undefined"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAC5B,SAASC,qBAAqB,IAAIC,2BAAlC,QAAqE,iBAArE;AACA,SAASC,WAAT,EAAsBC,oBAAtB,QAAkD,mBAAlD;AACA,SAASC,YAAT;AACA,SAASC,QAAT;AACA;AACA,SAASC,WAAT,QAA4B,sBAA5B;AAEA,IAAMN,qBAAqB,gBAAGD,KAAK,CAACQ,IAAN,CAAWN,2BAAX,CAA9B;AAEA,IAAMO,iBAAiB,GAAG;AACxBC,EAAAA,IAAI,EAAE,IADkB;AAExBC,EAAAA,MAAM,EAAE,IAFgB;AAGxBC,EAAAA,KAAK,EAAE,IAHiB;AAIxBC,EAAAA,OAAO,EAAE;AAJe,CAA1B;AAcA,eAAe,SAASC,eAAT,CAAyBC,KAAzB,EAAsD;AAAA,MAC3DC,UAD2D,GACjBD,KADiB,CAC3DC,UAD2D;AAAA,MAC/CC,MAD+C,GACjBF,KADiB,CAC/CE,MAD+C;AAAA,MACvCC,IADuC,GACjBH,KADiB,CACvCG,IADuC;AAAA,MACjCC,WADiC,GACjBJ,KADiB,CACjCI,WADiC;AAEnE,MAAMC,SAAS,GAAGJ,UAAU,CAACK,KAAX,CAAiB,cAAjB,CAAlB;AAFmE,MAG3DC,iBAH2D,GAGrCN,UAAU,CAACO,KAAX,CAAiBC,SAHoB,CAG3DF,iBAH2D;AAInE,MAAMG,UAAU,GAAGH,iBAAiB,IAAIN,UAAU,CAACK,KAAX,CAAiB,yBAAjB,CAAxC;AACA,MAAMK,YAAY,GAAG1B,KAAK,CAAC2B,WAAN,CAAkB,UAACJ,KAAD,EAAmB;AACxDP,IAAAA,UAAU,CAACY,GAAX,CAAe,UAAf,EAA2BvB,YAAY,CAACkB,KAAD,CAAvC;AACD,GAFoB,EAElB,CAACP,UAAD,CAFkB,CAArB;AAIA,MAAMa,iBAAiB,GAAGzB,oBAAoB,EAA9C;AAEA,MAAM0B,YAAY,GAAG9B,KAAK,CAAC2B,WAAN,CAAkB,YAAM;AAC3C,QAAMI,gBAAgB,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAzC;AACA,WAAOL,iBAAiB,IAAIE,gBAA5B;AACD,GAHoB,EAGlB,CAACF,iBAAD,EAAoBV,WAApB,CAHkB,CAArB;AAKA,sBACE,eAAC,qBAAD;AACE,IAAA,IAAI,EAAED,IADR;AAEE,IAAA,QAAQ,EAAEQ,YAFZ;AAGE,IAAA,KAAK,EAAEjB,iBAAiB,CAACW,SAAD,CAAjB,GAA+BA,SAA/B,GAA2C,MAHpD;AAIE,IAAA,MAAM,EAAC,kBAJT;AAKE,IAAA,QAAQ,EAAEK,UALZ;AAME,IAAA,MAAM,EAAEnB,QANV;AAOE,IAAA,OAAO,EAAEW,MAAM,CAACkB,WAPlB;AAQE,IAAA,IAAI,EAAEhC,WAAW,CAACiC,WARpB;AASE,IAAA,YAAY,EAAEjB,WAAW,KAAKZ,WAAW,CAAC8B,MAA5B,GAAqCP,YAArC,GAAoDQ;AATpE,IADF;AAaD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { HorizontalAlignSelect as OriginHorizontalAlignSelect } from '@ali/we-toolbar';\nimport { PluginRoles, useScrollableContent } from '@ali/4ever-bamboo';\nimport { setAlignment } from '../actions';\nimport { shortcut } from '../utils/getTipsByType';\n;\nimport { ToolbarMode } from '@ali/4ever-component';\n\nconst HorizontalAlignSelect = React.memo(OriginHorizontalAlignSelect);\n\nconst SUPPORT_ALIGNMENT = {\n  left: true,\n  center: true,\n  right: true,\n  justify: true,\n};\n\nexport interface AlignmentButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n  size: 'large' | 'medium' | 'small';\n  toolbarMode?: ToolbarMode;\n}\n\nexport default function AlignmentButton(props: AlignmentButtonProps) {\n  const { controller, locale, size, toolbarMode } = props;\n  const alignment = controller.query('getAlignment');\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled = isCollapsedAtEdge || controller.query('isSelectionInListSymbol');\n  const handleChange = React.useCallback((value: string) => {\n    controller.run('onAction', setAlignment(value));\n  }, [controller]);\n\n  const scrollableContent = useScrollableContent();\n  \n  const getContainer = React.useCallback(() => {\n    const defaultContainer = window.document.body;\n    return scrollableContent || defaultContainer;\n  }, [scrollableContent, toolbarMode]);\n\n  return (\n    <HorizontalAlignSelect\n      size={size}\n      onChange={handleChange}\n      value={SUPPORT_ALIGNMENT[alignment] ? alignment : 'left'}\n      testid=\"bi-toolbar-align\"\n      disabled={isDisabled}\n      titles={shortcut}\n      tooltip={locale.buttonTitle}\n      role={PluginRoles.alignSelect}\n      getContainer={toolbarMode === ToolbarMode.inline ? getContainer : undefined}\n    />\n  );\n}\n"],"file":"alignmentButton.js"}