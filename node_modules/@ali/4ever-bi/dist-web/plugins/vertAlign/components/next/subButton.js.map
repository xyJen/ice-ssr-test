{"version":3,"sources":["../../../../../../src/plugins/vertAlign/components/next/subButton.tsx"],"names":["React","PluginRoles","SubscriptButton","toggleSub","SHORTCUT","SubButton","props","controller","locale","tooltipProp","tooltip","rest","isActive","query","isCollapsedAtEdge","value","selection","isDisabled","handleClick","useCallback","run","useMemo","title","subButtonTitle","shortCut","sub","description","text","space","vertAlignSub"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAC5B,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAA+BC,eAA/B,QAAsD,sBAAtD;AACA,SAASC,SAAT;AACA,SAASC,QAAT;AACA;AACA;AAOA,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAA0C;AAAA,MAC/CC,UAD+C,GACOD,KADP,CAC/CC,UAD+C;AAAA,MACnCC,MADmC,GACOF,KADP,CACnCE,MADmC;AAAA,MAClBC,WADkB,GACOH,KADP,CAC3BI,OAD2B;AAAA,MACFC,IADE,iCACOL,KADP;;AAEvD,MAAMM,QAAQ,GAAGL,UAAU,CAACM,KAAX,CAAiB,OAAjB,CAAjB;AAFuD,MAG/CC,iBAH+C,GAGzBP,UAAU,CAACQ,KAAX,CAAiBC,SAHQ,CAG/CF,iBAH+C;AAIvD,MAAMG,UAAU,GAAGH,iBAAiB,IAC/BP,UAAU,CAACM,KAAX,CAAiB,oBAAjB,CADc,IAEdN,UAAU,CAACM,KAAX,CAAiB,iBAAjB,CAFc,IAGdN,UAAU,CAACM,KAAX,CAAiB,sBAAjB,CAHc,IAIdN,UAAU,CAACM,KAAX,CAAiB,mBAAjB,CAJc,IAKdN,UAAU,CAACM,KAAX,CAAiB,yBAAjB,CALc,IAMdN,UAAU,CAACM,KAAX,CAAiB,uBAAjB,CANL;AAQA,MAAMK,WAAW,GAAGlB,KAAK,CAACmB,WAAN,CAAkB;AAAA,WAAMZ,UAAU,CAACa,GAAX,CAAe,UAAf,EAA2BjB,SAAS,EAApC,CAAN;AAAA,GAAlB,EAAiE,CAACI,UAAD,CAAjE,CAApB;AAEA,MAAMG,OAAO,GAAGV,KAAK,CAACqB,OAAN,CAAc;AAAA;AAC5BC,MAAAA,KAAK,EAAE,CAAAd,MAAM,QAAN,YAAAA,MAAM,CAAEe,cAAR,KAA0B,EADL;AAE5BC,MAAAA,QAAQ,EAAEpB,QAAQ,CAACqB,GAFS;AAG5BC,MAAAA,WAAW,mBAAgB,CAAAlB,MAAM,QAAN,YAAAA,MAAM,CAAEmB,IAAR,KAAgB,MAAhC,YAA2C,CAAAnB,MAAM,QAAN,YAAAA,MAAM,CAAEoB,KAAR,KAAiB,OAA5D;AAHiB,OAIzBnB,WAJyB;AAAA,GAAd,EAKZ,CAACA,WAAD,CALY,CAAhB;AAOA,sBACE,eAAC,eAAD;AACE,IAAA,MAAM,EAAC,gBADT;AAEE,IAAA,MAAM,EAAEG,QAFV;AAGE,IAAA,QAAQ,EAAE,CAAC,CAACK,UAHd;AAIE,IAAA,OAAO,EAAEC,WAJX;AAKE,IAAA,KAAK,EAAEV,MAAF,oBAAEA,MAAM,CAAEe,cALjB;AAME,IAAA,OAAO,EAAEb,OANX;AAOE,IAAA,IAAI,EAAET,WAAW,CAAC4B;AAPpB,KAQMlB,IARN,EADF;AAYD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { PluginRoles } from '@ali/4ever-bamboo';\nimport { IToolbarButtonConfig, SubscriptButton } from '@ali/4ever-component';\nimport { toggleSub } from '../../actions';\nimport { SHORTCUT } from '../../utils';\n;\n;\n\nexport interface SubButtonProps extends IToolbarButtonConfig {\n  controller: Controller;\n  locale?: Record<string, string>;\n}\n\nexport default function SubButton(props: SubButtonProps) {\n  const { controller, locale, tooltip: tooltipProp, ...rest } = props;\n  const isActive = controller.query('isSub');\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled = isCollapsedAtEdge\n    || controller.query('isSelectionInImage')\n    || controller.query('isSelectionInHr')\n    || controller.query('isSelectionInMention')\n    || controller.query('isSelectionInLink')\n    || controller.query('isSelectionInListSymbol')\n    || controller.query('isSelectionInLinkCard');\n\n  const handleClick = React.useCallback(() => controller.run('onAction', toggleSub()), [controller]);\n\n  const tooltip = React.useMemo(() => ({\n    title: locale?.subButtonTitle || '',\n    shortCut: SHORTCUT.sub,\n    description: `Markdown: ~${locale?.text || 'Text'}~ ${locale?.space || 'Space'}`,\n    ...tooltipProp,\n  }), [tooltipProp]);\n\n  return (\n    <SubscriptButton\n      testid=\"bi-toolbar-sub\"\n      active={isActive}\n      disabled={!!isDisabled}\n      onClick={handleClick}\n      title={locale?.subButtonTitle}\n      tooltip={tooltip}\n      role={PluginRoles.vertAlignSub}\n      {...rest}\n    />\n  );\n}\n"],"file":"subButton.js"}