{"version":3,"sources":["../../../../../src/plugins/vertAlign/components/groupButton.tsx"],"names":["React","ScriptSelect","PluginRoles","toggleSub","toggleSup","getHotKeyTips","SubButton","props","controller","locale","rest","isSubActive","query","tips","sub","isCollapsedAtEdge","value","selection","isDisabled","handleChange","useCallback","run","status","tip","vertAlign"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAC5B,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA;AACA,SAASC,SAAT,EAAoBC,SAApB;AACA,SAASC,aAAT;AACA;AAOA,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAA0C;AAAA,MAC/CC,UAD+C,GACfD,KADe,CAC/CC,UAD+C;AAAA,MACnCC,MADmC,GACfF,KADe,CACnCE,MADmC;AAAA,MACxBC,IADwB,iCACfH,KADe;;AAEvD,MAAMI,WAAW,GAAGH,UAAU,CAACI,KAAX,CAAiB,OAAjB,CAApB;AACA,MAAMC,IAAI,GAAG;AACX,aAAOR,aAAa,CAAC,KAAD,EAAQI,MAAR,CADT;AAEXK,IAAAA,GAAG,EAAET,aAAa,CAAC,KAAD,EAAQI,MAAR;AAFP,GAAb;AAHuD,MAQ/CM,iBAR+C,GAQzBP,UAAU,CAACQ,KAAX,CAAiBC,SARQ,CAQ/CF,iBAR+C;AASvD,MAAMG,UAAU,GAAGH,iBAAiB,IAC/BP,UAAU,CAACI,KAAX,CAAiB,oBAAjB,CADc,IAEdJ,UAAU,CAACI,KAAX,CAAiB,iBAAjB,CAFc,IAGdJ,UAAU,CAACI,KAAX,CAAiB,sBAAjB,CAHc,IAIdJ,UAAU,CAACI,KAAX,CAAiB,mBAAjB,CAJc,IAKdJ,UAAU,CAACI,KAAX,CAAiB,yBAAjB,CALc,IAMdJ,UAAU,CAACI,KAAX,CAAiB,uBAAjB,CANL;AAQA,MAAMO,YAAY,GAAGnB,KAAK,CAACoB,WAAN,CAAkB,UAACJ,KAAD,EAAmB;AACxDR,IAAAA,UAAU,CAACa,GAAX,CAAe,UAAf,EAA2BL,KAAK,KAAK,KAAV,GAAkBb,SAAS,EAA3B,GAAgCC,SAAS,EAApE;AACD,GAFoB,EAElB,CAACI,UAAD,CAFkB,CAArB;AAIA,MAAMc,MAAM,GAAGX,WAAW,GAAG,KAAH,GAAW,OAArC;AACA,MAAMY,GAAG,GAAGZ,WAAW,GAAGE,IAAI,CAACC,GAAR,GAAcD,IAAI,SAAzC;AAEA,sBACE,eAAC,YAAD,eACMH,IADN;AAEE,IAAA,MAAM,kBAAgBY,MAFxB;AAGE,IAAA,KAAK,EAAEC,GAHT;AAIE,IAAA,KAAK,EAAED,MAJT;AAKE,IAAA,QAAQ,EAAE,CAAC,CAACJ,UALd;AAME,IAAA,OAAO,EAAEC,YANX;AAOE,IAAA,IAAI,EAAEjB,WAAW,CAACsB;AAPpB,KADF;AAWD","sourcesContent":["import React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { ScriptSelect } from '@ali/we-toolbar';\nimport { PluginRoles } from '@ali/4ever-bamboo';\n;\nimport { toggleSub, toggleSup } from '../actions';\nimport { getHotKeyTips } from '../utils';\n;\n\nexport interface SubButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n}\n\nexport default function SubButton(props: SubButtonProps) {\n  const { controller, locale, ...rest } = props;\n  const isSubActive = controller.query('isSub');\n  const tips = {\n    super: getHotKeyTips('sup', locale),\n    sub: getHotKeyTips('sub', locale),\n  };\n\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled = isCollapsedAtEdge\n    || controller.query('isSelectionInImage')\n    || controller.query('isSelectionInHr')\n    || controller.query('isSelectionInMention')\n    || controller.query('isSelectionInLink')\n    || controller.query('isSelectionInListSymbol')\n    || controller.query('isSelectionInLinkCard');\n\n  const handleChange = React.useCallback((value: string) => {\n    controller.run('onAction', value === 'sub' ? toggleSub() : toggleSup());\n  }, [controller]);\n\n  const status = isSubActive ? 'sub' : 'super';\n  const tip = isSubActive ? tips.sub : tips.super;\n\n  return (\n    <ScriptSelect\n      {...rest}\n      testid={`bi-toolbar-${status}`}\n      title={tip}\n      value={status as any}\n      disabled={!!isDisabled}\n      onClick={handleChange}\n      role={PluginRoles.vertAlign}\n    />\n  );\n}\n"],"file":"groupButton.js"}