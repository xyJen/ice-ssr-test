{"version":3,"sources":["../../../../src/plugins/hoverBlock/createOnAction.ts"],"names":["UPDATE_HOVER_HIGHLIGHT","REMOVE_HOVER_HIGHLIGHT","updateHighlight","removeHighlight","createOnAction","config","action","controller","next","type","payload","isHighlightBorder"],"mappings":"AACA,SACEA,sBADF,EAEEC,sBAFF;AAKA,OAAOC,eAAP;AACA,OAAOC,eAAP;AAGA,eAAe,SAASC,cAAT,CAAwBC,MAAxB,EAAmD;AAChE,SAAO,UAACC,MAAD,EAASC,UAAT,EAAiCC,IAAjC,EAA0C;AAAA,QACvCC,IADuC,GACrBH,MADqB,CACvCG,IADuC;AAAA,QACjCC,OADiC,GACrBJ,MADqB,CACjCI,OADiC;AAAA,gCAETL,MAFS,CAEvCM,iBAFuC;AAAA,QAEvCA,iBAFuC,sCAEnB,KAFmB;;AAG/C,QAAIF,IAAI,KAAKT,sBAAb,EAAqC;AACnCE,MAAAA,eAAe,CAACK,UAAD,EAAaG,OAAb,EAAsBC,iBAAtB,CAAf;AACA,aAAOJ,UAAP;AACD;;AACD,QAAIE,IAAI,KAAKR,sBAAb,EAAqC;AACnCE,MAAAA,eAAe,CAACI,UAAD,EAAaG,OAAb,EAAsBC,iBAAtB,CAAf;AACA,aAAOJ,UAAP;AACD;;AACD,WAAOC,IAAI,EAAX;AACD,GAZD;AAaD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport {\n  UPDATE_HOVER_HIGHLIGHT,\n  REMOVE_HOVER_HIGHLIGHT,\n} from './actions';\n\nimport updateHighlight from './commands/updateHighlight';\nimport removeHighlight from './commands/removeHighlight';\nimport type { IHoverBlockConfig } from './types';\n\nexport default function createOnAction(config: IHoverBlockConfig) {\n  return (action, controller: Controller, next) => {\n    const { type, payload } = action;\n    const { isHighlightBorder = false } = config;\n    if (type === UPDATE_HOVER_HIGHLIGHT) {\n      updateHighlight(controller, payload, isHighlightBorder);\n      return controller;\n    }\n    if (type === REMOVE_HOVER_HIGHLIGHT) {\n      removeHighlight(controller, payload, isHighlightBorder)\n      return controller;\n    }\n    return next();\n  }\n}"],"file":"createOnAction.js"}