{"version":3,"sources":["../../../../../src/plugins/blockquote/components/quoteMenu.tsx"],"names":["React","MenuItem","InlineMenuItem","PluginRoles","toggleBlockquote","isBlockquoteDisabled","withBlockquoteMenu","Component","BlockquoteMenu","props","menuItem","controller","value","action","title","rest","isDisabled","query","handleClick","run","paragraph","menu","inlineMenu"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,QAAT,EAAmBC,cAAnB,QAAyC,gBAAzC;AACA,SAASC,WAAT,QAA4B,mBAA5B;AAEA,SAASC,gBAAT;AACA,OAAOC,oBAAP,sC,CAEA;;AACA,SAASC,kBAAT,CAA4BC,SAA5B,EAAsD;AACpD,SAAO,SAASC,cAAT,CAAwBC,KAAxB,EAAmD;AAAA,QAChDC,QADgD,GACvBD,KADuB,CAChDC,QADgD;AAAA,QACtCC,UADsC,GACvBF,KADuB,CACtCE,UADsC;AAAA,QAEhDC,KAFgD,GAEtCD,UAFsC,CAEhDC,KAFgD;;AAAA,QAGhDC,MAHgD,GAGrBH,QAHqB,CAGhDG,MAHgD;AAAA,QAGxCC,KAHwC,GAGrBJ,QAHqB,CAGxCI,KAHwC;AAAA,QAG9BC,IAH8B,iCAGrBL,QAHqB;;AAKxD,QAAMM,UAAU,GAAGX,oBAAoB,CAACM,UAAD,CAApB,IAAoCA,UAAU,CAACM,KAAX,CAAiB,6BAAjB,CAAvD;;AACA,QAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB;AACA;AACA;AACA;AACAP,MAAAA,UAAU,CAACQ,GAAX,CAAe,UAAf,EAA2Bf,gBAAgB,EAA3C;AACD,KAND;;AAQA,wBACE,eAAC,SAAD;AAAW,MAAA,QAAQ,EAAEY;AAArB,OAAqCD,IAArC;AAA2C,MAAA,OAAO,EAAEG,WAApD;AAAiE,MAAA,IAAI,EAAEf,WAAW,CAACiB;AAAnF,QACGN,KADH,CADF;AAKD,GAnBD;AAoBD;;AAED,OAAO,IAAMO,IAAI,GAAGf,kBAAkB,CAACL,QAAD,CAA/B;AAEP,OAAO,IAAMqB,UAAU,GAAGhB,kBAAkB,CAACJ,cAAD,CAArC","sourcesContent":["import * as React from 'react';\nimport { MenuItem, InlineMenuItem } from '@ali/we-design';\nimport { PluginRoles } from '@ali/4ever-bamboo';\nimport { MenuItemInnerProps } from '@ali/4ever-component';\nimport { toggleBlockquote } from '../actions';\nimport isBlockquoteDisabled from '../utils/isBlockquoteDisabled';\n\n// 目前 menu 不支持样式上的禁用，待统一调整\nfunction withBlockquoteMenu(Component: React.FC<any>) {\n  return function BlockquoteMenu(props: MenuItemInnerProps) {\n    const { menuItem, controller } = props;\n    const { value } = controller;\n    const { action, title, ...rest } = menuItem;\n\n    const isDisabled = isBlockquoteDisabled(controller) || controller.query('isSelectionInSubjectHeading');\n    const handleClick = () => {\n      // 转换逻辑不再是单向强制转换了，不再使用，避免以后逻辑更改暂时保留注释\n      // if (action === 'format') {\n      //   return controller.run('onAction', transformBlockquote());\n      // }\n      controller.run('onAction', toggleBlockquote());\n    };\n\n    return (\n      <Component disabled={isDisabled} {...rest} onClick={handleClick} role={PluginRoles.paragraph}>\n        {title}\n      </Component>\n    );\n  };\n}\n\nexport const menu = withBlockquoteMenu(MenuItem);\n\nexport const inlineMenu = withBlockquoteMenu(InlineMenuItem);\n"],"file":"quoteMenu.js"}