{"version":3,"sources":["../../../../../src/plugins/blockquote/utils/getCanSetQuoteBlocks.ts"],"names":["getRangesFromEditor","effectiveTypesList","getCanSetQuoteBlocks","controller","document","value","ranges","ret","forEach","selection","blocks","getLeafBlocksAtRange","filteredBlocks","filter","block","includes","type","push"],"mappings":"AACA,SAASA,mBAAT,QAAoC,kBAApC;AAEA,IAAMC,kBAAkB,GAAG,CACzB,WADyB,EAEzB,WAFyB,EAGzB,WAHyB,EAIzB,WAJyB,EAKzB,WALyB,EAMzB,WANyB,EAOzB,WAPyB,CAA3B;;AAUA,SAASC,oBAAT,CAA8BC,UAA9B,EAA+D;AAAA,MACrDC,QADqD,GACxCD,UAAU,CAACE,KAD6B,CACrDD,QADqD;AAE7D,MAAME,MAAM,GAAGN,mBAAmB,CAACG,UAAD,CAAlC;AACA,MAAMI,GAAY,GAAG,EAArB;AACAD,EAAAA,MAAM,CAACE,OAAP,CAAe,UAAAC,SAAS,EAAI;AAC1B,QAAMC,MAAM,GAAGN,QAAQ,CAACO,oBAAT,CAA8BF,SAA9B,CAAf;AACA,QAAMG,cAAc,GAAGF,MAAM,CAACG,MAAP,CAAc,UAACC,KAAD;AAAA,aACnCb,kBAAkB,CAACc,QAAnB,CAA4BD,KAAK,CAACE,IAAlC,CADmC;AAAA,KAAd,CAAvB;AAGAT,IAAAA,GAAG,CAACU,IAAJ,OAAAV,GAAG,EAASK,cAAT,CAAH;AACD,GAND;AAOA,SAAOL,GAAP;AACD;;AAED,eAAeL,oBAAf","sourcesContent":["import { Block, Controller } from '@ali/4ever-cangjie';\nimport { getRangesFromEditor } from '@ali/4ever-utils';\n\nconst effectiveTypesList = [\n  'paragraph',\n  'heading-1',\n  'heading-2',\n  'heading-3',\n  'heading-4',\n  'heading-5',\n  'heading-6',\n];\n\nfunction getCanSetQuoteBlocks(controller: Controller): Block[] {\n  const { document } = controller.value;\n  const ranges = getRangesFromEditor(controller);\n  const ret: Block[] = [];\n  ranges.forEach(selection => {\n    const blocks = document.getLeafBlocksAtRange(selection);\n    const filteredBlocks = blocks.filter((block) =>\n      effectiveTypesList.includes(block.type),\n    );\n    ret.push(...filteredBlocks);\n  });\n  return ret;\n}\n\nexport default getCanSetQuoteBlocks;\n"],"file":"getCanSetQuoteBlocks.js"}