{"version":3,"sources":["../../../../../src/plugins/quickInsert/components/menu.tsx"],"names":["React","styled","theme","Tooltip","MenuWrapper","div","colorFill1","MenuGroup","MenuGroupWrapper","MenuItemWrapper","props","actived","colorBlue1","colorText3","disabled","Divider","colorLine2","MenuItem","memo","item","onClick","handleClick","useCallback","key","title","renderIcon","Menu","groups","value","onChange","editorValue","map","index","items","length"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-array-index-key */\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { Value } from '@ali/4ever-cangjie';\nimport { theme, Tooltip } from '@ali/we-design';\nimport { InsertGroup, InsertItem } from '../types';\n\ninterface MenuProps {\n  groups: InsertGroup[];\n  value: string;\n  onChange: (plugin: string) => void;\n  editorValue: Value;\n}\n\ninterface MenuItemProps {\n  item: InsertItem;\n  actived: boolean;\n  disabled: boolean;\n  onClick: (plugin: string) => void;\n}\n\ninterface MenuItemWrapperProps {\n  actived: boolean;\n  disabled: boolean;\n  onClick: () => void;\n}\n\nconst MenuWrapper = styled.div`\n  display: flex;\n  background: ${() => theme.colorFill1};\n  height: 32px;\n  padding: 0px 6px;\n  width: 100%;\n  overflow: visible;\n`;\n\nconst MenuGroup = styled.div`\n  display: flex;\n  height: 100%;\n`;\n\nconst MenuGroupWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  :not(:last-child) {\n    margin-right: 6px;\n  }\n`;\n\nconst MenuItemWrapper = styled.div<MenuItemWrapperProps>`\n  font-size: 17px;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  padding: 0px 4px;\n  border-bottom: 2px solid transparent;\n  height: 100%;\n  border-bottom-color: ${(props) => (props.actived ? theme.colorBlue1 : 'transparent')};\n  color: ${(props) => (props.actived ? theme.colorBlue1 : theme.colorText3)};\n  cursor: ${(props) => (props.disabled ? 'not-allowed' : 'pointer')};\n  user-select: none;\n  :not(:last-child) {\n    margin-right: 6px;\n  }\n`;\n\nconst Divider = styled.div`\n  background-color: ${() => theme.colorLine2};\n  width: 1px;\n  height: 17px;\n  margin-left: 6px;\n`;\n\nconst MenuItem: React.FunctionComponent<MenuItemProps> = React.memo((props) => {\n  const { item, onClick, disabled, actived } = props;\n\n  const handleClick = React.useCallback(() => {\n    if (!disabled && !actived) {\n      onClick(item.key);\n    }\n  }, [item, onClick, disabled, actived]);\n\n  return (\n    <MenuItemWrapper\n      data-testid=\"group-item\"\n      onClick={handleClick}\n      disabled={disabled}\n      actived={actived}\n    >\n      <Tooltip placement=\"bottom\" title={item.title}>\n        {item.renderIcon({ actived, disabled })}\n      </Tooltip>\n    </MenuItemWrapper>\n  );\n});\n\nconst Menu: React.FunctionComponent<MenuProps> = React.memo((props) => {\n  const { groups, value, onChange, editorValue } = props;\n\n  return (\n    <MenuWrapper>\n      {groups.map(({ key, items }, index) => (\n        <MenuGroupWrapper key={key}>\n          <MenuGroup data-testid=\"group\">\n            {items.map((item) => (\n              <MenuItem\n                key={item.key}\n                item={item}\n                actived={value === item.key}\n                disabled={item.disabled(editorValue)}\n                onClick={onChange}\n              />\n            ))}\n          </MenuGroup>\n          {index !== groups.length - 1 && <Divider />}\n        </MenuGroupWrapper>\n      ))}\n    </MenuWrapper>\n  );\n});\n\nexport default Menu;\n"],"file":"menu.js"}