import remove from "../commands/remove";
export default function onSelect(_, controller, next) {
  var value = controller.value;
  var selection = value.selection,
      decorations = value.decorations,
      document = value.document;
  var insertMention = decorations.find(function (item) {
    return item.mark.type === 'quick-insert';
  });

  if (!selection) {
    return next();
  }

  if (!selection.isCollapsed) {
    return next();
  }

  var start = selection.getStart(document);
  var end = selection.getEnd(document);

  if (insertMention) {
    if (start.offset > insertMention.end.offset || end.offset < insertMention.start.offset) {
      return controller.command(remove);
    }
  }

  return next();
}
//# sourceMappingURL=onSelect.js.map