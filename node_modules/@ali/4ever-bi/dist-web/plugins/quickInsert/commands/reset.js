import { RangeSelection } from '@ali/4ever-cangjie';
import insert from "./insert";
export default function reset(controller, plugin) {
  var decorations = controller.value.decorations;
  var insertDecoration = decorations.find(function (item) {
    return item.mark.type === 'quick-insert';
  });

  if (!insertDecoration) {
    return controller;
  }

  var start = insertDecoration.start,
      end = insertDecoration.end;

  if (start.offset !== end.offset) {
    controller.command('deleteAtRange', RangeSelection.create({
      anchor: start,
      focus: end
    }));
  }

  return controller.setDecorations([]).command(insert, {
    plugin: plugin
  });
}
//# sourceMappingURL=reset.js.map