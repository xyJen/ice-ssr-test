{"version":3,"sources":["../../../../src/plugins/columns/toolbar.ts"],"names":["Table","toolbar","buttons","locale","getTarget","controller","value","document","selection","anchor","focus","anchorParent","getFurthsest","key","isTable","focusParent","data","sr"],"mappings":"AACA,SAASA,KAAT,QAAsB,eAAtB;AAEA,eAAe,SAASC,OAAT,GAAmB;AAChC,SAAO;AACLC,IAAAA,OAAO,EAAE,EADJ;AAELC,IAAAA,MAAM,EAAE,EAFH;AAGLC,IAAAA,SAHK,qBAGKC,UAHL,EAG6B;AAAA,8BACAA,UAAU,CAACC,KADX;AAAA,UACxBC,QADwB,qBACxBA,QADwB;AAAA,UACdC,SADc,qBACdA,SADc;AAAA,UAExBC,MAFwB,GAEND,SAFM,CAExBC,MAFwB;AAAA,UAEhBC,KAFgB,GAENF,SAFM,CAEhBE,KAFgB;AAGhC,UAAMC,YAAY,GAAGJ,QAAQ,CAACK,YAAT,CAAsBH,MAAM,CAACI,GAA7B,EAAkCb,KAAK,CAACc,OAAxC,CAArB;AAGA,UAAMC,WAAW,GAAGR,QAAQ,CAACK,YAAT,CAAsBF,KAAK,CAACG,GAA5B,EAAiCb,KAAK,CAACc,OAAvC,CAApB;;AAGA,UACEH,YAAY,IACZA,YAAY,KAAKI,WADjB,IAEAJ,YAAY,CAACK,IAAb,CAAkBC,EAHpB,EAIE;AACA,eAAO,SAAP;AACD;;AACD,aAAO,EAAP;AACD;AApBI,GAAP;AAsBD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { Table } from '@ali/4ever-mo';\n\nexport default function toolbar() {\n  return {\n    buttons: {},\n    locale: {},\n    getTarget(controller: Controller) {\n      const { document, selection } = controller.value;\n      const { anchor, focus } = selection;\n      const anchorParent = document.getFurthsest(anchor.key, Table.isTable) as\n        | Table\n        | undefined;\n      const focusParent = document.getFurthsest(focus.key, Table.isTable) as\n        | Table\n        | undefined;\n      if (\n        anchorParent &&\n        anchorParent === focusParent &&\n        anchorParent.data.sr\n      ) {\n        return 'columns';\n      }\n      return '';\n    },\n  };\n}\n"],"file":"toolbar.js"}