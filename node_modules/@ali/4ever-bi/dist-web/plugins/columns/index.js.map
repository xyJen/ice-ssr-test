{"version":3,"sources":["../../../../src/plugins/columns/index.ts"],"names":["ColumnsPlugin","ColumnsRenderNodeEdit","toolbar","menubar","setColumnsItemData","leftToolbarHandlers","handleDragChange","createRenderHoverToolbar","hooks","createQueries","createColumnsPlugin","allConfigs","createOnAction","createOnCangjieSelect","createOnKeyDown","createPlaceholder","createOnCut","beforeCopySelectedNodes","configs","columns","commands","queries","renderNode","onAction","onCangjieSelect","onKeyDown","onCut","placeholder","renderHoverToolbar"],"mappings":"AACA,SAASA,aAAT,EAAwBC,qBAAxB,QAAqD,mBAArD;AAEA,OAAOC,OAAP;AACA,OAAOC,OAAP;AACA,OAAOC,kBAAP;AACA,SAASC,mBAAT,EAA8BC,gBAA9B;AACA,OAAOC,wBAAP;IAGQC,K,GAAyBR,a,CAAzBQ,K;IAAOC,a,GAAkBT,a,CAAlBS,a;;AAQf,SAASC,mBAAT,CAA6BC,UAA7B,EAAmD;AAAA,MAE/CC,cAF+C,GAQ7CJ,KAR6C,CAE/CI,cAF+C;AAAA,MAG/CC,qBAH+C,GAQ7CL,KAR6C,CAG/CK,qBAH+C;AAAA,MAI/CC,eAJ+C,GAQ7CN,KAR6C,CAI/CM,eAJ+C;AAAA,MAK/CC,iBAL+C,GAQ7CP,KAR6C,CAK/CO,iBAL+C;AAAA,MAM/CC,WAN+C,GAQ7CR,KAR6C,CAM/CQ,WAN+C;AAAA,MAO/CC,uBAP+C,GAQ7CT,KAR6C,CAO/CS,uBAP+C;AASjD,MAAMC,OAAO,GAAGP,UAAU,CAACQ,OAA3B;AACA,SAAO;AACL;AACAjB,IAAAA,OAAO,EAAEA,OAAO,EAFX;AAGLkB,IAAAA,QAAQ,EAAE;AAAEhB,MAAAA,kBAAkB,EAAlBA;AAAF,KAHL;AAIL;AACAC,IAAAA,mBAAmB,EAAnBA,mBALK;AAMLF,IAAAA,OAAO,EAAEA,OAAO,CAACe,OAAD,CANX;AAOLG,IAAAA,OAAO,EAAEZ,aAAa,CAACS,OAAD,CAPjB;AAQLI,IAAAA,UAAU,EAAErB,qBAAqB,CAACiB,OAAD,EAAUZ,gBAAV,CAR5B;AASLiB,IAAAA,QAAQ,EAAEX,cAAc,CAACM,OAAD,CATnB;AAULM,IAAAA,eAAe,EAAEX,qBAAqB,CAACK,OAAD,CAVjC;AAWLO,IAAAA,SAAS,EAAEX,eAAe,EAXrB;AAYLY,IAAAA,KAAK,EAAEV,WAAW,EAZb;AAaLW,IAAAA,WAAW,EAAEZ,iBAAiB,CAACG,OAAD,CAbzB;AAcLU,IAAAA,kBAAkB,EAAErB,wBAAwB,CAACW,OAAD,CAdvC;AAeLD,IAAAA,uBAAuB,EAAvBA;AAfK,GAAP;AAiBD;;AAED,eAAeP,mBAAf","sourcesContent":["import { ConvertToPluginQueries } from '@ali/4ever-cangjie';\nimport { ColumnsPlugin, ColumnsRenderNodeEdit } from '@ali/4ever-bamboo';\n\nimport toolbar from './toolbar';\nimport menubar from './menubar';\nimport setColumnsItemData from './commands/setColumnsItemData';\nimport { leftToolbarHandlers, handleDragChange } from './leftToolbarHandlers';\nimport createRenderHoverToolbar from './createRenderHoverToolbar';\nimport { BiPlugin } from '../../types';\n\nconst { hooks, createQueries } = ColumnsPlugin;\n\ndeclare module '@ali/4ever-cangjie' {\n  interface ColumnsQuery extends ConvertToPluginQueries<{\n    isSelectionInColumns: () => boolean;\n  }> {}\n}\n\nfunction createColumnsPlugin(allConfigs): BiPlugin {\n  const {\n    createOnAction,\n    createOnCangjieSelect,\n    createOnKeyDown,\n    createPlaceholder,\n    createOnCut,\n    beforeCopySelectedNodes,\n  } = hooks;\n  const configs = allConfigs.columns;\n  return {\n    // @ts-ignore\n    toolbar: toolbar(),\n    commands: { setColumnsItemData },\n    // @ts-ignore\n    leftToolbarHandlers,\n    menubar: menubar(configs),\n    queries: createQueries(configs),\n    renderNode: ColumnsRenderNodeEdit(configs, handleDragChange),\n    onAction: createOnAction(configs),\n    onCangjieSelect: createOnCangjieSelect(configs),\n    onKeyDown: createOnKeyDown(),\n    onCut: createOnCut(),\n    placeholder: createPlaceholder(configs),\n    renderHoverToolbar: createRenderHoverToolbar(configs),\n    beforeCopySelectedNodes,\n  };\n}\n\nexport default createColumnsPlugin;\n"],"file":"index.js"}