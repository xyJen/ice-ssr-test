import { Heading, Marks, Paragraph } from '@ali/4ever-mo';
import { removeFirstNodeMarkByTypes, isSelectionAtHeading } from "../utils/fragment";
var SZ_BOLD_MARKS = [Marks.Sz.TYPE, Marks.Bold.TYPE];
export default function getHeadingPasteFragment(controller, fragment) {
  if (!fragment) return fragment;
  var nodes = fragment.nodes;
  var isAtHeading = isSelectionAtHeading(controller.value);
  var isFragStartWithHeading = Heading.isHeading(nodes[0]);
  var nextFragment;

  if (isFragStartWithHeading) {
    // 1 复制标题内容：移除字号和加粗 mark，以便粘贴到其它段落或标题能匹配目标格式
    nextFragment = removeFirstNodeMarkByTypes(fragment, SZ_BOLD_MARKS);
  } else if (Paragraph.isParagraph(nodes[0]) && isAtHeading) {
    // 2 复制普通段落内容：粘贴到标题中去除 marks 以便匹配标题格式
    nextFragment = removeFirstNodeMarkByTypes(fragment, SZ_BOLD_MARKS);
  }

  return nextFragment;
}
//# sourceMappingURL=getHeadingPasteFragment.js.map