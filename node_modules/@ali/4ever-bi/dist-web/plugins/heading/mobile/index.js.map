{"version":3,"sources":["../../../../../src/plugins/heading/mobile/index.tsx"],"names":["React","toolbar","HeadingWrapper","onAction","onKeyDown","onCangjieInput","actions","placeholder","getHeadingModels","createRenderNode","queries","commands","moFactory","createHeadingPlugin","config","headingConfig","heading","renderEditable","props","controller","next","onHeadingsChange","renderNode","models"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,OAAOC,OAAP;AACA,OAAOC,cAAP;AAEA,OAAOC,QAAP;AACA,OAAOC,SAAP;AACA,OAAOC,cAAP;AACA,OAAO,KAAKC,OAAZ;AAEA,OAAOC,WAAP;AACA,OAAOC,gBAAP;AACA,SAASC,gBAAT;AACA,SAASC,OAAT;AACA,SAASC,QAAT;AACA,SAASC,SAAT,QAA0B,2BAA1B;;AAEA,SAASC,mBAAT,CAA6BC,MAA7B,EAA+D;AAC7D,MAAMC,aAAa,GAAGD,MAAM,CAACE,OAAP,IAAkB,EAAxC;AACA,sBACKJ,SAAS,CAAC,EAAD,CADd;AAEE;AACAK,IAAAA,cAHF,0BAGiBC,KAHjB,EAGwBC,UAHxB,EAGoCC,IAHpC,EAG0C;AACtC,UAAIL,aAAa,CAACM,gBAAlB,EAAoC;AAClC,4BACE,eAAC,cAAD,eACMH,KADN;AAEE,UAAA,UAAU,EAAEC,UAFd;AAGE,UAAA,gBAAgB,EAAEJ,aAAa,CAACM;AAHlC,YAKGD,IAAI,EALP,CADF;AASD;;AACD,aAAOA,IAAI,EAAX;AACD,KAhBH;AAiBEE,IAAAA,UAAU,EAAEb,gBAAgB,EAjB9B;AAkBER,IAAAA,OAAO,EAAEA,OAAO,CAACc,aAAD,CAlBlB;AAmBET,IAAAA,OAAO,EAAPA,OAnBF;AAoBEK,IAAAA,QAAQ,EAARA,QApBF;AAqBED,IAAAA,OAAO,EAAPA,OArBF;AAsBEP,IAAAA,QAAQ,EAARA,QAtBF;AAuBEC,IAAAA,SAAS,EAATA,SAvBF;AAwBEC,IAAAA,cAAc,EAAdA,cAxBF;AAyBEkB,IAAAA,MAAM,EAAEf,gBAAgB,EAzB1B;AA0BED,IAAAA,WAAW,EAAEA,WAAW,CAACQ,aAAD;AA1B1B;AA4BD;;AAEDF,mBAAmB,CAACP,OAApB,GAA8BA,OAA9B;AACAO,mBAAmB,CAACF,QAApB,GAA+BA,QAA/B;AACAE,mBAAmB,CAACH,OAApB,GAA8BA,OAA9B;AAEA,eAAeG,mBAAf","sourcesContent":["import * as React from 'react';\nimport toolbar from './toolbar';\nimport HeadingWrapper from '../components/headingWrapper';\nimport setHeading from '../commands/setHeading';\nimport onAction from '../handlers/onAction';\nimport onKeyDown from '../handlers/onKeyDown';\nimport onCangjieInput from '../handlers/onCangjieInput';\nimport * as actions from '../actions';\nimport { BiPluginConfig, BiPlugin } from '../../../types';\nimport placeholder from '../placeholder';\nimport getHeadingModels from '../utils/getHeadingModels';\nimport { createRenderNode } from '../createRenderNode';\nimport { queries } from '../queries';\nimport { commands } from '../commands';\nimport { moFactory } from '@ali/4ever-plugin-heading';\n\nfunction createHeadingPlugin(config: BiPluginConfig): BiPlugin {\n  const headingConfig = config.heading || {};\n  return {\n    ...moFactory({}),\n    // @ts-ignore\n    renderEditable(props, controller, next) {\n      if (headingConfig.onHeadingsChange) {\n        return (\n          <HeadingWrapper\n            {...props}\n            controller={controller}\n            onHeadingsChange={headingConfig.onHeadingsChange}\n          >\n            {next()}\n          </HeadingWrapper>\n        );\n      }\n      return next();\n    },\n    renderNode: createRenderNode(),\n    toolbar: toolbar(headingConfig),\n    actions,\n    commands,\n    queries,\n    onAction,\n    onKeyDown,\n    onCangjieInput,\n    models: getHeadingModels(),\n    placeholder: placeholder(headingConfig),\n  };\n}\n\ncreateHeadingPlugin.actions = actions;\ncreateHeadingPlugin.commands = commands;\ncreateHeadingPlugin.queries = queries;\n\nexport default createHeadingPlugin;\n"],"file":"index.js"}