{"version":3,"sources":["../../../../../src/plugins/heading/components/headingButton.tsx"],"names":["React","TextTypeSelect","OriginTextTypeSelect","PluginRoles","NewToolbarMode","ToolbarMode","setHeading","getTipsByHeading","memo","HeadingButton","props","controller","locale","toolbarMode","rest","heading","query","isCollapsedAtEdge","value","selection","isDisabled","isDouble","handleChange","useCallback","headingStr","run","title","titleTips","useMemo","paragraph","placement","realWidth","headingSelect"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { TextTypeSelect as OriginTextTypeSelect } from '@ali/we-toolbar';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { PluginRoles } from '@ali/4ever-bamboo';\nimport { NewToolbarMode as ToolbarMode } from '@ali/4ever-component';\nimport { setHeading } from '../actions';\nimport getTipsByHeading from '../utils/getTipsByHeading';\n;\n\nconst TextTypeSelect = React.memo(OriginTextTypeSelect);\nexport interface HeadingButtonProps {\n  controller: Controller;\n  locale: Record<string, string>;\n  toolbarMode?: ToolbarMode;\n}\n\nexport default function HeadingButton(props: HeadingButtonProps) {\n  const { controller, locale, toolbarMode, ...rest } = props;\n  const heading = controller.query('getHeading') || '';\n  const { isCollapsedAtEdge } = controller.value.selection;\n  const isDisabled = isCollapsedAtEdge\n    || controller.query('isSelectionInImage')\n    || controller.query('isSelectionInHr')\n    || controller.query('isSelectionInListSymbol')\n    || controller.query('isSelectionInLinkCard');\n  const isDouble = toolbarMode === ToolbarMode.double;\n\n  const handleChange = React.useCallback((headingStr: string) => {\n    controller.run('onAction', setHeading(headingStr));\n  }, [controller]);\n  const title = getTipsByHeading(heading, locale);\n\n  const titleTips: Record<string, any> = React.useMemo(() => ({\n    paragraph: {\n      title: getTipsByHeading('paragraph', locale, true),\n      placement: 'right',\n    },\n    'heading-1': {\n      title: getTipsByHeading('heading-1', locale, true),\n      placement: 'right',\n    },\n    'heading-2': {\n      title: getTipsByHeading('heading-2', locale, true),\n      placement: 'right',\n    },\n    'heading-3': {\n      title: getTipsByHeading('heading-3', locale, true),\n      placement: 'right',\n    },\n    'heading-4': {\n      title: getTipsByHeading('heading-4', locale, true),\n      placement: 'right',\n    },\n  }), [locale]);\n  const realWidth = 66;\n\n  return (\n    <TextTypeSelect\n      {...rest}\n      testid=\"bi-toolbar-heading\"\n      disabled={!!isDisabled}\n      value={heading as any}\n      onChange={handleChange}\n      titles={titleTips}\n      bordered={isDouble}\n      width={realWidth}\n      shortcutText={title}\n      role={PluginRoles.headingSelect}\n    />\n  );\n}\n"],"file":"headingButton.js"}