{"version":3,"sources":["../../../../src/plugins/heading/index.tsx"],"names":["React","toolbar","menubar","HeadingWrapper","onAction","onKeyDown","onCangjieInput","createOnCangjiePaste","actions","placeholder","getHeadingModels","createRenderNode","queries","commands","moFactory","createRenderToolbar","createHeadingPlugin","config","headingConfig","heading","renderEditable","props","controller","next","onHeadingsChange","renderNode","renderToolbar","locale","onCangjiePaste","models"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,OAAOC,OAAP;AACA,OAAOC,OAAP;AACA,OAAOC,cAAP;AAEA,OAAOC,QAAP;AACA,OAAOC,SAAP;AACA,OAAOC,cAAP;AACA,OAAOC,oBAAP;AACA,OAAO,KAAKC,OAAZ;AAEA,OAAOC,WAAP;AACA,OAAOC,gBAAP;AACA,SAASC,gBAAT;AACA,SAASC,OAAT;AACA,SAASC,QAAT;AACA,SAASC,SAAT,QAA0B,2BAA1B;AAEA,OAAOC,mBAAP;;AAEA,SAASC,mBAAT,CAA6BC,MAA7B,EAA+D;AAC7D,MAAMC,aAAa,GAAGD,MAAM,CAACE,OAAP,IAAkB,EAAxC;AACA,sBACKL,SAAS,CAAC,EAAD,CADd;AAEE;AACAM,IAAAA,cAHF,0BAGiBC,KAHjB,EAGwBC,UAHxB,EAGoCC,IAHpC,EAG0C;AACtC,UAAIL,aAAa,CAACM,gBAAlB,EAAoC;AAClC,4BACE,eAAC,cAAD,eACMH,KADN;AAEE,UAAA,UAAU,EAAEC,UAFd;AAGE,UAAA,gBAAgB,EAAEJ,aAAa,CAACM;AAHlC,YAKGD,IAAI,EALP,CADF;AASD;;AACD,aAAOA,IAAI,EAAX;AACD,KAhBH;AAiBEE,IAAAA,UAAU,EAAEd,gBAAgB,EAjB9B;AAkBEV,IAAAA,OAAO,EAAEA,OAAO,CAACiB,aAAD,CAlBlB;AAmBEQ,IAAAA,aAAa,EAAEX,mBAAmB,CAACG,aAAa,CAACS,MAAd,IAAwB,EAAzB,CAnBpC;AAoBEzB,IAAAA,OAAO,EAAEA,OAAO,EApBlB;AAqBEM,IAAAA,OAAO,EAAPA,OArBF;AAsBEK,IAAAA,QAAQ,EAARA,QAtBF;AAuBED,IAAAA,OAAO,EAAPA,OAvBF;AAwBER,IAAAA,QAAQ,EAARA,QAxBF;AAyBEwB,IAAAA,cAAc,EAAErB,oBAAoB,CAACU,MAAD,CAzBtC;AA0BEZ,IAAAA,SAAS,EAATA,SA1BF;AA2BEC,IAAAA,cAAc,EAAdA,cA3BF;AA4BEuB,IAAAA,MAAM,EAAEnB,gBAAgB,EA5B1B;AA6BED,IAAAA,WAAW,EAAEA,WAAW,CAACS,aAAD;AA7B1B;AA+BD;;AAEDF,mBAAmB,CAACR,OAApB,GAA8BA,OAA9B;AACAQ,mBAAmB,CAACH,QAApB,GAA+BA,QAA/B;AACAG,mBAAmB,CAACJ,OAApB,GAA8BA,OAA9B;AAEA,eAAeI,mBAAf","sourcesContent":["import * as React from 'react';\nimport toolbar from './toolbar';\nimport menubar from './menubar';\nimport HeadingWrapper from './components/headingWrapper';\nimport setHeading from './commands/setHeading';\nimport onAction from './handlers/onAction';\nimport onKeyDown from './handlers/onKeyDown';\nimport onCangjieInput from './handlers/onCangjieInput';\nimport createOnCangjiePaste from './handlers/createOnCangjiePaste';\nimport * as actions from './actions';\nimport { BiPluginConfig, BiPlugin } from '../../types';\nimport placeholder from './placeholder';\nimport getHeadingModels from './utils/getHeadingModels';\nimport { createRenderNode } from './createRenderNode';\nimport { queries } from './queries';\nimport { commands } from './commands';\nimport { moFactory } from '@ali/4ever-plugin-heading';\n\nimport createRenderToolbar from './createRenderToolbar';\n\nfunction createHeadingPlugin(config: BiPluginConfig): BiPlugin {\n  const headingConfig = config.heading || {};\n  return {\n    ...moFactory({}),\n    // @ts-ignore\n    renderEditable(props, controller, next) {\n      if (headingConfig.onHeadingsChange) {\n        return (\n          <HeadingWrapper\n            {...props}\n            controller={controller}\n            onHeadingsChange={headingConfig.onHeadingsChange}\n          >\n            {next()}\n          </HeadingWrapper>\n        );\n      }\n      return next();\n    },\n    renderNode: createRenderNode(),\n    toolbar: toolbar(headingConfig),\n    renderToolbar: createRenderToolbar(headingConfig.locale || {}),\n    menubar: menubar(),\n    actions,\n    commands,\n    queries,\n    onAction,\n    onCangjiePaste: createOnCangjiePaste(config),\n    onKeyDown,\n    onCangjieInput,\n    models: getHeadingModels(),\n    placeholder: placeholder(headingConfig),\n  };\n}\n\ncreateHeadingPlugin.actions = actions;\ncreateHeadingPlugin.commands = commands;\ncreateHeadingPlugin.queries = queries;\n\nexport default createHeadingPlugin;\n"],"file":"index.js"}