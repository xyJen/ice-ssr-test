{"version":3,"sources":["../../../../src/plugins/autoSpacing/createOnKeydown.ts"],"names":["hotkeys","onDelete","createOnKeydown","config","event","controller","next","autoSpacing","enable","isDeleteBackward","isDeleteWordBackward","isDeleteForward","isDeleteWordForward"],"mappings":"AAAA,SAAqBA,OAArB,QAAoC,oBAApC;AAEA,OAAOC,QAAP;AAEA,eAAe,SAASC,eAAT,CAAyBC,MAAzB,EAAiD;AAC9D,SAAO,UACLC,KADK,EAELC,UAFK,EAGLC,IAHK,EAIF;AAAA;;AACH,QAAI,EAACH,MAAD,mCAACA,MAAM,CAAEI,WAAT,aAAC,oBAAqBC,MAAtB,KAAgC,CAACL,MAAM,CAACI,WAAP,CAAmBC,MAAnB,EAArC,EAAkE,OAAOF,IAAI,EAAX;AAClE,QAAMG,gBAAgB,GAAGT,OAAO,CAACS,gBAAR,CAAyBL,KAAzB,KAAmCJ,OAAO,CAACU,oBAAR,CAA6BN,KAA7B,CAA5D;AACA,QAAMO,eAAe,GAAGX,OAAO,CAACW,eAAR,CAAwBP,KAAxB,KAAkCJ,OAAO,CAACY,mBAAR,CAA4BR,KAA5B,CAA1D;AAEA,QAAI,CAACK,gBAAD,IAAqB,CAACE,eAA1B,EAA2C,OAAOL,IAAI,EAAX;AAC3C,WAAOL,QAAQ,CAACI,UAAD,EAAaC,IAAb,EAAmBK,eAAnB,CAAf;AACD,GAXD;AAYD","sourcesContent":["import { Controller, hotkeys } from '@ali/4ever-cangjie';\nimport { BiPluginConfig } from '../../types'\nimport onDelete from './handlers/onDelete';\n\nexport default function createOnKeydown(config: BiPluginConfig) {\n  return (\n    event: React.KeyboardEvent,\n    controller: Controller,\n    next: Function,\n  ) => {\n    if (!config?.autoSpacing?.enable || !config.autoSpacing.enable()) return next();\n    const isDeleteBackward = hotkeys.isDeleteBackward(event) || hotkeys.isDeleteWordBackward(event);\n    const isDeleteForward = hotkeys.isDeleteForward(event) || hotkeys.isDeleteWordForward(event);\n    \n    if (!isDeleteBackward && !isDeleteForward) return next();\n    return onDelete(controller, next, isDeleteForward);\n  }\n}"],"file":"createOnKeydown.js"}