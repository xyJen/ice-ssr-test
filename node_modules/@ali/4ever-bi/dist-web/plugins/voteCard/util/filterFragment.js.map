{"version":3,"sources":["../../../../../src/plugins/voteCard/util/filterFragment.tsx"],"names":["filterVoteCard","node","isElement","newChildren","nodes","map","data","cardType","set","metadata","voteId","undefined","filterFragment","newNode"],"mappings":";;AACA,SAASA,cAAT,CAAwBC,IAAxB,EAA0C;AACxC,MAAIA,IAAI,CAACC,SAAL,EAAJ,EAAsB;AAAA;;AACpB,QAAMC,WAAW,GAAGF,IAAI,CAACG,KAAL,CAAWC,GAAX,CAAeL,cAAf,CAApB;;AACA,QAAI,eAAAC,IAAI,CAACK,IAAL,gCAAWC,QAAX,MAAwB,MAA5B,EAAoC;AAClC,aAAON,IAAI,CAACO,GAAL,CAAS,MAAT,eACFP,IAAI,CAACK,IADH;AAELG,QAAAA,QAAQ,eACHR,IAAI,CAACK,IAAL,CAAUG,QADP;AAENC,UAAAA,MAAM,EAAEC;AAFF;AAFH,SAAP;AAOD;;AACD,WAAOV,IAAI,CAACO,GAAL,CAAS,OAAT,EAAkBL,WAAlB,CAAP;AACD;;AACD,SAAOF,IAAP;AACD;;AAED,eAAe,SAASW,cAAT,CAAwBX,IAAxB,EAAwC;AACrD,MAAMY,OAAO,GAAGb,cAAc,CAACC,IAAD,CAA9B;AACA,SAAOY,OAAP;AACD","sourcesContent":["import { Node, Document } from '@ali/4ever-cangjie';\nfunction filterVoteCard(node: Node): Node {\n  if (node.isElement()) {\n    const newChildren = node.nodes.map(filterVoteCard);\n    if (node.data?.cardType === 'vote') {\n      return node.set('data', {\n        ...node.data,\n        metadata: {\n          ...node.data.metadata,\n          voteId: undefined,\n        }\n      });\n    }\n    return node.set('nodes', newChildren);\n  }\n  return node;\n}\n\nexport default function filterFragment(node: Document) {\n  const newNode = filterVoteCard(node);\n  return newNode as Document;\n}\n"],"file":"filterFragment.js"}