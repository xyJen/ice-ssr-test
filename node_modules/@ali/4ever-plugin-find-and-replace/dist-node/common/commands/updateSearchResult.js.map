{"version":3,"sources":["../../../../src/common/commands/updateSearchResult.ts"],"names":["updateSearchResult","controller","focus","data","value","searchResult","focusIndex","indexOf","matches","map","match","idx","selected"],"mappings":";;;;;;;AAEA;;AAGe,SAASA,kBAAT,CACbC,UADa,EAEbC,KAFa,EAGb;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAWF,UAAU,CAACG,KAA5B;AACA,QAAM;AAAEC,IAAAA,YAAY,GAAG;AAAjB,MAAwBF,IAA9B;AACA,QAAMG,UAAU,GAAGD,YAAY,CAACE,OAAb,CAAqBL,KAArB,CAAnB;AACA,QAAMM,OAAO,GAAIH,YAAD,CAA2BI,GAA3B,CAA+B,CAACC,KAAD,EAAQC,GAAR,MAAiB,EAC9D,GAAGD,KAD2D;AAE9DE,IAAAA,QAAQ,EAAED,GAAG,KAAKL;AAF4C,GAAjB,CAA/B,CAAhB;AAKA,SAAO,sBAAUL,UAAV,EAAsB;AAAEI,IAAAA,YAAY,EAAEG;AAAhB,GAAtB,CAAP;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\n\nimport { mergeData } from '../../utils';\nimport { IMatch } from '../../utils/types';\n\nexport default function updateSearchResult(\n  controller: Controller,\n  focus: IMatch,\n) {\n  const { data } = controller.value;\n  const { searchResult = [] } = data;\n  const focusIndex = searchResult.indexOf(focus);\n  const matches = (searchResult as IMatch[]).map((match, idx) => ({\n    ...match,\n    selected: idx === focusIndex,\n  }));\n\n  return mergeData(controller, { searchResult: matches });\n}\n"],"file":"updateSearchResult.js"}