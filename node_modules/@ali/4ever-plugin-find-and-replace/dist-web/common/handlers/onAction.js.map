{"version":3,"sources":["../../../../src/common/handlers/onAction.ts"],"names":["FIND_AND_REPLACE_TOGGLE","REPLACE_TEXT_AT_DECORATION","UPDATE_FIND_TEXT","UPDATE_SEARCH_RESULT","UPDATE_FIND_FRAGMENT","toggleFindAndReplace","replaceText","updateFindText","updateSearchResult","updateFindFragment","onAction","action","controller","next","type","payload","visible","focus","text","findText","findFragment"],"mappings":"AACA,SACEA,uBADF,EAEEC,0BAFF,EAGEC,gBAHF,EAIEC,oBAJF,EAKEC,oBALF;AAQA,OAAOC,oBAAP;AACA,OAAOC,WAAP;AACA,OAAOC,cAAP;AACA,OAAOC,kBAAP;AACA,OAAOC,kBAAP;AAEA,eAAe,SAASC,QAAT,CACbC,MADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AAAA,MACQC,IADR,GAC+BH,MAD/B,CACQG,IADR;AAAA,wBAC+BH,MAD/B,CACcI,OADd;AAAA,MACcA,OADd,gCACwB,EADxB;;AAEA,MAAID,IAAI,KAAKd,uBAAb,EAAsC;AAAA,QAC5BgB,OAD4B,GAChBD,OADgB,CAC5BC,OAD4B;AAEpC,WAAOX,oBAAoB,CAACO,UAAD,EAAaI,OAAb,CAA3B;AACD,GAHD,MAGO,IAAIF,IAAI,KAAKb,0BAAb,EAAyC;AAAA,QACtCgB,KADsC,GACtBF,OADsB,CACtCE,KADsC;AAAA,QAC/BC,IAD+B,GACtBH,OADsB,CAC/BG,IAD+B;AAE9C,WAAOZ,WAAW,CAACM,UAAD,EAAaK,KAAb,EAAoBC,IAApB,CAAlB;AACD,GAHM,MAGA,IAAIJ,IAAI,KAAKZ,gBAAb,EAA+B;AAAA,QAC5BiB,QAD4B,GACfJ,OADe,CAC5BI,QAD4B;AAEpC,WAAOZ,cAAc,CAACK,UAAD,EAAaO,QAAb,CAArB;AACD,GAHM,MAGA,IAAIL,IAAI,KAAKX,oBAAb,EAAmC;AAAA,QAChCc,MADgC,GACtBF,OADsB,CAChCE,KADgC;AAExC,WAAOT,kBAAkB,CAACI,UAAD,EAAaK,MAAb,CAAzB;AACD,GAHM,MAGA,IAAIH,IAAI,KAAKV,oBAAb,EAAmC;AAAA,QAChCgB,YADgC,GACfL,OADe,CAChCK,YADgC;AAExC,WAAOX,kBAAkB,CAACG,UAAD,EAAaQ,YAAb,CAAzB;AACD;;AACD,SAAOP,IAAI,EAAX;AACD","sourcesContent":["import { Action, Controller } from '@ali/4ever-cangjie';\nimport {\n  FIND_AND_REPLACE_TOGGLE,\n  REPLACE_TEXT_AT_DECORATION,\n  UPDATE_FIND_TEXT,\n  UPDATE_SEARCH_RESULT,\n  UPDATE_FIND_FRAGMENT,\n} from '../actions';\n\nimport toggleFindAndReplace from '../commands/toggleFindAndReplace';\nimport replaceText from '../commands/replaceText';\nimport updateFindText from '../commands/updateFindText';\nimport updateSearchResult from '../commands/updateSearchResult';\nimport updateFindFragment from '../commands/updateFindFragment';\n\nexport default function onAction(\n  action: Action,\n  controller: Controller,\n  next: () => void,\n) {\n  const { type, payload = {} } = action;\n  if (type === FIND_AND_REPLACE_TOGGLE) {\n    const { visible } = payload;\n    return toggleFindAndReplace(controller, visible);\n  } else if (type === REPLACE_TEXT_AT_DECORATION) {\n    const { focus, text } = payload;\n    return replaceText(controller, focus, text);\n  } else if (type === UPDATE_FIND_TEXT) {\n    const { findText } = payload;\n    return updateFindText(controller, findText);\n  } else if (type === UPDATE_SEARCH_RESULT) {\n    const { focus } = payload;\n    return updateSearchResult(controller, focus);\n  } else if (type === UPDATE_FIND_FRAGMENT) {\n    const { findFragment } = payload;\n    return updateFindFragment(controller, findFragment);\n  }\n  return next();\n}\n"],"file":"onAction.js"}