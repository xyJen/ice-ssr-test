{"version":3,"sources":["../../../../src/common/commands/updateSearchResult.ts"],"names":["mergeData","updateSearchResult","controller","focus","data","value","searchResult","focusIndex","indexOf","matches","map","match","idx","selected"],"mappings":";AAEA,SAASA,SAAT;AAGA,eAAe,SAASC,kBAAT,CACbC,UADa,EAEbC,KAFa,EAGb;AAAA,MACQC,IADR,GACiBF,UAAU,CAACG,KAD5B,CACQD,IADR;AAAA,2BAE8BA,IAF9B,CAEQE,YAFR;AAAA,MAEQA,YAFR,mCAEuB,EAFvB;AAGA,MAAMC,UAAU,GAAGD,YAAY,CAACE,OAAb,CAAqBL,KAArB,CAAnB;AACA,MAAMM,OAAO,GAAIH,YAAD,CAA2BI,GAA3B,CAA+B,UAACC,KAAD,EAAQC,GAAR;AAAA,wBAC1CD,KAD0C;AAE7CE,MAAAA,QAAQ,EAAED,GAAG,KAAKL;AAF2B;AAAA,GAA/B,CAAhB;AAKA,SAAOP,SAAS,CAACE,UAAD,EAAa;AAAEI,IAAAA,YAAY,EAAEG;AAAhB,GAAb,CAAhB;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\n\nimport { mergeData } from '../../utils';\nimport { IMatch } from '../../utils/types';\n\nexport default function updateSearchResult(\n  controller: Controller,\n  focus: IMatch,\n) {\n  const { data } = controller.value;\n  const { searchResult = [] } = data;\n  const focusIndex = searchResult.indexOf(focus);\n  const matches = (searchResult as IMatch[]).map((match, idx) => ({\n    ...match,\n    selected: idx === focusIndex,\n  }));\n\n  return mergeData(controller, { searchResult: matches });\n}\n"],"file":"updateSearchResult.js"}