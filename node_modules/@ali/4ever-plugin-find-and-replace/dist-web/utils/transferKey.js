import isPi from "./isPi";

var transferKey = function transferKey(key, controller, findText) {
  if (!isPi(controller)) {
    return key;
  }

  var viewKeys = controller.query('getViewKeys', key);

  if (!viewKeys || viewKeys.length === 0) {
    return key;
  }

  var targetKey = viewKeys[0];
  var document = controller.value.document;

  if (findText) {
    viewKeys.forEach(function (k) {
      var node = document.getNode(k);

      if (node) {
        if (node.text.includes(findText)) {
          targetKey = k;
        }
      }
    });
  }

  return targetKey;
};

export default transferKey;
//# sourceMappingURL=transferKey.js.map