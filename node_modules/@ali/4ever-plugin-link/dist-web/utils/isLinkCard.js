import { Inline } from '@ali/4ever-cangjie';
export function isLinkCardNode(node, injections) {
  // 处理node 可能传入null。fix早值班问题：https://work.aone.alibaba-inc.com/issue/42388734
  if (!node) return false;

  if (isLinkNode(node)) {
    var _data$cardInfo;

    var data = node.data;

    if (data && ((_data$cardInfo = data.cardInfo) == null ? void 0 : _data$cardInfo.displayType) === 'card') {
      return true;
    }
  } // node 注入有 displayType


  if (injections && injections.length > 0) {
    var _injection$data, _injection$data$cardI;

    var injection = injections.find(function (i) {
      return i.key === node.key;
    });

    if (injection && ((_injection$data = injection.data) == null ? void 0 : (_injection$data$cardI = _injection$data.cardInfo) == null ? void 0 : _injection$data$cardI.displayType) === 'card') {
      return true;
    }
  }

  return false;
}
export function isLinkNode(node) {
  if (node && Inline.isInline(node) && node.type === 'link') {
    return true;
  }

  return false;
}
//# sourceMappingURL=isLinkCard.js.map