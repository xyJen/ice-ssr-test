{"version":3,"sources":["../../../src/utils/openLink.ts"],"names":["sanitizeUrl","createLinkify","Linkify","openLink","href","protocolAllowList","linkify","matches","match","schema","window","open","e","normalizeLink"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,aAAa,IAAIC,OAAvC,QAAsD,kBAAtD;AAEA,OAAO,SAASC,QAAT,CAAkBC,IAAlB,EAAgCC,iBAAhC,EAA6D;AAClE,MAAMC,OAAO,GAAGJ,OAAO,CAACG,iBAAD,CAAvB;AACA,MAAME,OAAO,GAAGD,OAAO,CAACE,KAAR,CAAcJ,IAAd,CAAhB;;AAFkE,aAG9CG,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAnB,IAA2B,EAHoB;AAAA,MAG1DE,MAH0D,QAG1DA,MAH0D;;AAIlE,MAAI;AACFC,IAAAA,MAAM,CAACC,IAAP,CACEX,WAAW,CAACS,MAAM,GAAGL,IAAH,eAAoBA,IAA3B,EAAmCC,iBAAnC,CADb;AAGD,GAJD,CAIE,OAAOO,CAAP,EAAU,CACV;AACD;AACF;AAED,OAAO,SAASC,aAAT,CAAuBT,IAAvB,EAAqCC,iBAArC,EAAkE;AACvE,MAAMC,OAAO,GAAGJ,OAAO,CAACG,iBAAD,CAAvB;AACA,MAAME,OAAO,GAAGD,OAAO,CAACE,KAAR,CAAcJ,IAAd,CAAhB;;AAFuE,cAGnDG,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAnB,IAA2B,EAHyB;AAAA,MAG/DE,MAH+D,SAG/DA,MAH+D;;AAIvE,SAAOT,WAAW,CAACS,MAAM,GAAGL,IAAH,eAAoBA,IAA3B,EAAmCC,iBAAnC,CAAlB;AACD","sourcesContent":["import { sanitizeUrl, createLinkify as Linkify } from '@ali/4ever-utils';\n\nexport function openLink(href: string, protocolAllowList: string[]) {\n  const linkify = Linkify(protocolAllowList);\n  const matches = linkify.match(href);\n  const { schema } = (matches && matches[0]) || {};\n  try {\n    window.open(\n      sanitizeUrl(schema ? href : `http://${href}`, protocolAllowList),\n    );\n  } catch (e) {\n    // do nothing\n  }\n}\n\nexport function normalizeLink(href: string, protocolAllowList: string[]) {\n  const linkify = Linkify(protocolAllowList);\n  const matches = linkify.match(href);\n  const { schema } = (matches && matches[0]) || {};\n  return sanitizeUrl(schema ? href : `http://${href}`, protocolAllowList);\n}"],"file":"openLink.js"}