{"version":3,"sources":["../../../../src/mo/models/index.ts"],"names":["Inline","ELEMENT_TYPE","Link","create","properties","Error","isLink","type","TYPE","maybeLink","isInline","isVoid","_","node","data","cardInfo","displayType"],"mappings":";;AAAA,SAASA,MAAT,QAAqD,oBAArD;AACA,SAASC,YAAT;;IAuBqBC,I;;;;;;;OAGZC,M,GAAP,gBAAcC,UAAd,EAA0D;AACxD,QAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;AAClC,YAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACD;;AACD,QAAIH,IAAI,CAACI,MAAL,CAAYF,UAAZ,CAAJ,EAA6B;AAC3B,aAAOA,UAAP;AACD;;AACD,mBAAaD,MAAb,yBACKC,UADL;AAEEG,MAAAA,IAAI,EAAEL,IAAI,CAACM;AAFb;AAID,G;;OAEMF,M,GAAP,gBAAcG,SAAd,EAAiD;AAC/C,WAAOT,MAAM,CAACU,QAAP,CAAgBD,SAAhB,KAA8BA,SAAS,CAACF,IAAV,KAAmBL,IAAI,CAACM,IAA7D;AACD,G;;OAEMG,M,GAAP,gBAAcC,CAAd,EAAiBC,IAAjB,EAAsC;AAAA;;AACpC,WAAOX,IAAI,CAACI,MAAL,CAAYO,IAAZ,KAAqB,eAAAA,IAAI,CAACC,IAAL,uDAAWC,QAAX,yCAAqBC,WAArB,MAAqC,MAAjE;AACD,G;;;EAtB+BhB,M;;AAAbE,I,CACZM,I,GAAOP,Y;SADKC,I","sourcesContent":["import { Inline, InlineProperties, Data, Node } from '@ali/4ever-cangjie';\nimport { ELEMENT_TYPE } from '../../utils/meta';\n\ninterface ILinkCardInfo {\n  // 链接标题\n  readonly title?: string;\n  // 链接描述\n  readonly desc?: string;\n  // 链接图片\n  readonly imgURL?: string;\n  // 展示形式\n  readonly displayType?: 'link' | 'card';\n}\ninterface LinkData extends Data {\n  readonly href?: string;\n  // 卡片所需状态\n  readonly cardInfo?: ILinkCardInfo;\n}\n\nexport interface LinkProperties {\n  data?: LinkData;\n  nodes?: InlineProperties['nodes'];\n}\n\nexport default class Link extends Inline {\n  static TYPE = ELEMENT_TYPE;\n\n  static create(properties: Link | LinkProperties | string) {\n    if (typeof properties === 'string') {\n      throw new Error('`Link.create` does not accept string');\n    }\n    if (Link.isLink(properties)) {\n      return properties;\n    }\n    return super.create({\n      ...properties,\n      type: Link.TYPE,\n    }) as Link;\n  }\n\n  static isLink(maybeLink: any): maybeLink is Link {\n    return Inline.isInline(maybeLink) && maybeLink.type === Link.TYPE;\n  }\n\n  static isVoid(_, node: Node): boolean {\n    return Link.isLink(node) && node.data?.cardInfo?.displayType === 'card';\n  }\n}\n"],"file":"index.js"}