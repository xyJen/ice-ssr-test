{"version":3,"sources":["../../../../src/mo/serializer/jsonMLToHTML.tsx"],"names":["name","match","node","convert","path","href","children","map","child","index","validUrl","toString"],"mappings":";;;;;;;;;AAAA;;AACA;;uBAA4B,a;eASb;AACbA,EAAAA,IAAI,EAAE,GADO;;AAGbC,EAAAA,KAAK,CAACC,IAAD,EAAwB;AAC3B,WAAO,2BAAWA,IAAX,MAAqB,GAA5B;AACD,GALY;;AAObC,EAAAA,OAAO,CAACD,IAAD,EAAeE,IAAf,EAA+BD,OAA/B,EAAyE;AAC9E;AACA,UAAM;AAAEE,MAAAA;AAAF,QAAW,8BAAcH,IAAd,CAAjB;AACA,UAAMI,QAAQ,GAAG,4BAAYJ,IAAZ,EACdK,GADc,CACV,CAACC,KAAD,EAAQC,KAAR,KAA0BN,OAAO,CAACK,KAAD,EAAQ,CAAC,GAAGJ,IAAJ,EAAUK,KAAV,CAAR,CADvB,CAAjB;AAGA,UAAMC,QAAQ,GAAG,4BAAYL,IAAZ,CAAjB;AAEA,wBACE;AAAG,MAAA,IAAI,EAAEK,QAAT;AAAmB,gCAAwBA,QAA3C;AAAqD,MAAA,MAAM,EAAC,QAA5D;AAAqE,MAAA,GAAG,EAAC,qBAAzE;AAA+F,MAAA,GAAG,EAAEN,IAAI,CAACO,QAAL;AAApG,OACGL,QADH,CADF;AAKD;;AApBY,C","sourcesContent":["import * as React from 'react';\nimport {\n  JsonML,\n  getTagName,\n  getAttributes,\n  getChildren,\n  sanitizeUrl,\n} from '@ali/4ever-utils';\nimport type { ConvertFunc } from '@ali/4ever-cangjie';\n\nexport default {\n  name: 'a',\n\n  match(node: JsonML): boolean {\n    return getTagName(node) === 'a';\n  },\n\n  convert(node: JsonML, path: number[], convert: ConvertFunc): React.ReactElement {\n    // @ts-ignore\n    const { href } = getAttributes(node);\n    const children = getChildren(node)\n      .map((child, index: number) => convert(child, [...path, index]));\n\n    const validUrl = sanitizeUrl(href)\n\n    return (\n      <a href={validUrl} data-link-href-cangjie={validUrl} target=\"_blank\" rel=\"noopener noreferrer\" key={path.toString()}>\n        {children}\n      </a>\n    );\n  },\n};\n"],"file":"jsonMLToHTML.js"}