{"version":3,"sources":["../../../../src/mo/models/index.ts"],"names":["Link","Inline","create","properties","Error","isLink","type","TYPE","maybeLink","isInline","isVoid","_","node","data","cardInfo","displayType","ELEMENT_TYPE"],"mappings":";;;;;;;AAAA;;AACA;;AAuBe,MAAMA,IAAN,SAAmBC,mBAAnB,CAA0B;AAGvC,SAAOC,MAAP,CAAcC,UAAd,EAA0D;AACxD,QAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;AAClC,YAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACD;;AACD,QAAIJ,IAAI,CAACK,MAAL,CAAYF,UAAZ,CAAJ,EAA6B;AAC3B,aAAOA,UAAP;AACD;;AACD,WAAO,MAAMD,MAAN,CAAa,EAClB,GAAGC,UADe;AAElBG,MAAAA,IAAI,EAAEN,IAAI,CAACO;AAFO,KAAb,CAAP;AAID;;AAED,SAAOF,MAAP,CAAcG,SAAd,EAAiD;AAC/C,WAAOP,oBAAOQ,QAAP,CAAgBD,SAAhB,KAA8BA,SAAS,CAACF,IAAV,KAAmBN,IAAI,CAACO,IAA7D;AACD;;AAED,SAAOG,MAAP,CAAcC,CAAd,EAAiBC,IAAjB,EAAsC;AACpC,WAAOZ,IAAI,CAACK,MAAL,CAAYO,IAAZ,KAAqBA,IAAI,CAACC,IAAL,EAAWC,QAAX,EAAqBC,WAArB,KAAqC,MAAjE;AACD;;AAtBsC;;;AAApBf,I,CACZO,I,GAAOS,kB","sourcesContent":["import { Inline, InlineProperties, Data, Node } from '@ali/4ever-cangjie';\nimport { ELEMENT_TYPE } from '../../utils/meta';\n\ninterface ILinkCardInfo {\n  // 链接标题\n  readonly title?: string;\n  // 链接描述\n  readonly desc?: string;\n  // 链接图片\n  readonly imgURL?: string;\n  // 展示形式\n  readonly displayType?: 'link' | 'card';\n}\ninterface LinkData extends Data {\n  readonly href?: string;\n  // 卡片所需状态\n  readonly cardInfo?: ILinkCardInfo;\n}\n\nexport interface LinkProperties {\n  data?: LinkData;\n  nodes?: InlineProperties['nodes'];\n}\n\nexport default class Link extends Inline {\n  static TYPE = ELEMENT_TYPE;\n\n  static create(properties: Link | LinkProperties | string) {\n    if (typeof properties === 'string') {\n      throw new Error('`Link.create` does not accept string');\n    }\n    if (Link.isLink(properties)) {\n      return properties;\n    }\n    return super.create({\n      ...properties,\n      type: Link.TYPE,\n    }) as Link;\n  }\n\n  static isLink(maybeLink: any): maybeLink is Link {\n    return Inline.isInline(maybeLink) && maybeLink.type === Link.TYPE;\n  }\n\n  static isVoid(_, node: Node): boolean {\n    return Link.isLink(node) && node.data?.cardInfo?.displayType === 'card';\n  }\n}\n"],"file":"index.js"}