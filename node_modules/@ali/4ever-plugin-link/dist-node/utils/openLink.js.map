{"version":3,"sources":["../../../src/utils/openLink.ts"],"names":["openLink","href","protocolAllowList","linkify","matches","match","schema","window","open","e","normalizeLink"],"mappings":";;;;;;;;AAAA;;AAEO,SAASA,QAAT,CAAkBC,IAAlB,EAAgCC,iBAAhC,EAA6D;AAClE,QAAMC,OAAO,GAAG,8BAAQD,iBAAR,CAAhB;AACA,QAAME,OAAO,GAAGD,OAAO,CAACE,KAAR,CAAcJ,IAAd,CAAhB;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAcF,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAnB,IAA2B,EAA9C;;AACA,MAAI;AACFG,IAAAA,MAAM,CAACC,IAAP,CACE,4BAAYF,MAAM,GAAGL,IAAH,GAAW,UAASA,IAAK,EAA3C,EAA8CC,iBAA9C,CADF;AAGD,GAJD,CAIE,OAAOO,CAAP,EAAU,CACV;AACD;AACF;;AAEM,SAASC,aAAT,CAAuBT,IAAvB,EAAqCC,iBAArC,EAAkE;AACvE,QAAMC,OAAO,GAAG,8BAAQD,iBAAR,CAAhB;AACA,QAAME,OAAO,GAAGD,OAAO,CAACE,KAAR,CAAcJ,IAAd,CAAhB;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAcF,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAnB,IAA2B,EAA9C;AACA,SAAO,4BAAYE,MAAM,GAAGL,IAAH,GAAW,UAASA,IAAK,EAA3C,EAA8CC,iBAA9C,CAAP;AACD","sourcesContent":["import { sanitizeUrl, createLinkify as Linkify } from '@ali/4ever-utils';\n\nexport function openLink(href: string, protocolAllowList: string[]) {\n  const linkify = Linkify(protocolAllowList);\n  const matches = linkify.match(href);\n  const { schema } = (matches && matches[0]) || {};\n  try {\n    window.open(\n      sanitizeUrl(schema ? href : `http://${href}`, protocolAllowList),\n    );\n  } catch (e) {\n    // do nothing\n  }\n}\n\nexport function normalizeLink(href: string, protocolAllowList: string[]) {\n  const linkify = Linkify(protocolAllowList);\n  const matches = linkify.match(href);\n  const { schema } = (matches && matches[0]) || {};\n  return sanitizeUrl(schema ? href : `http://${href}`, protocolAllowList);\n}"],"file":"openLink.js"}