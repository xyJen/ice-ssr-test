"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.openLink = openLink;
exports.normalizeLink = normalizeLink;

var _everUtils = require("@ali/4ever-utils");

function openLink(href, protocolAllowList) {
  const linkify = (0, _everUtils.createLinkify)(protocolAllowList);
  const matches = linkify.match(href);
  const {
    schema
  } = matches && matches[0] || {};

  try {
    window.open((0, _everUtils.sanitizeUrl)(schema ? href : `http://${href}`, protocolAllowList));
  } catch (e) {// do nothing
  }
}

function normalizeLink(href, protocolAllowList) {
  const linkify = (0, _everUtils.createLinkify)(protocolAllowList);
  const matches = linkify.match(href);
  const {
    schema
  } = matches && matches[0] || {};
  return (0, _everUtils.sanitizeUrl)(schema ? href : `http://${href}`, protocolAllowList);
}
//# sourceMappingURL=openLink.js.map