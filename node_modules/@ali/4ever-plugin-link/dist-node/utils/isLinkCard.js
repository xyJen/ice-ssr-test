"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isLinkCardNode = isLinkCardNode;
exports.isLinkNode = isLinkNode;

var _everCangjie = require("@ali/4ever-cangjie");

function isLinkCardNode(node, injections) {
  // 处理node 可能传入null。fix早值班问题：https://work.aone.alibaba-inc.com/issue/42388734
  if (!node) return false;

  if (isLinkNode(node)) {
    const {
      data
    } = node;

    if (data && data.cardInfo?.displayType === 'card') {
      return true;
    }
  } // node 注入有 displayType


  if (injections && injections.length > 0) {
    const injection = injections.find(i => i.key === node.key);

    if (injection && injection.data?.cardInfo?.displayType === 'card') {
      return true;
    }
  }

  return false;
}

function isLinkNode(node) {
  if (node && _everCangjie.Inline.isInline(node) && node.type === 'link') {
    return true;
  }

  return false;
}
//# sourceMappingURL=isLinkCard.js.map