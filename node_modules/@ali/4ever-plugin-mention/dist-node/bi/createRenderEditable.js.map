{"version":3,"sources":["../../../src/bi/createRenderEditable.tsx"],"names":["createRenderEditable","config","renderEditable","_","controller","next","isNecessary","query","text","value","composing"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;uBAD4B,a;;AAI5B,SAASA,oBAAT,CACEC,MADF,EAE4B;AAC1B;AACA,SAAO,SAASC,cAAT,CAAwBC,CAAxB,EAA2BC,UAA3B,EAAuCC,IAAvC,EAA6C;AAClD,UAAMC,WAAW,GAAGF,UAAU,CAACG,KAAX,CAAiB,gCAAjB,CAApB;;AACA,QAAI,CAACD,WAAL,EAAkB;AAChB,aAAOD,IAAI,EAAX;AACD;;AACD,UAAMG,IAAI,GAAGJ,UAAU,CAACG,KAAX,CAAiB,mBAAjB,CAAb;AACA,wBACE,qCACGF,IAAI,EADP,eAEE,eAAC,uBAAD;AACE,MAAA,IAAI,EAAEG;AADR,OAEMP,MAFN;AAGE,MAAA,WAAW,EAAE,CAAC,CAACG,UAAU,CAACK,KAAX,CAAiBC,SAHlC;AAIE,MAAA,UAAU,EAAEN;AAJd,OAFF,CADF;AAWD,GAjBD;AAkBD;;eAEcJ,oB","sourcesContent":["import * as React from 'react';\nimport { Plugin } from '@ali/4ever-cangjie';\nimport MentionTrigger from './components/mentionTrigger';\nimport { MentionPluginConfig } from './types';\n\nfunction createRenderEditable(\n  config: MentionPluginConfig,\n): Plugin['renderEditable'] {\n  // @ts-ignore\n  return function renderEditable(_, controller, next) {\n    const isNecessary = controller.query('isSelectionInMentionSuggestion');\n    if (!isNecessary) {\n      return next();\n    }\n    const text = controller.query('getMentionKeyword')!;\n    return (\n      <>\n        {next()}\n        <MentionTrigger\n          text={text}\n          {...config}\n          isComposing={!!controller.value.composing}\n          controller={controller}\n        />\n      </>\n    );\n  };\n}\n\nexport default createRenderEditable;\n"],"file":"createRenderEditable.js"}