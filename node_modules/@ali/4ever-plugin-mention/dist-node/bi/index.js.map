{"version":3,"sources":["../../../src/bi/index.ts"],"names":["DEFAULT_THEME","suggestionWidth","suggestionMaxHeight","biFactory","configs","mentionConfig","theme","mention","popupOptions","mentionId","getMentionId","toolbar","renderToolbar","locale","renderNode","renderMark","onKeyDown","menubar","onCangjieInput","onCangjiePaste","onSelect","onAction","queries","actions","isActions"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAEA,MAAMA,aAAiC,GAAG;AACxCC,EAAAA,eAAe,EAAE,OADuB;AAExCC,EAAAA,mBAAmB,EAAE;AAFmB,CAA1C;;AAKO,MAAMC,SAAoB,GAAIC,OAAD,IAAa;AAC/C,QAAMC,aAAa,GAAG;AACpBC,IAAAA,KAAK,EAAE,EACL,GAAGN,aADE;AAEL,SAAGI,OAAO,CAACG,OAAR,EAAiBC;AAFf,KADa;AAKpB,OAAGJ,OAAO,CAACG;AALS,GAAtB;AAOA,QAAME,SAAS,GAAGJ,aAAa,CAACK,YAAd,GACdL,aAAa,CAACK,YAAd,EADc,GAEd,EAFJ;AAIA,SAAO,EACL,GAAG,sBAAU,EAAV,CADE;AAELC,IAAAA,OAAO,EAAE,sBAAQN,aAAR,CAFJ;AAGLO,IAAAA,aAAa,EAAE,kCAAoBP,aAAa,CAACQ,MAAlC,CAHV;AAILC,IAAAA,UAAU,EAAE,yBAAcL,SAAd,EAAyBJ,aAAzB,CAJP;AAKLU,IAAAA,UAAU,EAAE,yBAAWV,aAAX,CALP;AAMLW,IAAAA,SAAS,EAATA,kBANK;AAOLC,IAAAA,OAAO,EAAPA,gBAPK;AAQLC,IAAAA,cAAc,EAAdA,uBARK;AASLC,IAAAA,cAAc,EAAE,6BAAqBf,OAArB,CATX;AAULgB,IAAAA,QAAQ,EAARA,iBAVK;AAWLC,IAAAA,QAAQ,EAAE,6BAAehB,aAAf,CAXL;AAYLQ,IAAAA,MAAM,EAAER,aAAa,CAACQ,MAAd,IAAwB,EAZ3B;AAaLS,IAAAA,OAAO,EAAPA,gBAbK;AAcLC,IAAAA,OAAO,EAAPA,gBAdK;AAeLC,IAAAA,SAAS,EAATA;AAfK,GAAP;AAiBD,CA7BM","sourcesContent":["import type { BiFactory } from '@ali/4ever-cangjie';\nimport { moFactory } from '../mo/index';\nimport toolbar from './toolbar';\nimport menubar from './menubar';\nimport renderMention from './renderNode';\nimport renderMark from './renderMark';\nimport onCangjieInput from './handlers/onCangjieInput';\nimport onKeyDown from './handlers/onKeyDown';\nimport onSelect from './handlers/onSelect';\nimport createOnCangjiePaste from './handlers/onCangjiePaste';\nimport createOnAction from './handlers/createOnAction';\nimport { MentionPopupConfig } from './types';\nimport { queries } from './queries';\nimport { actions, isActions } from './actions';\nimport createRenderToolbar from './createRenderToolbar';\n\nconst DEFAULT_THEME: MentionPopupConfig = {\n  suggestionWidth: '200px',\n  suggestionMaxHeight: '250px',\n};\n\nexport const biFactory: BiFactory = (configs) => {\n  const mentionConfig = {\n    theme: {\n      ...DEFAULT_THEME,\n      ...configs.mention?.popupOptions,\n    },\n    ...configs.mention\n  };\n  const mentionId = mentionConfig.getMentionId\n    ? mentionConfig.getMentionId()\n    : '';\n\n  return {\n    ...moFactory({}),\n    toolbar: toolbar(mentionConfig),\n    renderToolbar: createRenderToolbar(mentionConfig.locale as any),\n    renderNode: renderMention(mentionId, mentionConfig),\n    renderMark: renderMark(mentionConfig),\n    onKeyDown,\n    menubar,\n    onCangjieInput,\n    onCangjiePaste: createOnCangjiePaste(configs),\n    onSelect,\n    onAction: createOnAction(mentionConfig),\n    locale: mentionConfig.locale || {},\n    queries,\n    actions,\n    isActions,\n  };\n};\n"],"file":"index.js"}