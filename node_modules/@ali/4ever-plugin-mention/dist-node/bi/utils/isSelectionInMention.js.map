{"version":3,"sources":["../../../../src/bi/utils/isSelectionInMention.ts"],"names":["value","document","selection","decorations","start","getStart","key","closeInline","getClosestInline","type","inlines","some","inline","decoration","mark"],"mappings":";;;;;;;eAEgBA,KAAD,IAAkB;AAC/B,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,SAAZ;AAAuBC,IAAAA;AAAvB,MAAuCH,KAA7C;;AAEA,MAAI,CAACE,SAAL,EAAgB;AACd,WAAO,KAAP;AACD;;AACD,QAAME,KAAK,GAAGF,SAAS,CAACG,QAAV,CAAmBJ,QAAnB,CAAd;;AAEA,MAAI,CAACG,KAAK,CAACE,GAAX,EAAgB;AACd,WAAO,KAAP;AACD;;AACD,QAAMC,WAAW,GAAGN,QAAQ,CAACO,gBAAT,CAA0BJ,KAAK,CAACE,GAAhC,CAApB;AACA,MAAIC,WAAW,IAAIA,WAAW,CAACE,IAAZ,KAAqB,SAAxC,EAAmD,OAAO,IAAP;AAEnD,SACET,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmBC,MAAM,IAAIA,MAAM,CAACH,IAAP,KAAgB,SAA7C,KACAN,WAAW,CAACQ,IAAZ,CAAiBE,UAAU,IAAIA,UAAU,CAACC,IAAX,CAAgBL,IAAhB,KAAyB,SAAxD,CAFF;AAID,C","sourcesContent":["import { Value } from '@ali/4ever-cangjie';\n\nexport default (value: Value) => {\n  const { document, selection, decorations } = value;\n\n  if (!selection) {\n    return false;\n  }\n  const start = selection.getStart(document);\n\n  if (!start.key) {\n    return false;\n  }\n  const closeInline = document.getClosestInline(start.key);\n  if (closeInline && closeInline.type === 'mention') return true;\n\n  return (\n    value.inlines.some(inline => inline.type === 'mention') ||\n    decorations.some(decoration => decoration.mark.type === 'mention')\n  );\n};\n"],"file":"isSelectionInMention.js"}