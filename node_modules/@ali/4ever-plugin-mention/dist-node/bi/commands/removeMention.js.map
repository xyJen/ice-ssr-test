{"version":3,"sources":["../../../../src/bi/commands/removeMention.ts"],"names":["controller","value","decorations","newDecorations","filter","item","mark","type","setDecorations","cancelPlaceholder","key","injections","newInjections","inj","setInjections"],"mappings":";;;;;;;eAEgBA,UAAD,IAA4B;AACzC,QAAM;AAAEC,IAAAA;AAAF,MAAYD,UAAlB;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAkBD,KAAxB;AACA,QAAME,cAA4B,GAAGD,WAAW,CAACE,MAAZ,CACnCC,IAAI,IAAIA,IAAI,CAACC,IAAL,CAAUC,IAAV,KAAmB,SAAnB,IAAgCF,IAAI,CAACC,IAAL,CAAUC,IAAV,KAAmB,cADxB,CAArC;AAGA,SAAOP,UAAU,CAACQ,cAAX,CAA0BL,cAA1B,CAAP;AACD,C;;;;AAEM,MAAMM,iBAAiB,GAAG,CAACT,UAAD,EAAyBU,GAAzB,KAAyC;AACxE,QAAM;AAAET,IAAAA,KAAK,EAAE;AAAEU,MAAAA;AAAF;AAAT,MAA4BX,UAAlC;AACA,QAAMY,aAA0B,GAAGD,UAAU,CAACP,MAAX,CAAkBS,GAAG,IAAIA,GAAG,CAACH,GAAJ,KAAYA,GAArC,CAAnC;AAEA,SAAOV,UAAU,CAACc,aAAX,CAAyBF,aAAzB,CAAP;AACD,CALM","sourcesContent":["import { Controller, Decoration, Injection } from '@ali/4ever-cangjie';\n\nexport default (controller: Controller) => {\n  const { value } = controller;\n  const { decorations } = value;\n  const newDecorations: Decoration[] = decorations.filter(\n    item => item.mark.type !== 'mention' && item.mark.type !== 'quick-insert',\n  );\n  return controller.setDecorations(newDecorations);\n};\n\nexport const cancelPlaceholder = (controller: Controller, key: string) => {\n  const { value: { injections } } = controller;\n  const newInjections: Injection[] = injections.filter(inj => inj.key !== key);\n\n  return controller.setInjections(newInjections);\n};\n"],"file":"removeMention.js"}