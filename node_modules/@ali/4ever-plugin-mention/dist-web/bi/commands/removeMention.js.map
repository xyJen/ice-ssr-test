{"version":3,"sources":["../../../../src/bi/commands/removeMention.ts"],"names":["controller","value","decorations","newDecorations","filter","item","mark","type","setDecorations","cancelPlaceholder","key","injections","newInjections","inj","setInjections"],"mappings":"AAEA,gBAAe,UAACA,UAAD,EAA4B;AAAA,MACjCC,KADiC,GACvBD,UADuB,CACjCC,KADiC;AAAA,MAEjCC,WAFiC,GAEjBD,KAFiB,CAEjCC,WAFiC;AAGzC,MAAMC,cAA4B,GAAGD,WAAW,CAACE,MAAZ,CACnC,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACC,IAAL,CAAUC,IAAV,KAAmB,SAAnB,IAAgCF,IAAI,CAACC,IAAL,CAAUC,IAAV,KAAmB,cAAvD;AAAA,GAD+B,CAArC;AAGA,SAAOP,UAAU,CAACQ,cAAX,CAA0BL,cAA1B,CAAP;AACD,CAPD;AASA,OAAO,IAAMM,iBAAiB,GAAG,SAApBA,iBAAoB,CAACT,UAAD,EAAyBU,GAAzB,EAAyC;AAAA,MACvDC,UADuD,GACtCX,UADsC,CAChEC,KADgE,CACvDU,UADuD;AAExE,MAAMC,aAA0B,GAAGD,UAAU,CAACP,MAAX,CAAkB,UAAAS,GAAG;AAAA,WAAIA,GAAG,CAACH,GAAJ,KAAYA,GAAhB;AAAA,GAArB,CAAnC;AAEA,SAAOV,UAAU,CAACc,aAAX,CAAyBF,aAAzB,CAAP;AACD,CALM","sourcesContent":["import { Controller, Decoration, Injection } from '@ali/4ever-cangjie';\n\nexport default (controller: Controller) => {\n  const { value } = controller;\n  const { decorations } = value;\n  const newDecorations: Decoration[] = decorations.filter(\n    item => item.mark.type !== 'mention' && item.mark.type !== 'quick-insert',\n  );\n  return controller.setDecorations(newDecorations);\n};\n\nexport const cancelPlaceholder = (controller: Controller, key: string) => {\n  const { value: { injections } } = controller;\n  const newInjections: Injection[] = injections.filter(inj => inj.key !== key);\n\n  return controller.setInjections(newInjections);\n};\n"],"file":"removeMention.js"}