{"version":3,"sources":["../../../../src/bi/utils/isSelectionInMention.ts"],"names":["value","document","selection","decorations","start","getStart","key","closeInline","getClosestInline","type","inlines","some","inline","decoration","mark"],"mappings":"AAEA,gBAAe,UAACA,KAAD,EAAkB;AAAA,MACvBC,QADuB,GACcD,KADd,CACvBC,QADuB;AAAA,MACbC,SADa,GACcF,KADd,CACbE,SADa;AAAA,MACFC,WADE,GACcH,KADd,CACFG,WADE;;AAG/B,MAAI,CAACD,SAAL,EAAgB;AACd,WAAO,KAAP;AACD;;AACD,MAAME,KAAK,GAAGF,SAAS,CAACG,QAAV,CAAmBJ,QAAnB,CAAd;;AAEA,MAAI,CAACG,KAAK,CAACE,GAAX,EAAgB;AACd,WAAO,KAAP;AACD;;AACD,MAAMC,WAAW,GAAGN,QAAQ,CAACO,gBAAT,CAA0BJ,KAAK,CAACE,GAAhC,CAApB;AACA,MAAIC,WAAW,IAAIA,WAAW,CAACE,IAAZ,KAAqB,SAAxC,EAAmD,OAAO,IAAP;AAEnD,SACET,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACH,IAAP,KAAgB,SAApB;AAAA,GAAzB,KACAN,WAAW,CAACQ,IAAZ,CAAiB,UAAAE,UAAU;AAAA,WAAIA,UAAU,CAACC,IAAX,CAAgBL,IAAhB,KAAyB,SAA7B;AAAA,GAA3B,CAFF;AAID,CAlBD","sourcesContent":["import { Value } from '@ali/4ever-cangjie';\n\nexport default (value: Value) => {\n  const { document, selection, decorations } = value;\n\n  if (!selection) {\n    return false;\n  }\n  const start = selection.getStart(document);\n\n  if (!start.key) {\n    return false;\n  }\n  const closeInline = document.getClosestInline(start.key);\n  if (closeInline && closeInline.type === 'mention') return true;\n\n  return (\n    value.inlines.some(inline => inline.type === 'mention') ||\n    decorations.some(decoration => decoration.mark.type === 'mention')\n  );\n};\n"],"file":"isSelectionInMention.js"}