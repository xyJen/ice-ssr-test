{"version":3,"sources":["../../../../src/bi/components/suggestionItem.tsx"],"names":["React","noop","MentionItem","Avatar","ItemText","ItemName","MentionItemContainer","defaultRender","suggestion","avatarUrl","name","MentionSuggestionItem","props","index","style","data","suggestions","selectedIndex","renderItem","onSelect","onSelectedIndexChange","handleMouseEnter","useCallback","handleMouseDown","event","preventDefault","stopPropagation","actived","memo"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,IAAT,QAAqB,WAArB;AACA,SACEC,WADF,EAEEC,MAFF,EAGEC,QAHF,EAIEC,QAJF,EAKEC,oBALF;;AAqBA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,UAAD;AAAA,sBACpB,eAAC,oBAAD,qBACE,eAAC,MAAD,qBACE;AAAK,IAAA,GAAG,EAAEA,UAAU,CAACC,SAArB;AAAgC,IAAA,GAAG,EAAC;AAApC,IADF,CADF,eAIE,eAAC,QAAD,qBACE,eAAC,QAAD,QAAWD,UAAU,CAACE,IAAtB,CADF,CAJF,CADoB;AAAA,CAAtB;;AAWA,IAAMC,qBAA2D,GAAG,SAA9DA,qBAA8D,CAACC,KAAD,EAAW;AAAA,MACrEC,KADqE,GACzCD,KADyC,CACrEC,KADqE;AAAA,qBACzCD,KADyC,CAC9DE,KAD8D;AAAA,MAC9DA,KAD8D,6BACtD,EADsD;AAAA,MAClDC,IADkD,GACzCH,KADyC,CAClDG,IADkD;AAAA,MAG3EC,WAH2E,GAQzED,IARyE,CAG3EC,WAH2E;AAAA,MAI3EC,aAJ2E,GAQzEF,IARyE,CAI3EE,aAJ2E;AAAA,yBAQzEF,IARyE,CAK3EG,UAL2E;AAAA,MAK3EA,UAL2E,iCAK9DX,aAL8D;AAAA,uBAQzEQ,IARyE,CAM3EI,QAN2E;AAAA,MAM3EA,QAN2E,+BAMhElB,IANgE;AAAA,MAO3EmB,qBAP2E,GAQzEL,IARyE,CAO3EK,qBAP2E;AAU7E,MAAMC,gBAAgB,GAAGrB,KAAK,CAACsB,WAAN,CAAkB,YAAM;AAC/CF,IAAAA,qBAAqB,CAACP,KAAD,CAArB;AACD,GAFwB,EAEtB,CAACA,KAAD,EAAQO,qBAAR,CAFsB,CAAzB;AAIA,MAAMG,eAAe,GAAGvB,KAAK,CAACsB,WAAN,CACtB,UAACE,KAAD,EAA6B;AAC3BA,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,eAAN;AACAP,IAAAA,QAAQ,CAACN,KAAD,CAAR;AACD,GALqB,EAMtB,CAACA,KAAD,EAAQM,QAAR,CANsB,CAAxB;AASA,MAAMQ,OAAO,GAAGV,aAAa,KAAKJ,KAAlC;AAEA,sBACE,eAAC,WAAD;AACE,IAAA,SAAS,gCAA6Bc,OAAO,GAAG,SAAH,GAAe,EAAnD,CADX;AAEE,mBAAY,yBAFd;AAGE,iBAAU,yBAHZ;AAIE,IAAA,KAAK,EAAEb,KAJT;AAKE,IAAA,WAAW,EAAES,eALf;AAME,IAAA,YAAY,EAAEF,gBANhB;AAOE,IAAA,OAAO,EAAEM;AAPX,KASGT,UAAU,CAACF,WAAW,CAACH,KAAD,CAAZ,CATb,CADF;AAaD,CAtCD;;AAwCA,4BAAeb,KAAK,CAAC4B,IAAN,CAAWjB,qBAAX,CAAf","sourcesContent":["import * as React from 'react';\nimport { noop } from 'lodash-es';\nimport {\n  MentionItem,\n  Avatar,\n  ItemText,\n  ItemName,\n  MentionItemContainer,\n} from './styled';\nimport { Suggestion } from '../types';\n\nexport interface MentionSuggestionItemProps {\n  index: number;\n  style?: React.CSSProperties;\n  data: {\n    suggestions: Suggestion[];\n    renderItem?: (suggestion: Suggestion) => React.ReactElement;\n    onSelect?: () => void;\n    selectedIndex: number;\n    onSelectedIndexChange: (index: number) => void;\n  };\n}\n\nconst defaultRender = (suggestion: Suggestion) => (\n  <MentionItemContainer>\n    <Avatar>\n      <img src={suggestion.avatarUrl} alt=\"\" />\n    </Avatar>\n    <ItemText>\n      <ItemName>{suggestion.name}</ItemName>\n    </ItemText>\n  </MentionItemContainer>\n);\n\nconst MentionSuggestionItem: React.FC<MentionSuggestionItemProps> = (props) => {\n  const { index, style = {}, data } = props;\n  const {\n    suggestions,\n    selectedIndex,\n    renderItem = defaultRender,\n    onSelect = noop,\n    onSelectedIndexChange,\n  } = data;\n\n  const handleMouseEnter = React.useCallback(() => {\n    onSelectedIndexChange(index);\n  }, [index, onSelectedIndexChange]);\n\n  const handleMouseDown = React.useCallback(\n    (event: React.MouseEvent) => {\n      event.preventDefault();\n      event.stopPropagation();\n      onSelect(index);\n    },\n    [index, onSelect],\n  );\n\n  const actived = selectedIndex === index;\n\n  return (\n    <MentionItem\n      className={`mention-suggestion-item ${actived ? 'actived' : ''}`}\n      data-testid=\"mention-suggestion-item\"\n      data-type=\"mention-suggestion-item\"\n      style={style}\n      onMouseDown={handleMouseDown}\n      onMouseEnter={handleMouseEnter}\n      actived={actived}\n    >\n      {renderItem(suggestions[index])}\n    </MentionItem>\n  );\n};\n\nexport default React.memo(MentionSuggestionItem);\n"],"file":"suggestionItem.js"}