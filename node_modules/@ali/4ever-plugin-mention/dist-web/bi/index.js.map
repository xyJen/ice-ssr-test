{"version":3,"sources":["../../../src/bi/index.ts"],"names":["moFactory","toolbar","menubar","renderMention","renderMark","onCangjieInput","onKeyDown","onSelect","createOnCangjiePaste","createOnAction","queries","actions","isActions","createRenderToolbar","DEFAULT_THEME","suggestionWidth","suggestionMaxHeight","biFactory","configs","mentionConfig","theme","mention","popupOptions","mentionId","getMentionId","renderToolbar","locale","renderNode","onCangjiePaste","onAction"],"mappings":";AACA,SAASA,SAAT;AACA,OAAOC,OAAP;AACA,OAAOC,OAAP;AACA,OAAOC,aAAP;AACA,OAAOC,UAAP;AACA,OAAOC,cAAP;AACA,OAAOC,SAAP;AACA,OAAOC,QAAP;AACA,OAAOC,oBAAP;AACA,OAAOC,cAAP;AAEA,SAASC,OAAT;AACA,SAASC,OAAT,EAAkBC,SAAlB;AACA,OAAOC,mBAAP;AAEA,IAAMC,aAAiC,GAAG;AACxCC,EAAAA,eAAe,EAAE,OADuB;AAExCC,EAAAA,mBAAmB,EAAE;AAFmB,CAA1C;AAKA,OAAO,IAAMC,SAAoB,GAAG,SAAvBA,SAAuB,CAACC,OAAD,EAAa;AAAA;;AAC/C,MAAMC,aAAa;AACjBC,IAAAA,KAAK,eACAN,aADA,sBAEAI,OAAO,CAACG,OAFR,qBAEA,iBAAiBC,YAFjB;AADY,KAKdJ,OAAO,CAACG,OALM,CAAnB;;AAOA,MAAME,SAAS,GAAGJ,aAAa,CAACK,YAAd,GACdL,aAAa,CAACK,YAAd,EADc,GAEd,EAFJ;AAIA,sBACKxB,SAAS,CAAC,EAAD,CADd;AAEEC,IAAAA,OAAO,EAAEA,OAAO,CAACkB,aAAD,CAFlB;AAGEM,IAAAA,aAAa,EAAEZ,mBAAmB,CAACM,aAAa,CAACO,MAAf,CAHpC;AAIEC,IAAAA,UAAU,EAAExB,aAAa,CAACoB,SAAD,EAAYJ,aAAZ,CAJ3B;AAKEf,IAAAA,UAAU,EAAEA,UAAU,CAACe,aAAD,CALxB;AAMEb,IAAAA,SAAS,EAATA,SANF;AAOEJ,IAAAA,OAAO,EAAPA,OAPF;AAQEG,IAAAA,cAAc,EAAdA,cARF;AASEuB,IAAAA,cAAc,EAAEpB,oBAAoB,CAACU,OAAD,CATtC;AAUEX,IAAAA,QAAQ,EAARA,QAVF;AAWEsB,IAAAA,QAAQ,EAAEpB,cAAc,CAACU,aAAD,CAX1B;AAYEO,IAAAA,MAAM,EAAEP,aAAa,CAACO,MAAd,IAAwB,EAZlC;AAaEhB,IAAAA,OAAO,EAAPA,OAbF;AAcEC,IAAAA,OAAO,EAAPA,OAdF;AAeEC,IAAAA,SAAS,EAATA;AAfF;AAiBD,CA7BM","sourcesContent":["import type { BiFactory } from '@ali/4ever-cangjie';\nimport { moFactory } from '../mo/index';\nimport toolbar from './toolbar';\nimport menubar from './menubar';\nimport renderMention from './renderNode';\nimport renderMark from './renderMark';\nimport onCangjieInput from './handlers/onCangjieInput';\nimport onKeyDown from './handlers/onKeyDown';\nimport onSelect from './handlers/onSelect';\nimport createOnCangjiePaste from './handlers/onCangjiePaste';\nimport createOnAction from './handlers/createOnAction';\nimport { MentionPopupConfig } from './types';\nimport { queries } from './queries';\nimport { actions, isActions } from './actions';\nimport createRenderToolbar from './createRenderToolbar';\n\nconst DEFAULT_THEME: MentionPopupConfig = {\n  suggestionWidth: '200px',\n  suggestionMaxHeight: '250px',\n};\n\nexport const biFactory: BiFactory = (configs) => {\n  const mentionConfig = {\n    theme: {\n      ...DEFAULT_THEME,\n      ...configs.mention?.popupOptions,\n    },\n    ...configs.mention\n  };\n  const mentionId = mentionConfig.getMentionId\n    ? mentionConfig.getMentionId()\n    : '';\n\n  return {\n    ...moFactory({}),\n    toolbar: toolbar(mentionConfig),\n    renderToolbar: createRenderToolbar(mentionConfig.locale as any),\n    renderNode: renderMention(mentionId, mentionConfig),\n    renderMark: renderMark(mentionConfig),\n    onKeyDown,\n    menubar,\n    onCangjieInput,\n    onCangjiePaste: createOnCangjiePaste(configs),\n    onSelect,\n    onAction: createOnAction(mentionConfig),\n    locale: mentionConfig.locale || {},\n    queries,\n    actions,\n    isActions,\n  };\n};\n"],"file":"index.js"}