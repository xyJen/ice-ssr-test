"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everCangjie = require("@ali/4ever-cangjie");

var _utils = require("./utils");

function parseFromWeb() {
  return {
    name: 'hr',

    onOpenTag(state, name, attrs) {
      if (name !== 'hr') return false;
      const {
        styleObj
      } = attrs;
      const lineStyle = styleObj.borderTop ? styleObj.borderTop : styleObj.borderBottom;

      if (lineStyle) {
        const lineStyleObj = (0, _utils.parseBorder)(lineStyle);
        const {
          sz,
          type,
          color
        } = lineStyleObj;
        state.push(['hr', {
          type,
          sz,
          color,
          width: '100%'
        }, (0, _everCangjie.createEmptyText)()]);
      } else {
        state.push(['hr', (0, _everCangjie.createEmptyText)()]);
      }

      return true;
    },

    onCloseTag(state, name) {
      if (name !== 'hr') return false;
      const hr = state.pop();
      state.append(hr);
      return true;
    }

  };
}

var _default = parseFromWeb;
exports.default = _default;
//# sourceMappingURL=parseFromWeb.js.map