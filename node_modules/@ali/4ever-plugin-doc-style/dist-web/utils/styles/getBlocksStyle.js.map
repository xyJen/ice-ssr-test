{"version":3,"sources":["../../../../src/utils/styles/getBlocksStyle.ts"],"names":["Block","Heading","Paragraph","Hr","defaultSpacing","getBlockStyle","renderBlocksStyle","props","controller","next","node","docStyle","isBlock","type","isHeading","isHr","data","blockquote","query","isParagraph"],"mappings":"AAAA,SAAqBA,KAArB,QAAwD,oBAAxD;AACA,SAASC,OAAT,QAAwB,2BAAxB;AACA,SAASC,SAAT,QAA0B,6BAA1B;AACA,SAASC,EAAT,QAAmB,sBAAnB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,OAAOC,aAAP;AAEA,eAAe,SAASC,iBAAT,CACbC,KADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AAAA,MACQC,IADR,GAC2BH,KAD3B,CACQG,IADR;AAAA,MACcC,QADd,GAC2BJ,KAD3B,CACcI,QADd,EAEA;;AACA,MAAI,CAACX,KAAK,CAACY,OAAN,CAAcF,IAAd,CAAD,IAAwBA,IAAI,CAACG,IAAL,KAAc,MAA1C,EAAkD,OAAOJ,IAAI,EAAX;;AAElD,MACER,OAAO,CAACa,SAAR,CAAkBJ,IAAlB,KACGP,EAAE,CAACY,IAAH,CAAQL,IAAR,CADH,IAEGA,IAAI,CAACM,IAAL,CAAUC,UAFb,IAGGT,UAAU,CAACU,KAAX,CAAiB,aAAjB,EAAgCR,IAAhC,EAAsC,IAAtC,CAJL,EAKE;AACA;AACA,WAAOL,aAAa,CAACK,IAAD,CAApB;AACD;;AAED,MAAI,CAACR,SAAS,CAACiB,WAAV,CAAsBT,IAAtB,CAAL,EAAkC;AAChC,WAAOL,aAAa,CAACK,IAAD,EAAOC,QAAP,EAAiBP,cAAjB,CAApB;AACD;;AAED,SAAOC,aAAa,CAACK,IAAD,EAAOC,QAAP,CAApB;AACD","sourcesContent":["import { Controller, Block, RenderNodeStyleProps } from '@ali/4ever-cangjie';\nimport { Heading } from '@ali/4ever-plugin-heading';\nimport { Paragraph } from '@ali/4ever-plugin-paragraph';\nimport { Hr } from '@ali/4ever-plugin-hr';\nimport { defaultSpacing } from '@ali/4ever-utils';\nimport getBlockStyle from '../utils/getBlockStyle';\n\nexport default function renderBlocksStyle(\n  props: RenderNodeStyleProps,\n  controller: Controller,\n  next: Function,\n) {\n  const { node, docStyle } = props;\n  // @ts-ignore\n  if (!Block.isBlock(node) || node.type === 'line') return next();\n\n  if (\n    Heading.isHeading(node)\n    || Hr.isHr(node)\n    || node.data.blockquote\n    || controller.query('isTableNode', node, true)\n  ) {\n    // 标题、分割线、引用、表格不适用默认段落样式\n    return getBlockStyle(node);\n  }\n\n  if (!Paragraph.isParagraph(node)) {\n    return getBlockStyle(node, docStyle, defaultSpacing);\n  }\n\n  return getBlockStyle(node, docStyle);\n}\n"],"file":"getBlocksStyle.js"}