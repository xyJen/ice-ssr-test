{"version":3,"sources":["../../../../src/utils/utils/getDocDefaultsStyle.ts"],"names":["environment","Fonts","FontsMark","fontSize","SzUtil","fontRenderFallback","getTextStyle","docStyle","style","isMobile","IS_MOBILE","docDefaults","data","rPr","sz","toPt","szUnit","FONTSIZE_BIGGER","DEFAULT","fonts","fontFamily","getFontFallback","create"],"mappings":"AAAA,SAAmBA,WAAnB,QAAsC,oBAAtC;AACA,SAASC,KAAK,IAAIC,SAAlB,QAAmC,yBAAnC;AACA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,kBAA3B,QAAqD,kBAArD;AACA,OAAiB,kBAAjB;AAEA,eAAe,SAASC,YAAT,CAAsBC,QAAtB,EAA2C;AAAA;;AACxD,MAAMC,KAA0B,GAAG,EAAnC;AACA,MAAMC,QAAQ,GAAGT,WAAW,CAACU,SAA7B;AACA,MAAI,EAACH,QAAD,YAACA,QAAQ,CAAEI,WAAX,KAA0B,CAACF,QAA/B,EAAyC,OAAOD,KAAP;;AAHe,aAKxC,CAAAD,QAAQ,QAAR,qCAAAA,QAAQ,CAAEI,WAAV,2CAAuBC,IAAvB,KAA+B,EALS;AAAA,MAKhDC,GALgD,QAKhDA,GALgD;;AAMxD,MAAIA,GAAJ,YAAIA,GAAG,CAAEC,EAAT,EAAa;AACX,QAAIA,EAAE,GAAGV,MAAM,CAACW,IAAP,CAAYF,GAAG,CAACC,EAAhB,EAAoBD,GAAG,CAACG,MAAJ,IAAc,IAAlC,CAAT;;AACA,QAAIP,QAAJ,EAAc;AACZ;AACAK,MAAAA,EAAE,IAAIV,MAAM,CAACa,eAAb;AACD;;AACDT,IAAAA,KAAK,CAACL,QAAN,GAAoBW,EAApB;AACD,GAPD,MAOO,IAAIL,QAAJ,EAAc;AACnBD,IAAAA,KAAK,CAACL,QAAN,GAAoBA,QAAQ,CAACe,OAAT,GAAmBd,MAAM,CAACa,eAA9C;AACD;;AAED,MAAIJ,GAAJ,YAAIA,GAAG,CAAEM,KAAT,EAAgB;AACdX,IAAAA,KAAK,CAACY,UAAN,GAAmBf,kBAAkB,CAACgB,eAAnB,CAAmCnB,SAAS,CAACoB,MAAV,CAAiBT,GAAG,CAACM,KAArB,CAAnC,CAAnB;AACD;;AACD,SAAOX,KAAP;AACD","sourcesContent":["import { DocStyle, environment } from '@ali/4ever-cangjie';\nimport { Fonts as FontsMark } from '@ali/4ever-plugin-marks';\nimport { fontSize, SzUtil, fontRenderFallback } from '@ali/4ever-utils';\nimport {  } from '@ali/4ever-utils';\n\nexport default function getTextStyle(docStyle?: DocStyle) {\n  const style: React.CSSProperties = {};\n  const isMobile = environment.IS_MOBILE;\n  if (!docStyle?.docDefaults && !isMobile) return style;\n\n  const { rPr } = docStyle?.docDefaults?.data || {};\n  if (rPr?.sz) {\n    let sz = SzUtil.toPt(rPr.sz, rPr.szUnit || 'px');\n    if (isMobile) {\n      // 移动端统一放大\n      sz *= SzUtil.FONTSIZE_BIGGER;\n    }\n    style.fontSize = `${sz}pt`;\n  } else if (isMobile) {\n    style.fontSize = `${fontSize.DEFAULT * SzUtil.FONTSIZE_BIGGER}pt`;\n  }\n\n  if (rPr?.fonts) {\n    style.fontFamily = fontRenderFallback.getFontFallback(FontsMark.create(rPr.fonts));\n  }\n  return style;\n}\n"],"file":"getDocDefaultsStyle.js"}