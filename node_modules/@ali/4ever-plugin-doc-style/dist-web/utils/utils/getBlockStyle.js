import _objectWithoutPropertiesLoose from "@babel/runtime/helpers/objectWithoutPropertiesLoose";
import _extends from "@babel/runtime/helpers/extends";
import { SpacingUtil, ShdUtil } from '@ali/4ever-utils';
export default function getBlockStyle(node, docStyle, defaultStyle) {
  var _docStyle$docDefaults;

  var style = {};
  var block = node; // 全局的继承样式

  var _ref = (docStyle == null ? void 0 : (_docStyle$docDefaults = docStyle.docDefaults) == null ? void 0 : _docStyle$docDefaults.data) || {},
      pPr = _ref.pPr; // block 指定的默认样式优先级高于全局继承样式


  var inheritedData = _extends({}, pPr, defaultStyle); // 段间距


  style = _extends({}, ShdUtil.toStyle(block), SpacingUtil.toStyle(block, inheritedData));
  /**
   * 不在这里渲染行高：
   * 1. 放在外层不一定能确保 paragraph 被包裹的情况下能继承到（被中间某一层覆盖）
   * 2. 放在外层可能影响 paragraph 到 leaf-block 之间的元素（例如列表）
   */

  var _style = style,
      lineHeight = _style.lineHeight,
      rest = _objectWithoutPropertiesLoose(_style, ["lineHeight"]);

  return rest;
}
//# sourceMappingURL=getBlockStyle.js.map