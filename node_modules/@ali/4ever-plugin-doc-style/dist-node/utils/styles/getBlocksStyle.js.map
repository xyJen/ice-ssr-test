{"version":3,"sources":["../../../../src/utils/styles/getBlocksStyle.ts"],"names":["renderBlocksStyle","props","controller","next","node","docStyle","Block","isBlock","type","Heading","isHeading","Hr","isHr","data","blockquote","query","Paragraph","isParagraph","defaultSpacing"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEe,SAASA,iBAAT,CACbC,KADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAqBJ,KAA3B,CADA,CAEA;;AACA,MAAI,CAACK,mBAAMC,OAAN,CAAcH,IAAd,CAAD,IAAwBA,IAAI,CAACI,IAAL,KAAc,MAA1C,EAAkD,OAAOL,IAAI,EAAX;;AAElD,MACEM,2BAAQC,SAAR,CAAkBN,IAAlB,KACGO,iBAAGC,IAAH,CAAQR,IAAR,CADH,IAEGA,IAAI,CAACS,IAAL,CAAUC,UAFb,IAGGZ,UAAU,CAACa,KAAX,CAAiB,aAAjB,EAAgCX,IAAhC,EAAsC,IAAtC,CAJL,EAKE;AACA;AACA,WAAO,4BAAcA,IAAd,CAAP;AACD;;AAED,MAAI,CAACY,+BAAUC,WAAV,CAAsBb,IAAtB,CAAL,EAAkC;AAChC,WAAO,4BAAcA,IAAd,EAAoBC,QAApB,EAA8Ba,yBAA9B,CAAP;AACD;;AAED,SAAO,4BAAcd,IAAd,EAAoBC,QAApB,CAAP;AACD","sourcesContent":["import { Controller, Block, RenderNodeStyleProps } from '@ali/4ever-cangjie';\nimport { Heading } from '@ali/4ever-plugin-heading';\nimport { Paragraph } from '@ali/4ever-plugin-paragraph';\nimport { Hr } from '@ali/4ever-plugin-hr';\nimport { defaultSpacing } from '@ali/4ever-utils';\nimport getBlockStyle from '../utils/getBlockStyle';\n\nexport default function renderBlocksStyle(\n  props: RenderNodeStyleProps,\n  controller: Controller,\n  next: Function,\n) {\n  const { node, docStyle } = props;\n  // @ts-ignore\n  if (!Block.isBlock(node) || node.type === 'line') return next();\n\n  if (\n    Heading.isHeading(node)\n    || Hr.isHr(node)\n    || node.data.blockquote\n    || controller.query('isTableNode', node, true)\n  ) {\n    // 标题、分割线、引用、表格不适用默认段落样式\n    return getBlockStyle(node);\n  }\n\n  if (!Paragraph.isParagraph(node)) {\n    return getBlockStyle(node, docStyle, defaultSpacing);\n  }\n\n  return getBlockStyle(node, docStyle);\n}\n"],"file":"getBlocksStyle.js"}