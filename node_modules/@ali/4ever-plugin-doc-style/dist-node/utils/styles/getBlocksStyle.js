"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = renderBlocksStyle;

var _everCangjie = require("@ali/4ever-cangjie");

var _everPluginHeading = require("@ali/4ever-plugin-heading");

var _everPluginParagraph = require("@ali/4ever-plugin-paragraph");

var _everPluginHr = require("@ali/4ever-plugin-hr");

var _everUtils = require("@ali/4ever-utils");

var _getBlockStyle = _interopRequireDefault(require("../utils/getBlockStyle"));

function renderBlocksStyle(props, controller, next) {
  const {
    node,
    docStyle
  } = props; // @ts-ignore

  if (!_everCangjie.Block.isBlock(node) || node.type === 'line') return next();

  if (_everPluginHeading.Heading.isHeading(node) || _everPluginHr.Hr.isHr(node) || node.data.blockquote || controller.query('isTableNode', node, true)) {
    // 标题、分割线、引用、表格不适用默认段落样式
    return (0, _getBlockStyle.default)(node);
  }

  if (!_everPluginParagraph.Paragraph.isParagraph(node)) {
    return (0, _getBlockStyle.default)(node, docStyle, _everUtils.defaultSpacing);
  }

  return (0, _getBlockStyle.default)(node, docStyle);
}
//# sourceMappingURL=getBlocksStyle.js.map