{"version":3,"sources":["../../../../src/bi/queries/getHighlight.ts"],"names":["getHighlight","controller","symbolBgColor","OldBambooPlugin","getSymbolStyleByKey","highlightMark","query","Highlight","TYPE","highlight","data","value","environment","IS_ANDROID"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAGO,SAASA,YAAT,CAAsBC,UAAtB,EAA8C;AACnD,QAAMC,aAAa,GAAGC,gCAAgBC,mBAAhB,CAAoCH,UAApC,EAAgD,KAAhD,CAAtB;;AACA,MAAIC,aAAJ,EAAmB,OAAOA,aAAP;AAEnB,QAAMG,aAAa,GAAGJ,UAAU,CAACK,KAAX,CAAiB,eAAjB,EAAkCC,2BAAUC,IAA5C,CAAtB;AACA,QAAMC,SAAS,GAAGJ,aAAa,IAAIA,aAAa,CAACK,IAAd,CAAmBC,KAAtD,CALmD,CAMnD;;AACA,MAAIF,SAAS,KAAK,EAAlB,EAAsB;AACpB;AACA;AACA,WAAOG,yBAAYC,UAAZ,GAAyB,aAAzB,GAAyC,EAAhD;AACD;;AACD,SAAOJ,SAAP;AACD","sourcesContent":["import { Controller, environment } from '@ali/4ever-cangjie';\nimport { Highlight } from '@ali/4ever-plugin-marks';\nimport { OldBambooPlugin } from '@ali/4ever-plugin-list';\n\n\nexport function getHighlight(controller: Controller) {\n  const symbolBgColor = OldBambooPlugin.getSymbolStyleByKey(controller, 'shd');\n  if (symbolBgColor) return symbolBgColor;\n\n  const highlightMark = controller.query('getActiveMark', Highlight.TYPE);\n  const highlight = highlightMark && highlightMark.data.value;\n  // 为空字符串, 则无颜色\n  if (highlight === '') {\n    // 安卓需要使用 transparent 代表无颜色，且安卓设置无颜色实际会写入 transparent\n    // https://aone.alibaba-inc.com/v2/project/897543/bug/39048505\n    return environment.IS_ANDROID ? 'transparent' : '';\n  }\n  return highlight;\n}\n"],"file":"getHighlight.js"}