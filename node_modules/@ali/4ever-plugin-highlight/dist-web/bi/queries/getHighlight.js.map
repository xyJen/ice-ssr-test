{"version":3,"sources":["../../../../src/bi/queries/getHighlight.ts"],"names":["environment","Highlight","OldBambooPlugin","getHighlight","controller","symbolBgColor","getSymbolStyleByKey","highlightMark","query","TYPE","highlight","data","value","IS_ANDROID"],"mappings":"AAAA,SAAqBA,WAArB,QAAwC,oBAAxC;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,SAASC,eAAT,QAAgC,wBAAhC;AAGA,OAAO,SAASC,YAAT,CAAsBC,UAAtB,EAA8C;AACnD,MAAMC,aAAa,GAAGH,eAAe,CAACI,mBAAhB,CAAoCF,UAApC,EAAgD,KAAhD,CAAtB;AACA,MAAIC,aAAJ,EAAmB,OAAOA,aAAP;AAEnB,MAAME,aAAa,GAAGH,UAAU,CAACI,KAAX,CAAiB,eAAjB,EAAkCP,SAAS,CAACQ,IAA5C,CAAtB;AACA,MAAMC,SAAS,GAAGH,aAAa,IAAIA,aAAa,CAACI,IAAd,CAAmBC,KAAtD,CALmD,CAMnD;;AACA,MAAIF,SAAS,KAAK,EAAlB,EAAsB;AACpB;AACA;AACA,WAAOV,WAAW,CAACa,UAAZ,GAAyB,aAAzB,GAAyC,EAAhD;AACD;;AACD,SAAOH,SAAP;AACD","sourcesContent":["import { Controller, environment } from '@ali/4ever-cangjie';\nimport { Highlight } from '@ali/4ever-plugin-marks';\nimport { OldBambooPlugin } from '@ali/4ever-plugin-list';\n\n\nexport function getHighlight(controller: Controller) {\n  const symbolBgColor = OldBambooPlugin.getSymbolStyleByKey(controller, 'shd');\n  if (symbolBgColor) return symbolBgColor;\n\n  const highlightMark = controller.query('getActiveMark', Highlight.TYPE);\n  const highlight = highlightMark && highlightMark.data.value;\n  // 为空字符串, 则无颜色\n  if (highlight === '') {\n    // 安卓需要使用 transparent 代表无颜色，且安卓设置无颜色实际会写入 transparent\n    // https://aone.alibaba-inc.com/v2/project/897543/bug/39048505\n    return environment.IS_ANDROID ? 'transparent' : '';\n  }\n  return highlight;\n}\n"],"file":"getHighlight.js"}