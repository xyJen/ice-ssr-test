{"version":3,"sources":["../../../../src/utils/components/headerToolbar.tsx"],"names":["HeaderToolbar","props","controller","node","containerRef","getContainer","current","window","document","body","handleEdit","run","handleDelete","key","handleCopy","handleCut","moreMenuConfig","options","name","onClick","testId","cursor"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;uBAJ4B,a;;AAW5B,MAAMA,aAA+B,GAAIC,KAAD,IAAmB;AACzD,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAuBF,KAA7B;AACA,QAAMG,YAAY,GAAG,mBAAuB,IAAvB,CAArB;AAEA,QAAMC,YAAY,GAAG,wBAAY,MAAM;AACrC,WAAOD,YAAY,CAACE,OAAb,IAAwBC,MAAM,CAACC,QAAP,CAAgBC,IAA/C;AACD,GAFoB,EAElB,EAFkB,CAArB;AAIA,QAAMC,UAAU,GAAG,wBAAY,MAAM;AACnCR,IAAAA,UAAU,CAACS,GAAX,CAAe,UAAf,EAA2B,0BAAYR,IAAZ,CAA3B;AACD,GAFkB,EAEhB,EAFgB,CAAnB;AAIA,QAAMS,YAAY,GAAG,wBAAY,MAAM;AACrCV,IAAAA,UAAU,CAACS,GAAX,CAAe,UAAf,EAA2B,yBAAWR,IAAI,CAACU,GAAhB,CAA3B;AACD,GAFoB,EAElB,CAACX,UAAD,CAFkB,CAArB;AAIA,QAAMY,UAAU,GAAG,wBAAY,MAAM;AACnCZ,IAAAA,UAAU,CAACS,GAAX,CAAe,UAAf,EAA2B,uBAASR,IAAI,CAACU,GAAd,CAA3B;AACD,GAFkB,EAEhB,CAACX,UAAD,CAFgB,CAAnB;AAIA,QAAMa,SAAS,GAAG,wBAAY,MAAM;AAClCb,IAAAA,UAAU,CAACS,GAAX,CAAe,UAAf,EAA2B,sBAAQR,IAAI,CAACU,GAAb,CAA3B;AACD,GAFiB,EAEf,CAACX,UAAD,CAFe,CAAlB;AAIA,QAAMc,cAAmB,GAAG,oBAAQ,MAAM;AACxC,WAAO;AACLC,MAAAA,OAAO,EAAE,CACP,CACE;AAAEC,QAAAA,IAAI,EAAE,QAAR;AAAkBC,QAAAA,OAAO,EAAEP,YAA3B;AAAyCQ,QAAAA,MAAM,EAAE;AAAjD,OADF,EAEE;AAAEF,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,OAAO,EAAEL,UAAzB;AAAqCM,QAAAA,MAAM,EAAE;AAA7C,OAFF,EAGE;AAAEF,QAAAA,IAAI,EAAE,KAAR;AAAeC,QAAAA,OAAO,EAAEJ,SAAxB;AAAmCK,QAAAA,MAAM,EAAE;AAA3C,OAHF,CADO;AADJ,KAAP;AASD,GAV2B,EAUzB,CAACN,UAAD,EAAaC,SAAb,EAAwBH,YAAxB,CAVyB,CAA5B;AAYA,sBACE,eAAC,qBAAD;AAAe,IAAA,SAAS,EAAC,gBAAzB;AAA0C,mBAAY,0BAAtD;AAAiF,IAAA,GAAG,EAAER;AAAtF,kBACE,eAAC,wBAAD;AACE,IAAA,YAAY,EAAEC,YADhB;AAEE,IAAA,cAAc,EAAEW,cAFlB;AAGE,IAAA,KAAK,EAAE;AAHT,kBAKE,eAAC,qBAAD;AACE,IAAA,OAAO,EAAEN,UADX;AAEE,IAAA,IAAI,eACF,eAAC,kBAAD;AACE,MAAA,KAAK,EAAE;AAAEW,QAAAA,MAAM,EAAE;AAAV,OADT;AAEE,qBAAY;AAFd;AAHJ,IALF,CADF,CADF;AAmBD,CAvDD;;eAyDerB,a","sourcesContent":["import React, { useCallback, useMemo, useRef } from 'react';\nimport { Block, Controller } from '@ali/4ever-cangjie';\nimport { InlineToolbar, IconButton } from '@ali/we-toolbar';\nimport { EditNormal } from '@ali/we-icon';\nimport { voteCopy, voteDelete, voteEditing, voteCut } from '../actions';\nimport { HeaderWrapper } from './styled';\n\ninterface IProps {\n  controller: Controller;\n  node: Block;\n}\n\nconst HeaderToolbar: React.FC<IProps> = (props: IProps) => {\n  const { controller, node } = props;\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const getContainer = useCallback(() => {\n    return containerRef.current || window.document.body;\n  }, []);\n\n  const handleEdit = useCallback(() => {\n    controller.run('onAction', voteEditing(node));\n  }, []);\n\n  const handleDelete = useCallback(() => {\n    controller.run('onAction', voteDelete(node.key));\n  }, [controller]);\n\n  const handleCopy = useCallback(() => {\n    controller.run('onAction', voteCopy(node.key));\n  }, [controller]);\n\n  const handleCut = useCallback(() => {\n    controller.run('onAction', voteCut(node.key));\n  }, [controller]);\n\n  const moreMenuConfig: any = useMemo(() => {\n    return {\n      options: [\n        [\n          { name: 'delete', onClick: handleDelete, testId: 'templateButton-delete' },\n          { name: 'copy', onClick: handleCopy, testId: 'templateButton-copy' },\n          { name: 'cut', onClick: handleCut, testId: 'templateButton-cut' },\n        ],\n      ],\n    };\n  }, [handleCopy, handleCut, handleDelete]);\n\n  return (\n    <HeaderWrapper className=\"header-toolbar\" data-testid=\"card-vote-header-toolbar\" ref={containerRef}>\n      <InlineToolbar\n        getContainer={getContainer}\n        moreMenuConfig={moreMenuConfig}\n        width={400}\n      >\n        <IconButton\n          onClick={handleEdit}\n          icon={\n            <EditNormal\n              style={{ cursor: 'pointer' }}\n              data-testid=\"card-vote-header-toolbar-edit\"\n            />\n          }\n        />\n      </InlineToolbar>\n    </HeaderWrapper>\n  );\n};\n\nexport default HeaderToolbar;\n"],"file":"headerToolbar.js"}