// 这个方法在 bi 中有一份，但是 bamboo 不建议引用 bi，所以这里重写了一份
import { Injection } from '@ali/4ever-cangjie';
import logger from '@ali/4ever-logger';
export default function setCardInjection(controller, node, injectionData) {
  if (!node) {
    // FIX: 怀疑 hetu 业务方设置 injection 时未判断 node 是否存在
    logger.error("Invalid node! injection is " + JSON.stringify(injectionData));
    return controller;
  }

  var injections = controller.value.injections;
  var injection = Injection.create({
    key: node.key,
    data: injectionData
  });
  var excludeInjections = injections.filter(function (inj) {
    return inj.key !== node.key;
  });
  return controller.setInjections(excludeInjections.concat(injection));
}
//# sourceMappingURL=setCardInjection.js.map