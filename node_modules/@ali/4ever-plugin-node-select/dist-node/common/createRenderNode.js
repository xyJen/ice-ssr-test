"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createRenderNode;

var React = _interopRequireWildcard(require("react"));

var _everCangjie = require("@ali/4ever-cangjie");

var _BlockSelectBox = require("./components/BlockSelectBox");

var _defaultIsNodeSelectable = require("./configs/defaultIsNodeSelectable");

const _createElement = /*#__PURE__*/React.createElement;

function createRenderNode(config, manager) {
  const {
    isNodeSelectable
  } = config;
  return (props, controller, next) => {
    const {
      node
    } = props;
    const isSelectableNode = isNodeSelectable ? isNodeSelectable(node) : (0, _defaultIsNodeSelectable.defaultIsNodeSelectable)(node, controller);

    if (isSelectableNode && _everCangjie.Block.isBlock(node)) {
      return /*#__PURE__*/_createElement(_BlockSelectBox.BlockSelectBox, {
        node: node,
        manager: manager,
        controller: controller
      }, next());
    }

    return next();
  };
}
//# sourceMappingURL=createRenderNode.js.map