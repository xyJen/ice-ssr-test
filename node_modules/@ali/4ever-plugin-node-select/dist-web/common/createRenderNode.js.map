{"version":3,"sources":["../../../src/common/createRenderNode.tsx"],"names":["React","Block","BlockSelectBox","defaultIsNodeSelectable","createRenderNode","config","manager","isNodeSelectable","props","controller","next","node","isSelectableNode","isBlock"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAA4CC,KAA5C,QAAyD,oBAAzD;AAEA,SAASC,cAAT;AAEA,SAASC,uBAAT;AAEA,eAAe,SAASC,gBAAT,CAA0BC,MAA1B,EAA4DC,OAA5D,EAAoF;AAAA,MACzFC,gBADyF,GACpEF,MADoE,CACzFE,gBADyF;AAEjG,SAAO,UAACC,KAAD,EAA+BC,UAA/B,EAAuDC,IAAvD,EAAgE;AAAA,QAC7DC,IAD6D,GACpDH,KADoD,CAC7DG,IAD6D;AAErE,QAAMC,gBAAgB,GAAGL,gBAAgB,GAAGA,gBAAgB,CAACI,IAAD,CAAnB,GAA4BR,uBAAuB,CAACQ,IAAD,EAAOF,UAAP,CAA5F;;AACA,QAAIG,gBAAgB,IAAIX,KAAK,CAACY,OAAN,CAAcF,IAAd,CAAxB,EAA6C;AAC3C,0BACE,eAAC,cAAD;AACE,QAAA,IAAI,EAAEA,IADR;AAEE,QAAA,OAAO,EAAEL,OAFX;AAGE,QAAA,UAAU,EAAEG;AAHd,SAKGC,IAAI,EALP,CADF;AASD;;AACD,WAAOA,IAAI,EAAX;AACD,GAfD;AAgBD","sourcesContent":["import * as React from 'react';\nimport { Controller, Node, RenderNodeProps, Block } from '@ali/4ever-cangjie';\nimport type { SelectManager } from './utils/SelectManager';\nimport { BlockSelectBox } from './components/BlockSelectBox';\nimport { INodeSelectPluginConfigs } from './types';\nimport { defaultIsNodeSelectable } from './configs/defaultIsNodeSelectable';\n\nexport default function createRenderNode(config: INodeSelectPluginConfigs, manager: SelectManager) {\n  const { isNodeSelectable } = config;\n  return (props: RenderNodeProps<Node>, controller: Controller, next) => {\n    const { node } = props;\n    const isSelectableNode = isNodeSelectable ? isNodeSelectable(node) : defaultIsNodeSelectable(node, controller);\n    if (isSelectableNode && Block.isBlock(node)) {\n      return (\n        <BlockSelectBox\n          node={node}\n          manager={manager}\n          controller={controller}\n        >\n          {next()}\n        </BlockSelectBox>\n      );\n    }\n    return next();\n  };\n}\n"],"file":"createRenderNode.js"}