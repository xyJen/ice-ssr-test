import * as React from 'react';
var _createElement = /*#__PURE__*/React.createElement;
import { Inline } from '@ali/4ever-cangjie';
import Draggable from "./components/draggable";
import getElementType from "./utils/getElementType";
export default function createRenderNode(config) {
  var _ref = config.draggable || {},
      _ref$draggableInlineE = _ref.draggableInlineElements,
      draggableInlineElements = _ref$draggableInlineE === void 0 ? {} : _ref$draggableInlineE;

  return function (props, controller, next) {
    var node = props.node;

    if (Inline.isInline(node)) {
      var type = getElementType(node); // 排版下有较多诸如 inline-box, float-inline-box, filed 等暂不需要拖拽的行内元素，因此这里默认不开启
      // 优先根据 node.type 判断，以便批量设置（例如批量设置 tag 类可拖拽）

      if (draggableInlineElements[node.type] || draggableInlineElements[type]) {
        return /*#__PURE__*/_createElement(Draggable, {
          controller: controller,
          renderNodeProps: props
        }, next());
      }
    }

    return next();
  };
}
//# sourceMappingURL=createRenderNode.js.map