var AUTO_SCROLL_THRESHOLD_TOP = 100;
var AUTO_SCROLL_THRESHOLD_BOTTOM = 50;
var AUTO_SCROLL_HEIGHT = 20;
var scrollableContainer = null;
/**
 * 查找第一个滚动容器
 * https://github.com/jquery/jquery-ui/blob/main/ui/scroll-parent.js
 */

function getScrollParent(element) {
  var style = window.getComputedStyle(element);
  var excludeStaticParent = style.position === 'absolute';
  var overflowRegex = /(auto|scroll)/;
  var scrollRoot = document.documentElement || document.body;
  if (style.position === 'fixed') return scrollRoot;
  var parent = element;

  while (parent) {
    style = getComputedStyle(parent);

    if (!(excludeStaticParent && style.position === 'static') && overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) {
      return parent;
    }

    parent = parent.parentElement;
  }

  return scrollRoot;
}

function autoScroll(event, threshold) {
  if (scrollableContainer) {
    var clientY = event.clientY;
    var topThreshold = (threshold == null ? void 0 : threshold.top) !== undefined ? threshold.top : AUTO_SCROLL_THRESHOLD_TOP;
    var bottomThreshold = (threshold == null ? void 0 : threshold.bottom) !== undefined ? threshold.bottom : AUTO_SCROLL_THRESHOLD_BOTTOM;

    if (scrollableContainer.scrollTop && clientY < topThreshold) {
      scrollableContainer.scrollTop -= AUTO_SCROLL_HEIGHT;
    } else if (clientY > window.innerHeight - bottomThreshold) {
      scrollableContainer.scrollTop += AUTO_SCROLL_HEIGHT;
    }
  } else {
    scrollableContainer = getScrollParent(event.target);
  }
}

export default autoScroll;
//# sourceMappingURL=autoScroll.js.map