{"version":3,"sources":["../../../../src/bi/dragEventHandlers/dragEndHandler.ts"],"names":["updateDragFragment","removeDragThumbnail","removeDragHightlight","getDraggableData","dragEndHandler","controller","dragFragment","run","setTimeout"],"mappings":"AACA,SAASA,kBAAT;AACA,SAASC,mBAAT,EAA8BC,oBAA9B;AACA,SAASC,gBAAT;;AAGA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CACrBC,UADqB,EAElB;AAAA,aACsBF,gBAAgB,CAACE,UAAD,CAAhB,IAAgC,EADtD;AAAA,MACKC,YADL,QACKA,YADL,EAEH;;;AACA,MAAIA,YAAJ,EAAkB;AAChBD,IAAAA,UAAU,CAACE,GAAX,CAAe,UAAf,EAA2BP,kBAAkB,EAA7C;AACD;;AACDQ,EAAAA,UAAU,CAAC,YAAM;AACf;AACAN,IAAAA,oBAAoB;AACrB,GAHS,EAGP,GAHO,CAAV;AAIAD,EAAAA,mBAAmB;AACpB,CAbD;;AAeA,eAAeG,cAAf","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { updateDragFragment } from '../actions';\nimport { removeDragThumbnail, removeDragHightlight } from '../utils/domUtils';\nimport { getDraggableData } from '../model/draggableData';\n\n\nconst dragEndHandler = (\n  controller: Controller,\n) => {\n  const { dragFragment } = getDraggableData(controller) || {};\n  // 清除 controller 拖拽数据\n  if (dragFragment) {\n    controller.run('onAction', updateDragFragment());\n  }\n  setTimeout(() => {\n    // dom 操作，允许一定延时给用户感知拖拽的内容\n    removeDragHightlight();\n  }, 500);\n  removeDragThumbnail();\n};\n\nexport default dragEndHandler;\n"],"file":"dragEndHandler.js"}