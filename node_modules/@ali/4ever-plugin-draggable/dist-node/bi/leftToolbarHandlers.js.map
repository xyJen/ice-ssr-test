{"version":3,"sources":["../../../src/bi/leftToolbarHandlers.ts"],"names":["leftToolbarHandlers","getLeftToolbarHandler","controller","handlerGetter","res","handleDragChange","action","leftToolbar"],"mappings":";;;;;;AAUO,MAAMA,mBAAsC,GAAG,EAA/C;;;AAEP,MAAMC,qBAAqB,GAAIC,UAAD,IAA4B;AACxD,OAAK,MAAMC,aAAX,IAA4BH,mBAA5B,EAAiD;AAC/C,UAAMI,GAAG,GAAGD,aAAa,CAACD,UAAD,CAAzB;;AACA,QAAIE,GAAJ,EAAS;AACP,aAAOA,GAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD,CARD;;AAUO,MAAMC,gBAAgB,GAAG,CAC9BC,MAD8B,EAE9BJ,UAF8B,KAG3B;AACH,QAAMK,WAAW,GAAGN,qBAAqB,CAACC,UAAD,CAAzC;;AACA,MAAI,CAACK,WAAL,EAAkB;AAChB,WAAO,EAAP;AACD;;AAEDA,EAAAA,WAAW,CAACD,MAAD,CAAX;AACA,SAAO,EAAP;AACD,CAXM","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\n\ntype Handler = {\n  enable: () => void;\n  disable: () => void;\n  clear: () => void;\n};\n\nexport type LeftToolbarItem = (controller: Controller) => Handler;\n\nexport const leftToolbarHandlers: LeftToolbarItem[] = [];\n\nconst getLeftToolbarHandler = (controller: Controller) => {\n  for (const handlerGetter of leftToolbarHandlers) {\n    const res = handlerGetter(controller);\n    if (res) {\n      return res;\n    }\n  }\n  return null;\n};\n\nexport const handleDragChange = (\n  action: 'clear' | 'disable' | 'enable',\n  controller: Controller,\n) => {\n  const leftToolbar = getLeftToolbarHandler(controller);\n  if (!leftToolbar) {\n    return {};\n  }\n\n  leftToolbar[action]?.();\n  return {};\n};\n"],"file":"leftToolbarHandlers.js"}