{"version":3,"sources":["../../../src/bi/createRenderNode.tsx"],"names":["createRenderNode","config","draggableInlineElements","draggable","props","controller","next","node","Inline","isInline","type"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;uBAF4B,a;;AAKb,SAASA,gBAAT,CAA0BC,MAA1B,EAAkD;AAC/D,QAAM;AAAEC,IAAAA,uBAAuB,GAAG;AAA5B,MAAmCD,MAAM,CAACE,SAAP,IAAoB,EAA7D;AACA,SAAO,CAACC,KAAD,EAAyBC,UAAzB,EAAiDC,IAAjD,KAA0D;AAC/D,UAAM;AAAEC,MAAAA;AAAF,QAAWH,KAAjB;;AACA,QAAII,oBAAOC,QAAP,CAAgBF,IAAhB,CAAJ,EAA2B;AACzB,YAAMG,IAAI,GAAG,6BAAeH,IAAf,CAAb,CADyB,CAEzB;AACA;;AACA,UAAIL,uBAAuB,CAACK,IAAI,CAACG,IAAN,CAAvB,IAAsCR,uBAAuB,CAACQ,IAAD,CAAjE,EAAyE;AACvE,4BACE,eAAC,kBAAD;AACE,UAAA,UAAU,EAAEL,UADd;AAEE,UAAA,eAAe,EAAED;AAFnB,WAIGE,IAAI,EAJP,CADF;AAQD;AACF;;AACD,WAAOA,IAAI,EAAX;AACD,GAlBD;AAmBD","sourcesContent":["import * as React from 'react';\nimport { BiPluginConfig, Controller, Inline, RenderNodeProps } from '@ali/4ever-cangjie';\nimport Draggable from './components/draggable';\nimport getElementType from './utils/getElementType';\n\n\nexport default function createRenderNode(config: BiPluginConfig) {\n  const { draggableInlineElements = {} } = config.draggable || {};\n  return (props: RenderNodeProps, controller: Controller, next) => {\n    const { node } = props;\n    if (Inline.isInline(node)) {\n      const type = getElementType(node);\n      // 排版下有较多诸如 inline-box, float-inline-box, filed 等暂不需要拖拽的行内元素，因此这里默认不开启\n      // 优先根据 node.type 判断，以便批量设置（例如批量设置 tag 类可拖拽）\n      if (draggableInlineElements[node.type] || draggableInlineElements[type]) {\n        return (\n          <Draggable\n            controller={controller}\n            renderNodeProps={props}\n          >\n            {next()}\n          </Draggable>\n        );\n      }\n    }\n    return next();\n  };\n}\n"],"file":"createRenderNode.js"}