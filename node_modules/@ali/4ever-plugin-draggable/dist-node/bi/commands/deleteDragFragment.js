"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = deleteDragFragment;

var _everCangjie = require("@ali/4ever-cangjie");

var _types = require("../types");

function deleteDragFragment(controller, payload) {
  const {
    dragFragment
  } = payload;
  if (!dragFragment) return controller;
  const {
    type
  } = dragFragment;

  if (type === _types.DRAG_TYPE.blocks && Array.isArray(dragFragment.fragment)) {
    const fragment = [...dragFragment.fragment];
    fragment.forEach(block => {
      controller.command(_everCangjie.Commands.removeNodeByKey, block.key);
    });
  } else if (type === _types.DRAG_TYPE.inline && dragFragment.fragment.key) {
    controller.command(_everCangjie.Commands.removeNodeByKey, dragFragment.fragment.key);
  }

  return controller;
}
//# sourceMappingURL=deleteDragFragment.js.map