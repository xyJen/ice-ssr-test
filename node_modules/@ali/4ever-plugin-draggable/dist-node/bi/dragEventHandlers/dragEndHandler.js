"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _actions = require("../actions");

var _domUtils = require("../utils/domUtils");

var _draggableData = require("../model/draggableData");

const dragEndHandler = controller => {
  const {
    dragFragment
  } = (0, _draggableData.getDraggableData)(controller) || {}; // 清除 controller 拖拽数据

  if (dragFragment) {
    controller.run('onAction', (0, _actions.updateDragFragment)());
  }

  setTimeout(() => {
    // dom 操作，允许一定延时给用户感知拖拽的内容
    (0, _domUtils.removeDragHightlight)();
  }, 500);
  (0, _domUtils.removeDragThumbnail)();
};

var _default = dragEndHandler;
exports.default = _default;
//# sourceMappingURL=dragEndHandler.js.map