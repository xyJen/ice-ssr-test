{"version":3,"sources":["../../../../src/bi/dragEventHandlers/dragEndHandler.ts"],"names":["dragEndHandler","controller","dragFragment","run","setTimeout"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AAGA,MAAMA,cAAc,GAClBC,UADqB,IAElB;AACH,QAAM;AAAEC,IAAAA;AAAF,MAAmB,qCAAiBD,UAAjB,KAAgC,EAAzD,CADG,CAEH;;AACA,MAAIC,YAAJ,EAAkB;AAChBD,IAAAA,UAAU,CAACE,GAAX,CAAe,UAAf,EAA2B,kCAA3B;AACD;;AACDC,EAAAA,UAAU,CAAC,MAAM;AACf;AACA;AACD,GAHS,EAGP,GAHO,CAAV;AAIA;AACD,CAbD;;eAeeJ,c","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { updateDragFragment } from '../actions';\nimport { removeDragThumbnail, removeDragHightlight } from '../utils/domUtils';\nimport { getDraggableData } from '../model/draggableData';\n\n\nconst dragEndHandler = (\n  controller: Controller,\n) => {\n  const { dragFragment } = getDraggableData(controller) || {};\n  // 清除 controller 拖拽数据\n  if (dragFragment) {\n    controller.run('onAction', updateDragFragment());\n  }\n  setTimeout(() => {\n    // dom 操作，允许一定延时给用户感知拖拽的内容\n    removeDragHightlight();\n  }, 500);\n  removeDragThumbnail();\n};\n\nexport default dragEndHandler;\n"],"file":"dragEndHandler.js"}