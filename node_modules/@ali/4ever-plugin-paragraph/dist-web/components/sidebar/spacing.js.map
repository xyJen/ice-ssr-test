{"version":3,"sources":["../../../../src/components/sidebar/spacing.tsx"],"names":["React","Controller","useStyle","unitsConverter","theme","SpacingUtil","InputNumber","Select","logger","ConfigItem","commonInputNumberProps","inputNumberStyle","UnitSelect","commonSelectStyle","formatNumber10","formatNumber100","checkInputValue","parseInputNumberPara","setLineHeight","lineHeight","lineRule","type","payload","MAX_LINES","MAX","toPT","linesToPx","SpacingSet","props","controller","useController","locale","paragraph","pLocale","line","lLocale","unitsLocale","key","value","ptUnit","linesUnit","autoUnit","docStyle","query","docDefaults","data","pPr","spacing","before","beforeLines","beforeAutospacing","after","afterLines","afterAutospacing","units","values","undefined","handleLineChange","arg","val","Math","min","run","sum","handleLineRuleChange","createSpacingChangeHandler","nextSpacing","isLinesUnit","toPX","dispatch","handleBeforeChange","handleAfterChange","createSpacingUnitChangeHandler","unit","defaultLinePitch","defaultAfterAutospacing","defaultBeforeAutospacing","handleBeforeUnitChange","handleAfterUnitChange","spacingBefore","spacingAfter","multipleLineRule","exactlyLineRule","marginLeft"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Controller, useStyle } from '@ali/4ever-cangjie';\nimport { SpacingProperties, unitsConverter, theme, SpacingUtil } from '@ali/4ever-utils';\nimport { InputNumber, Select } from '@ali/we-design';\nimport logger from '@ali/4ever-logger';\nimport { ConfigItem } from '../styled';\nimport {\n  ParagraphSetCompProps,\n  commonInputNumberProps,\n  inputNumberStyle,\n  UnitSelect,\n  commonSelectStyle,\n  formatNumber10,\n  formatNumber100,\n  checkInputValue,\n  InputNumberChangeType,\n  parseInputNumberPara,\n} from './common';\n\n/** \n * TODO: 待 lineHeight 插件迁移后，改为 package 引入\n */\nconst setLineHeight = (lineHeight: number, lineRule?: string) => {\n  return {\n    type: 'ACTION_LINEHEIGHT_SET',\n    payload: {\n      lineHeight,\n      lineRule,\n    },\n  };\n}\n\n/**\n * 50：大概是一页的高度\n */\nconst MAX_LINES = 50;\nconst MAX = unitsConverter.toPT(`${SpacingUtil.linesToPx(MAX_LINES)}px`);\ntype SPACING_TYPE = 'before' | 'after' | 'line';\n\n\nexport default function SpacingSet(props: ParagraphSetCompProps) {\n  const controller = Controller.useController();\n  const { locale } = props;\n  const {\n    paragraph: pLocale = {},\n    line: lLocale = {},\n  } = locale;\n  const unitsLocale = [{\n    key: 'pt', value: pLocale.ptUnit,\n  }, {\n    key: 'lines', value: pLocale.linesUnit,\n  }, {\n    key: 'auto', value: pLocale.autoUnit,\n  }];\n  const docStyle = useStyle();\n  const {\n    before,\n    beforeLines,\n    beforeAutospacing,\n    after,\n    afterLines,\n    afterAutospacing,\n    lineRule = 'auto',\n    line,\n  } = controller.query('getCommonSpacing', docStyle?.docDefaults?.data?.pPr?.spacing) as SpacingProperties;\n\n  const units: Record<SPACING_TYPE, string> = {\n    before: 'pt',\n    after: 'pt',\n    line: lineRule !== 'auto' ? 'pt' : 'lines',\n  };\n  const values: Record<SPACING_TYPE, number | undefined> = {\n    before,\n    after,\n    line,\n  };\n\n  if (lineRule !== 'auto') {\n    values.line = unitsConverter.toPT(`${line}px`);\n  }\n\n  if (beforeAutospacing) {\n    units.before = 'auto';\n    values.before = undefined;\n  } else if (beforeLines) {\n    units.before = 'lines';\n    values.before = beforeLines;\n  }\n  if (units.before === 'pt' && values.before) {\n    // 转换为 pt\n    values.before = unitsConverter.toPT(`${values.before}px`);\n  }\n\n  if (afterAutospacing) {\n    units.after = 'auto';\n    values.after = undefined;\n  } else if (afterLines) {\n    units.after = 'lines';\n    values.after = afterLines;\n  }\n\n  if (units.after === 'pt' && values.after) {\n    values.after = unitsConverter.toPT(`${values.after}px`);\n  }\n\n  const handleLineChange = (arg: InputNumberChangeType) => {\n    let val = parseInputNumberPara(arg);\n    if (lineRule === 'exact' || lineRule === 'atLeast') {\n      // 转换为与导入一致的单位\n      val /= 12;\n    }\n    // 不允许设置 0\n    if (!val || !checkInputValue(val)) return;\n    if (val === values.line) return;\n    val = Math.min(val, units.line === 'lines' ? MAX_LINES : MAX);\n\n    controller.run('onAction', setLineHeight(val, lineRule));\n    logger.sum('paragraph_sidebar_spacing_line');\n  };\n\n  const handleLineRuleChange = (type: string) => {\n    if (type === 'exact') {\n      // 切换为固定值时默认为 24pt\n      controller.run('onAction', setLineHeight(2, type));\n    } else if (type === 'auto') {\n      // 切换为多倍时默认为 1倍行距\n      controller.run('onAction', setLineHeight(1, type));\n    }\n    logger.sum(`paragraph_sidebar_spacing_lineRule_${type}`);\n  };\n\n  const createSpacingChangeHandler = (type: string) => {\n    return (arg: InputNumberChangeType) => {\n      let val = parseInputNumberPara(arg);\n      if (!checkInputValue(val)) return;\n      if (val === values[type]) return;\n      val = Math.min(val, units[type] === 'lines' ? MAX_LINES : MAX);\n      const nextSpacing: SpacingProperties = {};\n      const isLinesUnit = units[type] === 'lines';\n\n      nextSpacing[`${type}Autospacing`] = false;\n\n      if (isLinesUnit) {\n        nextSpacing[`${type}Lines`] = val;\n        // 同步设置 before/after 作为兜底\n        nextSpacing[type] = SpacingUtil.linesToPx(val);\n      } else {\n        nextSpacing[type] = unitsConverter.toPX(`${val}pt`);\n      }\n\n      controller.dispatch('setParagraphSpacing', nextSpacing);\n      logger.sum(`paragraph_sidebar_spacing_${type}`);\n    };\n  };\n\n  const handleBeforeChange = createSpacingChangeHandler('before');\n  const handleAfterChange = createSpacingChangeHandler('after');\n\n  const createSpacingUnitChangeHandler = (type: string) => {\n    return (unit: string) => {\n      const nextSpacing: SpacingProperties = {};\n      if (unit === 'pt' || unit === 'lines') {\n        nextSpacing[`${type}Autospacing`] = false;\n        nextSpacing[type] = unit === 'pt' ? theme.spacing.defaultLinePitch : 0;\n        nextSpacing[`${type}Lines`] = unit === 'pt' ? 0 : 1;\n      } else if (unit === 'auto') {\n        nextSpacing[`${type}Autospacing`] = true;\n        // 按照前 5pt 后 10pt 兜底\n        nextSpacing[type] = type === 'after' ? theme.spacing.defaultAfterAutospacing : theme.spacing.defaultBeforeAutospacing;\n      }\n      controller.dispatch('setParagraphSpacing', nextSpacing);\n      logger.sum(`paragraph_sidebar_spacing_${type}_unit_${unit}`);\n    };\n  };\n\n  const handleBeforeUnitChange = createSpacingUnitChangeHandler('before');\n  const handleAfterUnitChange = createSpacingUnitChangeHandler('after');\n\n  return (\n    <>\n      <ConfigItem>\n        <span className=\"label\">{pLocale.spacingBefore}</span>\n        <InputNumber\n          value={values.before}\n          formatter={formatNumber10}\n          {...commonInputNumberProps}\n          style={inputNumberStyle}\n          onStep={handleBeforeChange}\n          onPressEnter={handleBeforeChange}\n          onBlur={handleBeforeChange}\n          key={`before_${values.before}`}\n        />\n        <UnitSelect\n          value={units.before}\n          units={unitsLocale}\n          onChange={handleBeforeUnitChange}\n        />\n      </ConfigItem>\n      <ConfigItem>\n        <span className=\"label\">{pLocale.spacingAfter}</span>\n        <InputNumber\n          value={values.after}\n          {...commonInputNumberProps}\n          formatter={formatNumber10}\n          style={inputNumberStyle}\n          onStep={handleAfterChange}\n          onPressEnter={handleAfterChange}\n          onBlur={handleAfterChange}\n          key={`after_${values.after}`}\n        />\n        <UnitSelect\n          value={units.after}\n          units={unitsLocale}\n          onChange={handleAfterUnitChange}\n        />\n      </ConfigItem>\n      <ConfigItem>\n        <Select\n          defaultValue=\"auto\"\n          value={lineRule !== 'auto' ? 'exact' : 'auto'}\n          style={commonSelectStyle}\n          onChange={handleLineRuleChange}\n        >\n          <Select.Option value=\"auto\">{lLocale.multipleLineRule}</Select.Option>\n          <Select.Option value=\"exact\">{lLocale.exactlyLineRule}</Select.Option>\n        </Select>\n        <InputNumber\n          value={values.line}\n          {...commonInputNumberProps}\n          max={100}\n          step={lineRule === 'auto' ? 0.1 : 1}\n          formatter={lineRule === 'auto' ? formatNumber100 : formatNumber10}\n          style={inputNumberStyle}\n          onPressEnter={handleLineChange}\n          onBlur={handleLineChange}\n          onStep={handleLineChange}\n          key={`line_${values.line}`}\n        />\n        {units.line === 'pt' ? <span style={{ marginLeft: 7 }}>{pLocale.ptUnit}</span> : null}\n      </ConfigItem>\n    </>\n  );\n}\n"],"file":"spacing.js"}