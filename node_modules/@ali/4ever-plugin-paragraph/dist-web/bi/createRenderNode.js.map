{"version":3,"sources":["../../../src/bi/createRenderNode.tsx"],"names":["React","P","createRenderNode","paragraph","props","children","controller","node","attributes","visible","content","query"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,OAAOC,CAAP;AAGA,eAAe,SAASC,gBAAT,GAAqD;AAClE,SAAO;AACLC,IAAAA,SAAS,EAAE,mBAACC,KAAD,EAA4B;AAAA,UAC7BC,QAD6B,GACuBD,KADvB,CAC7BC,QAD6B;AAAA,UACnBC,UADmB,GACuBF,KADvB,CACnBE,UADmB;AAAA,UACPC,IADO,GACuBH,KADvB,CACPG,IADO;AAAA,UACDC,UADC,GACuBJ,KADvB,CACDI,UADC;AAAA,UACWC,OADX,GACuBL,KADvB,CACWK,OADX;AAErC;AACN;AACA;AACA;AACA;;AACM,UAAMC,OAAO,GAAGN,KAAK,CAACE,UAAN,CAAiBK,KAAjB,CAAuB,iBAAvB,EAA0CP,KAA1C,CAAhB;;AACA,UAAIM,OAAJ,EAAa;AACX,eAAOA,OAAP;AACD;;AAED,0BACE,eAAC,CAAD;AAAG,QAAA,UAAU,EAAEJ,UAAf;AAA2B,QAAA,IAAI,EAAEC,IAAjC;AAAgD,QAAA,UAAU,EAAEC,UAA5D;AAAwE,QAAA,OAAO,EAAEC;AAAjF,SACGJ,QAAQ,EADX,CADF;AAKD;AAlBI,GAAP;AAoBD","sourcesContent":["import * as React from 'react';\nimport P from '../components/EditParagraph';\nimport { Block, RenderNodeProps, ZhiPlugin } from '@ali/4ever-cangjie';\n\nexport default function createRenderNode(): ZhiPlugin['renderNode'] {\n  return {\n    paragraph: (props: RenderNodeProps) => {\n      const { children, controller, node, attributes, visible } = props;\n      /**\n       * list 与 paragraph 的 type 一致，render 通过 query 解耦。\n       *\n       * 注：通过中间件方式解耦更合理，但不如 k/v 方式快，需要评估对性能的影响\n       */\n      const content = props.controller.query('renderParagraph', props as any);\n      if (content) {\n        return content;\n      }\n\n      return (\n        <P controller={controller} node={node as Block} attributes={attributes} visible={visible}>\n          {children()}\n        </P>\n      );\n    },\n  };\n}\n"],"file":"createRenderNode.js"}