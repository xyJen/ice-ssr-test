{"version":3,"sources":["../../../src/bi/createRenderNode.tsx"],"names":["createRenderNode","paragraph","props","children","controller","node","attributes","visible","content","query"],"mappings":";;;;;;;;;;;AAAA;;AACA;;uBAA4B,a;;AAGb,SAASA,gBAAT,GAAqD;AAClE,SAAO;AACLC,IAAAA,SAAS,EAAGC,KAAD,IAA4B;AACrC,YAAM;AAAEC,QAAAA,QAAF;AAAYC,QAAAA,UAAZ;AAAwBC,QAAAA,IAAxB;AAA8BC,QAAAA,UAA9B;AAA0CC,QAAAA;AAA1C,UAAsDL,KAA5D;AACA;AACN;AACA;AACA;AACA;;AACM,YAAMM,OAAO,GAAGN,KAAK,CAACE,UAAN,CAAiBK,KAAjB,CAAuB,iBAAvB,EAA0CP,KAA1C,CAAhB;;AACA,UAAIM,OAAJ,EAAa;AACX,eAAOA,OAAP;AACD;;AAED,0BACE,eAAC,sBAAD;AAAG,QAAA,UAAU,EAAEJ,UAAf;AAA2B,QAAA,IAAI,EAAEC,IAAjC;AAAgD,QAAA,UAAU,EAAEC,UAA5D;AAAwE,QAAA,OAAO,EAAEC;AAAjF,SACGJ,QAAQ,EADX,CADF;AAKD;AAlBI,GAAP;AAoBD","sourcesContent":["import * as React from 'react';\nimport P from '../components/EditParagraph';\nimport { Block, RenderNodeProps, ZhiPlugin } from '@ali/4ever-cangjie';\n\nexport default function createRenderNode(): ZhiPlugin['renderNode'] {\n  return {\n    paragraph: (props: RenderNodeProps) => {\n      const { children, controller, node, attributes, visible } = props;\n      /**\n       * list 与 paragraph 的 type 一致，render 通过 query 解耦。\n       *\n       * 注：通过中间件方式解耦更合理，但不如 k/v 方式快，需要评估对性能的影响\n       */\n      const content = props.controller.query('renderParagraph', props as any);\n      if (content) {\n        return content;\n      }\n\n      return (\n        <P controller={controller} node={node as Block} attributes={attributes} visible={visible}>\n          {children()}\n        </P>\n      );\n    },\n  };\n}\n"],"file":"createRenderNode.js"}