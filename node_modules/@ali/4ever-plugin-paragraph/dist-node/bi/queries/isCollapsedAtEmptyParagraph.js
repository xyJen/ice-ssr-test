"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isCollapsedAtEmptyParagraph;

var _everCangjie = require("@ali/4ever-cangjie");

var _models = _interopRequireDefault(require("../../mo/models"));

function isCollapsedAtEmptyParagraph(controller, range) {
  const {
    isCollapsed,
    isCollapsedAtEdge
  } = range; // 边缘不算

  if (!isCollapsed || isCollapsedAtEdge) return false;
  const {
    document
  } = controller.value;
  const block = document.getClosestBlock(range.focus.key); // 段落和标题以外的块级元素不算

  if (!_models.default.isParagraph(block)) return false;
  return block?.text === '' && _everCangjie.Text.isTextList(block.nodes);
}
//# sourceMappingURL=isCollapsedAtEmptyParagraph.js.map