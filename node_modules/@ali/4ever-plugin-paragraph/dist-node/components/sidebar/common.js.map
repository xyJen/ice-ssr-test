{"version":3,"sources":["../../../../src/components/sidebar/common.tsx"],"names":["createNumberFormater","fix","f","number","test","res","Math","round","parseFloat","unitSelectStyle","width","height","fontSize","formatNumber10","formatNumber100","parseInputNumberPara","arg","target","value","NaN","commonInputNumberProps","min","placeholder","step","checkInputValue","inputNumberStyle","margin","commonSelectStyle","padding","UnitSelect","props","units","onChange","options","map","unit","key"],"mappings":";;;;;;;;;;;;AAAA;;AAEA;;AACA;;uBAF4B,a;;AAI5B,MAAMA,oBAAoB,GAAIC,GAAD,IAAkB;AAC7C,QAAMC,CAAC,GAAGD,GAAG,IAAI,GAAjB;AACA,SAAQE,MAAD,IAA6B;AAClC,QAAIA,MAAM,KAAK,EAAf,EAAmB,OAAO,EAAP;AACnB,QAAI,CAACA,MAAD,IAAW,OAAOA,MAAP,KAAkB,QAAjC,EAA2C,OAAQ,GAAEA,MAAM,IAAI,CAAE,EAAtB;AAC3C,QAAI,MAAMC,IAAN,CAAWD,MAAX,CAAJ,EAAwB,OAAOA,MAAP;AACxB,UAAME,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,UAAU,CAACL,MAAD,CAAV,GAAqBD,CAAhC,IAAqCA,CAAjD;AACA,QAAI,sBAAMG,GAAN,CAAJ,EAAgB,OAAO,EAAP;AAChB,WAAQ,GAAEA,GAAI,EAAd;AACD,GAPD;AAQD,CAVD;;AAYA,MAAMI,eAAoC,GAAG;AAC3CC,EAAAA,KAAK,EAAE,EADoC;AAE3CC,EAAAA,MAAM,EAAE,EAFmC;AAG3CC,EAAAA,QAAQ,EAAE;AAHiC,CAA7C;AAMO,MAAMC,cAAc,GAAGb,oBAAoB,CAAC,EAAD,CAA3C;;AACA,MAAMc,eAAe,GAAGd,oBAAoB,CAAC,GAAD,CAA5C;;;AAGA,SAASe,oBAAT,CAA8BC,GAA9B,EAA0D;AAC/D;AACA,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B,OAAOA,GAAP,CAFkC,CAG/D;;AACA,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B,OAAOR,UAAU,CAACQ,GAAD,CAAjB,CAJkC,CAK/D;;AACA,MAAIA,GAAG,EAAEC,MAAT,EAAiB,OAAOT,UAAU,CAAEQ,GAAG,CAACC,MAAL,CAAoCC,KAArC,CAAjB;AACjB,SAAOC,GAAP;AACD;;AAOM,MAAMC,sBAAsB,GAAG;AACpCC,EAAAA,GAAG,EAAE,CAD+B;AAEpCC,EAAAA,WAAW,EAAE,EAFuB;AAGpCC,EAAAA,IAAI,EAAE;AAH8B,CAA/B;;;AAMA,SAASC,eAAT,CAAyBN,KAAzB,EAAwCG,GAAxC,EAAsD;AAC3D,MAAI,sBAAMH,KAAN,CAAJ,EAAkB,OAAO,KAAP;AAClB,MAAIA,KAAK,IAAIG,GAAG,IAAI,CAAX,CAAT,EAAwB,OAAO,KAAP;AACxB,SAAO,IAAP;AACD;;AAEM,MAAMI,gBAAqC,GAAG,EACnD,GAAGhB,eADgD;AAEnDC,EAAAA,KAAK,EAAE,EAF4C;AAGnDgB,EAAAA,MAAM,EAAE;AAH2C,CAA9C;;AAMA,MAAMC,iBAAiB,GAAG;AAC/BhB,EAAAA,MAAM,EAAE,EADuB;AAE/BD,EAAAA,KAAK,EAAE,EAFwB;AAG/BE,EAAAA,QAAQ,EAAE,EAHqB;AAI/BgB,EAAAA,OAAO,EAAE;AAJsB,CAA1B;;;AAaA,SAASC,UAAT,CAAoBC,KAApB,EAA4C;AACjD,QAAM;AAAEZ,IAAAA,KAAF;AAASa,IAAAA,KAAT;AAAgBC,IAAAA;AAAhB,MAA6BF,KAAnC;AACA,QAAMG,OAAO,GAAGF,KAAK,CAACG,GAAN,CAAWC,IAAD,IAAU;AAClC,wBAAO,eAAC,gBAAD,CAAQ,MAAR;AAAe,MAAA,KAAK,EAAEA,IAAI,CAACC;AAA3B,OAAiCD,IAAI,CAACjB,KAAtC,CAAP;AACD,GAFe,CAAhB;AAGA,sBACE,eAAC,gBAAD;AACE,IAAA,KAAK,EAAEA,KADT;AAEE,IAAA,KAAK,EAAET,eAFT;AAGE,IAAA,QAAQ,EAAEuB;AAHZ,KAKGC,OALH,CADF;AASD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { Select } from '@ali/we-design';\nimport { isNaN } from '@ali/4ever-utils';\n\nconst createNumberFormater = (fix?: number) => {\n  const f = fix || 100;\n  return (number: string | number) => {\n    if (number === '') return '';\n    if (!number || typeof number === 'number') return `${number || 0}`;\n    if (/\\.$/.test(number)) return number;\n    const res = Math.round(parseFloat(number) * f) / f;\n    if (isNaN(res)) return '';\n    return `${res}`;\n  };\n};\n\nconst unitSelectStyle: React.CSSProperties = {\n  width: 50,\n  height: 28,\n  fontSize: 13,\n};\n\nexport const formatNumber10 = createNumberFormater(10);\nexport const formatNumber100 = createNumberFormater(100);\nexport type InputNumberChangeType = number | string | React.KeyboardEvent | React.FocusEvent;\n\nexport function parseInputNumberPara(arg: InputNumberChangeType) {\n  // 点击 上下 button 为 number\n  if (typeof arg === 'number') return arg;\n  // 按键盘上下键为 string\n  if (typeof arg === 'string') return parseFloat(arg);\n  // 按 enter 为 event\n  if (arg?.target) return parseFloat((arg.target as HTMLTextAreaElement).value);\n  return NaN;\n}\n\nexport interface ParagraphSetCompProps {\n  controller: Controller;\n  locale: Record<string, any>;\n}\n\nexport const commonInputNumberProps = {\n  min: 0,\n  placeholder: '',\n  step: 1,\n};\n\nexport function checkInputValue(value: number, min?: number) {\n  if (isNaN(value)) return false;\n  if (value < (min || 0)) return false;\n  return true;\n}\n\nexport const inputNumberStyle: React.CSSProperties = {\n  ...unitSelectStyle,\n  width: 60,\n  margin: '0 5px',\n};\n\nexport const commonSelectStyle = {\n  height: 28,\n  width: 90,\n  fontSize: 13,\n  padding: '0 4px 0 0',\n};\n\ninterface UnitSelectProps {\n  value: string;\n  units: Array<Record<string, string>>;\n  onChange: (value: string) => void;\n}\n\nexport function UnitSelect(props: UnitSelectProps) {\n  const { value, units, onChange } = props;\n  const options = units.map((unit) => {\n    return <Select.Option value={unit.key}>{unit.value}</Select.Option>;\n  });\n  return (\n    <Select\n      value={value}\n      style={unitSelectStyle}\n      onChange={onChange}\n    >\n      {options}\n    </Select>\n  );\n}\n"],"file":"common.js"}