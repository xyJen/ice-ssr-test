{"version":3,"sources":["../../../../src/common/queries/isNodeInTable.ts"],"names":["isTableNode","isNodeInTable","controller","node","excludeColumns","document","value","parent","getParent","key","Boolean"],"mappings":"AACA,SAASA,WAAT;AAEA;AACA;AACA;;AACA,eAAe,SAASC,aAAT,CACbC,UADa,EAEbC,IAFa,EAGbC,cAHa,EAIb;AAAA,MADAA,cACA;AADAA,IAAAA,cACA,GADiB,KACjB;AAAA;;AACA,MAAI,CAACD,IAAL,EAAW,OAAO,KAAP;AADX,MAEQE,QAFR,GAEqBH,UAAU,CAACI,KAFhC,CAEQD,QAFR;AAGA,MAAIE,MAAM,GAAGF,QAAQ,CAACG,SAAT,CAAmBL,IAAI,CAACM,GAAxB,CAAb;;AACA,SAAOF,MAAM,IAAI,CAACP,WAAW,CAACO,MAAD,EAASH,cAAT,CAA7B,EAAuD;AACrDG,IAAAA,MAAM,GAAGF,QAAQ,CAACG,SAAT,CAAmBD,MAAM,CAACE,GAA1B,CAAT;AACD;;AACD,SAAOC,OAAO,CAACH,MAAD,CAAd;AACD","sourcesContent":["import { Node, Controller } from '@ali/4ever-cangjie';\nimport { isTableNode } from '../../utils//utils/isTableNode';\n\n/**\n * 判断节点是否有 parent 属于表格/分栏（不包含节点本身）\n */\nexport default function isNodeInTable(\n  controller: Controller,\n  node: Node | null,\n  excludeColumns = false,\n) {\n  if (!node) return false;\n  const { document } = controller.value;\n  let parent = document.getParent(node.key);\n  while (parent && !isTableNode(parent, excludeColumns)) {\n    parent = document.getParent(parent.key);\n  }\n  return Boolean(parent);\n}\n"],"file":"isNodeInTable.js"}