import Table from "../../mo/models";
export default function calcMinTableColWidth(controller, payload) {
  var node = payload.node,
      colIndex = payload.colIndex;
  var key;
  var width;
  Table.isTable(node) && (node == null ? void 0 : node.nodes.forEach(function (row) {
    if (!Array.isArray(row.nodes)) {
      return;
    }

    var cell = row.nodes[colIndex];

    if (!cell) {
      return;
    }

    if (!cell.forEachDescendant) {
      return;
    }

    cell.forEachDescendant(function (n) {
      var colWidth = controller.query('getMinTableColWidth', {
        node: n
      });

      if (typeof colWidth === 'number') {
        width = Math.max(colWidth, width || 0);
        key = n.key;
      }
    });
  }));
  return {
    key: key,
    width: width
  };
}
//# sourceMappingURL=calcMinTableColWidth.js.map