{"version":3,"sources":["../../../../src/common/handlers/getNodeStyle.ts"],"names":["Paragraph","SpacingUtil","ShdUtil","defaultCompactSpacing","getNodeStyle","props","controller","next","node","docStyle","isParagraph","query","style","docDefaults","data","pPr","toStyle","spacing","undefined","lineHeight","rest"],"mappings":";;AACA,SAASA,SAAT,QAA0B,6BAA1B;AACA,SAASC,WAAT,EAAsBC,OAAtB,EAA+BC,qBAA/B,QAA4D,kBAA5D;AAGA,eAAe,SAASC,YAAT,CACbC,KADa,EAEbC,UAFa,EAGbC,IAHa,EAIb;AAAA;;AAAA,MACQC,IADR,GAC2BH,KAD3B,CACQG,IADR;AAAA,MACcC,QADd,GAC2BJ,KAD3B,CACcI,QADd,EAEA;;AACA,MAAI,CAACT,SAAS,CAACU,WAAV,CAAsBF,IAAtB,CAAD,IAAgC,CAACF,UAAU,CAACK,KAAX,CAAiB,eAAjB,EAAkCH,IAAlC,CAArC,EAA8E,OAAOD,IAAI,EAAX;AAC9E,MAAIK,KAA0B,GAAG,EAAjC;;AAJA,aAKgB,CAAAH,QAAQ,QAAR,qCAAAA,QAAQ,CAAEI,WAAV,2CAAuBC,IAAvB,KAA+B,EAL/C;AAAA,MAKQC,GALR,QAKQA,GALR,EAOA;;;AACAH,EAAAA,KAAK,gBACAV,OAAO,CAACc,OAAR,CAAgBR,IAAhB,CADA,EAEAP,WAAW,CAACe,OAAZ,CAAoBR,IAApB,EAA0BO,GAAG,QAAH,IAAAA,GAAG,CAAEE,OAAL,GAAed,qBAAf,GAAuCe,SAAjE,CAFA,CAAL;;AARA,eAagCN,KAbhC;AAAA,MAaQO,UAbR,UAaQA,UAbR;AAAA,MAauBC,IAbvB;;AAcA,SAAOA,IAAP;AACD","sourcesContent":["import { RenderNodeStyleProps, Controller } from '@ali/4ever-cangjie';\nimport { Paragraph } from '@ali/4ever-plugin-paragraph';\nimport { SpacingUtil, ShdUtil, defaultCompactSpacing } from '@ali/4ever-utils';\n\n\nexport default function getNodeStyle(\n  props: RenderNodeStyleProps,\n  controller: Controller,\n  next: Function,\n) {\n  const { node, docStyle } = props;\n  // 仅针对表格内的普通段落做处理\n  if (!Paragraph.isParagraph(node) || !controller.query('isNodeInTable', node)) return next();\n  let style: React.CSSProperties = {};\n  const { pPr } = docStyle?.docDefaults?.data || {};\n\n  // 宽松间距下的段落在表格中的间距（by designer shisi）\n  style = {\n    ...ShdUtil.toStyle(node),\n    ...SpacingUtil.toStyle(node, pPr?.spacing ? defaultCompactSpacing : undefined),\n  };\n\n  const { lineHeight, ...rest } = style;\n  return rest;\n}\n"],"file":"getNodeStyle.js"}