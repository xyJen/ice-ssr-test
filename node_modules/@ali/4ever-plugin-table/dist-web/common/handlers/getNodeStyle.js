import _objectWithoutPropertiesLoose from "@babel/runtime/helpers/objectWithoutPropertiesLoose";
import _extends from "@babel/runtime/helpers/extends";
import { Paragraph } from '@ali/4ever-plugin-paragraph';
import { SpacingUtil, ShdUtil, defaultCompactSpacing } from '@ali/4ever-utils';
export default function getNodeStyle(props, controller, next) {
  var _docStyle$docDefaults;

  var node = props.node,
      docStyle = props.docStyle; // 仅针对表格内的普通段落做处理

  if (!Paragraph.isParagraph(node) || !controller.query('isNodeInTable', node)) return next();
  var style = {};

  var _ref = (docStyle == null ? void 0 : (_docStyle$docDefaults = docStyle.docDefaults) == null ? void 0 : _docStyle$docDefaults.data) || {},
      pPr = _ref.pPr; // 宽松间距下的段落在表格中的间距（by designer shisi）


  style = _extends({}, ShdUtil.toStyle(node), SpacingUtil.toStyle(node, pPr != null && pPr.spacing ? defaultCompactSpacing : undefined));

  var _style = style,
      lineHeight = _style.lineHeight,
      rest = _objectWithoutPropertiesLoose(_style, ["lineHeight"]);

  return rest;
}
//# sourceMappingURL=getNodeStyle.js.map