import _extends from "@babel/runtime/helpers/extends";
import { Commands } from '@ali/4ever-cangjie';
import Table from "../../mo/models";
import filterValidData from "../utils/filterValidData";
import { DEFAULT_PCT_WIDTH } from "../constants";
export default function enableAutofitWidth(controller, table, enable) {
  if (enable === void 0) {
    enable = true;
  }

  var isAutofit = Table.isAutofitWidth(table);
  if (enable === isAutofit) return controller;

  var data = _extends({}, table.data);

  if (enable) {
    data.tblW = {
      w: DEFAULT_PCT_WIDTH,
      type: 'pct'
    };
  } else {
    delete data.tblW;
  }

  return controller.command(Commands.setNodeByKey, table.key, {
    data: filterValidData(data)
  });
}
//# sourceMappingURL=enableAutofitWidth.js.map