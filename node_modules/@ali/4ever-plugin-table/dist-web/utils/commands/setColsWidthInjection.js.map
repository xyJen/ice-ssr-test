{"version":3,"sources":["../../../../src/utils/commands/setColsWidthInjection.ts"],"names":["Injection","setColsWidthInjection","controller","node","colsWidth","injections","value","curInjection","find","inj","key","injection","create","data","setInjections","filter"],"mappings":";AAAA,SAASA,SAAT,QAA4C,oBAA5C;AAEA,eAAe,SAASC,qBAAT,CAA+BC,UAA/B,EAAuDC,IAAvD,EAAmEC,SAAnE,EAAwF;AAAA,MAC7FC,UAD6F,GAC9EH,UAAU,CAACI,KADmE,CAC7FD,UAD6F;AAErG,MAAME,YAAY,GAAGF,UAAU,CAACG,IAAX,CAAgB,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,GAAJ,KAAYP,IAAI,CAACO,GAArB;AAAA,GAAnB,KAAgD,EAArE;AACA,MAAMC,SAAS,GAAGX,SAAS,CAACY,MAAV,CAAiB;AACjCF,IAAAA,GAAG,EAAEP,IAAI,CAACO,GADuB;AAEjCG,IAAAA,IAAI,eACEN,YAAY,CAACM,IAAb,IAAqB,EADvB;AAEFT,MAAAA,SAAS,EAATA;AAFE;AAF6B,GAAjB,CAAlB;AAQA,SAAOF,UAAU,CAACY,aAAX,WACFT,UAAU,CAACU,MAAX,CAAkB,UAAAN,GAAG;AAAA,WAAIA,GAAG,CAACC,GAAJ,KAAYP,IAAI,CAACO,GAArB;AAAA,GAArB,CADE,GAELC,SAFK,GAAP;AAID;AAAA","sourcesContent":["import { Injection, Controller, Node } from '@ali/4ever-cangjie';\n\nexport default function setColsWidthInjection(controller: Controller, node: Node, colsWidth: number[]) {\n  const { injections } = controller.value;\n  const curInjection = injections.find(inj => inj.key === node.key) || {} as Injection;\n  const injection = Injection.create({\n    key: node.key,\n    data: {\n      ...(curInjection.data || {}),\n      colsWidth,\n    },\n  });\n\n  return controller.setInjections([\n    ...injections.filter(inj => inj.key !== node.key),\n    injection,\n  ]);\n};\n"],"file":"setColsWidthInjection.js"}