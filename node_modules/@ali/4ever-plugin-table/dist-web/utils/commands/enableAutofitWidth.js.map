{"version":3,"sources":["../../../../src/utils/commands/enableAutofitWidth.ts"],"names":["Commands","Table","filterValidData","DEFAULT_PCT_WIDTH","enableAutofitWidth","controller","table","enable","isAutofit","isAutofitWidth","data","tblW","w","type","command","setNodeByKey","key"],"mappings":";AAAA,SAASA,QAAT,QAAqC,oBAArC;AACA,OAAOC,KAAP;AACA,OAAOC,eAAP;AACA,SAASC,iBAAT;AAEA,eAAe,SAASC,kBAAT,CACbC,UADa,EAEbC,KAFa,EAGbC,MAHa,EAIb;AAAA,MADAA,MACA;AADAA,IAAAA,MACA,GADS,IACT;AAAA;;AACA,MAAMC,SAAS,GAAGP,KAAK,CAACQ,cAAN,CAAqBH,KAArB,CAAlB;AAEA,MAAIC,MAAM,KAAKC,SAAf,EAA0B,OAAOH,UAAP;;AAE1B,MAAMK,IAAI,gBAAQJ,KAAK,CAACI,IAAd,CAAV;;AAEA,MAAIH,MAAJ,EAAY;AACVG,IAAAA,IAAI,CAACC,IAAL,GAAY;AACVC,MAAAA,CAAC,EAAET,iBADO;AAEVU,MAAAA,IAAI,EAAE;AAFI,KAAZ;AAID,GALD,MAKO;AACL,WAAOH,IAAI,CAACC,IAAZ;AACD;;AAED,SAAON,UAAU,CAACS,OAAX,CAAmBd,QAAQ,CAACe,YAA5B,EAA0CT,KAAK,CAACU,GAAhD,EAAqD;AAC1DN,IAAAA,IAAI,EAAER,eAAe,CAACQ,IAAD;AADqC,GAArD,CAAP;AAGD","sourcesContent":["import { Commands, Controller } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport filterValidData from '../utils/filterValidData';\nimport { DEFAULT_PCT_WIDTH } from '../constants';\n\nexport default function enableAutofitWidth(\n  controller: Controller,\n  table: Table,\n  enable = true,\n) {\n  const isAutofit = Table.isAutofitWidth(table);\n\n  if (enable === isAutofit) return controller;\n\n  const data = { ...table.data };\n\n  if (enable) {\n    data.tblW = {\n      w: DEFAULT_PCT_WIDTH,\n      type: 'pct',\n    };\n  } else {\n    delete data.tblW;\n  }\n\n  return controller.command(Commands.setNodeByKey, table.key, {\n    data: filterValidData(data),\n  });\n}\n"],"file":"enableAutofitWidth.js"}