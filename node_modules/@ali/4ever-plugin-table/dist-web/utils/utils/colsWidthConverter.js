import { DEFAULT_PCT_WIDTH } from "../constants";
import formatColWidth from "./formatColWidth";
export function convertFromPixelToPercent(colsWidth, containerWidth, totalPercent) {
  if (!Array.isArray(colsWidth)) return [];
  var pctColsWidth = [];
  colsWidth.reduce(function (acc, w, index) {
    // 使 colsWidth 总和为 100
    if (index === colsWidth.length - 1) {
      return pctColsWidth.push((totalPercent || DEFAULT_PCT_WIDTH) - acc);
    }

    var pct = formatColWidth(w / containerWidth * DEFAULT_PCT_WIDTH);
    pctColsWidth.push(pct);
    return acc + pct;
  }, 0);
  return pctColsWidth;
}
export function convertFromPercentToPixel(table, containerWidth) {
  var colsWidth = table.data.colsWidth;
  if (!Array.isArray(colsWidth)) return [];
  var totalW = colsWidth.reduce(function (acc, cw) {
    return acc + cw;
  }, 0);
  var pixelColsWidth = [];
  colsWidth.reduce(function (acc, cw, i) {
    if (i === colsWidth.length - 1) {
      return pixelColsWidth.push(containerWidth - acc);
    }

    var colWidth = Math.round(containerWidth * (cw / totalW));
    pixelColsWidth.push(colWidth);
    return acc + colWidth;
  }, 0);
  return pixelColsWidth;
}
//# sourceMappingURL=colsWidthConverter.js.map