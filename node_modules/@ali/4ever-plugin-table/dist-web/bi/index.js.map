{"version":3,"sources":["../../../src/bi/index.tsx"],"names":["toolbar","menubar","createOnAction","onCangjieInput","createOnKeyDown","onCangjiePaste","quickInsert","queries","createOnCangjieCopy","createOnCangjieCut","onMouseDown","createContextMenu","createRenderNode","createRenderToolbar","shouldNodeComponentUpdate","selectionTrigger","getNodeStyle","moFactory","actions","isActions","commands","contextMenu","mobileBiFactory","biFactory","configs","tableConfig","table","clipboard","renderToolbar","renderNode","onAction","onKeyDown","onCangjieCopy","onCangjieSelect","event","_","next","set","detail","trigger","onCangjieCut","models","klass","type"],"mappings":";AAGA,OAAOA,OAAP;AACA,OAAOC,OAAP;AACA,OAAOC,cAAP;AACA,OAAOC,cAAP;AACA,OAAOC,eAAP;AACA,OAAOC,cAAP;AACA,OAAOC,WAAP;AACA,OAAOC,OAAP;AACA,OAAOC,mBAAP;AACA,OAAOC,kBAAP;AACA,OAAOC,WAAP;AACA,OAAOC,iBAAP;AACA,OAAOC,gBAAP;AACA,OAAOC,mBAAP;AACA,OAAOC,yBAAP;AACA,OAAOC,gBAAP;AACA,OAAOC,YAAP;AACA,SAASC,SAAT;AACA,SAASC,OAAT,EAAkBC,SAAlB;AACA,OAAO,KAAKC,QAAZ;AAEA,IAAMC,WAAW,GAAGV,iBAAiB,EAArC;AAEA,SAASW,eAAT;AAEA,OAAO,IAAMC,SAAoB,GAAG,SAAvBA,SAAuB,CAACC,OAAD,EAAa;AAC/C,MAAMC,WAAW,GAAGD,OAAO,CAACE,KAAR,IAAiB,EAArC;AAD+C,2BAEpBF,OAFoB,CAEvCG,SAFuC;AAAA,MAEvCA,SAFuC,mCAE3B,EAF2B;AAI/C,sBACKV,SAAS,CAAC,EAAD,CADd;AAEEjB,IAAAA,OAAO,EAAEA,OAAO,CAACyB,WAAD,CAFlB;AAGEG,IAAAA,aAAa,EAAEf,mBAAmB,CAACY,WAAD,CAHpC;AAIExB,IAAAA,OAAO,EAAEA,OAAO,EAJlB;AAKE4B,IAAAA,UAAU,EAAEjB,gBAAgB,CAACY,OAAD,CAL9B;AAMEV,IAAAA,yBAAyB,EAAzBA,yBANF;AAOEM,IAAAA,QAAQ,EAARA,QAPF;AAQEF,IAAAA,OAAO,EAAPA,OARF;AASEC,IAAAA,SAAS,EAATA,SATF;AAUEW,IAAAA,QAAQ,EAAE5B,cAAc,CAACuB,WAAD,CAV1B;AAWEtB,IAAAA,cAAc,EAAdA,cAXF;AAYE4B,IAAAA,SAAS,EAAE3B,eAAe,CAACqB,WAAD,CAZ5B;AAaEO,IAAAA,aAAa,EAAExB,mBAAmB,EAbpC;AAcEyB,IAAAA,eAAe,EAAE,yBAACC,KAAD,EAA4BC,CAA5B,EAA2CC,IAA3C,EAAoD;AACnErB,MAAAA,gBAAgB,CAACsB,GAAjB,CAAqBH,KAAK,CAACI,MAAN,CAAaC,OAAlC;AACA,aAAOH,IAAI,EAAX;AACD,KAjBH;AAkBEI,IAAAA,YAAY,EAAE/B,kBAAkB,EAlBlC;AAmBEJ,IAAAA,cAAc,EAAEA,cAAc,CAACsB,SAAD,EAAqCF,WAArC,CAnBhC;AAoBEf,IAAAA,WAAW,EAAXA,WApBF;AAqBEJ,IAAAA,WAAW,EAAXA,WArBF;AAsBEC,IAAAA,OAAO,EAAPA,OAtBF;AAuBES,IAAAA,YAAY,EAAZA,YAvBF;AAwBEK,IAAAA,WAAW,EAAEA,WAAW,CAACI,WAAD,CAxB1B;AAyBEgB,IAAAA,MAAM,EAAE,CACN;AACEC,MAAAA,KAAK,EAAE,OADT;AAEEC,MAAAA,IAAI,EAAE;AAFR,KADM,EAKN;AACED,MAAAA,KAAK,EAAE,OADT;AAEEC,MAAAA,IAAI,EAAE;AAFR,KALM,EASN;AACED,MAAAA,KAAK,EAAE,OADT;AAEEC,MAAAA,IAAI,EAAE;AAFR,KATM;AAzBV;AAwCD,CA5CM","sourcesContent":["import type { BiFactory } from '@ali/4ever-cangjie';\nimport { Controller, CangjieSelectEvent } from '@ali/4ever-cangjie';\nimport { ClipboardPluginConfig } from '@ali/4ever-plugin-clipboard';\nimport toolbar from './toolbar';\nimport menubar from './menubar';\nimport createOnAction from './handlers/createOnAction';\nimport onCangjieInput from './handlers/onCangjieInput';\nimport createOnKeyDown from './handlers/createOnKeyDown';\nimport onCangjiePaste from './handlers/onCangjiePaste';\nimport quickInsert from './quickInsertConfig';\nimport queries from './queries';\nimport createOnCangjieCopy from './handlers/createOnCangjieCopy';\nimport createOnCangjieCut from './handlers/createOnCangjieCut';\nimport onMouseDown from './handlers/onMouseDown';\nimport createContextMenu from './createContextMenu';\nimport createRenderNode from './createRenderNode';\nimport createRenderToolbar from './createRenderToolbar';\nimport shouldNodeComponentUpdate from '../common/handlers/shouldNodeComponentUpdate';\nimport selectionTrigger from '../utils/utils/selectionTrigger';\nimport getNodeStyle from '../common/handlers/getNodeStyle';\nimport { moFactory } from '../mo';\nimport { actions, isActions } from './actions';\nimport * as commands from './commands';\n\nconst contextMenu = createContextMenu();\n\nexport { mobileBiFactory } from './mobile';\n\nexport const biFactory: BiFactory = (configs) => {\n  const tableConfig = configs.table || {};\n  const { clipboard = {} } = configs;\n\n  return {\n    ...moFactory({}),\n    toolbar: toolbar(tableConfig),\n    renderToolbar: createRenderToolbar(tableConfig),\n    menubar: menubar(),\n    renderNode: createRenderNode(configs),\n    shouldNodeComponentUpdate,\n    commands,\n    actions,\n    isActions,\n    onAction: createOnAction(tableConfig),\n    onCangjieInput,\n    onKeyDown: createOnKeyDown(tableConfig),\n    onCangjieCopy: createOnCangjieCopy(),\n    onCangjieSelect: (event: CangjieSelectEvent, _: Controller, next) => {\n      selectionTrigger.set(event.detail.trigger);\n      return next();\n    },\n    onCangjieCut: createOnCangjieCut(),\n    onCangjiePaste: onCangjiePaste(clipboard as ClipboardPluginConfig, tableConfig),\n    onMouseDown,\n    quickInsert,\n    queries,\n    getNodeStyle,\n    contextMenu: contextMenu(tableConfig),\n    models: [\n      {\n        klass: 'block',\n        type: 'table',\n      },\n      {\n        klass: 'block',\n        type: 'table-cell',\n      },\n      {\n        klass: 'block',\n        type: 'table-row',\n      },\n    ],\n  };\n}\n"],"file":"index.js"}