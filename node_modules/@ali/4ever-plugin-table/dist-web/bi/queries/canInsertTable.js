import { isSelectionInTableCell } from "../utils";
export function isKeyInCell(document, key) {
  var ancestors = document.getAncestors(key);
  return !!ancestors.find(function (ancestor) {
    return ancestor.type === 'table-cell';
  });
}
export default function canInsertTable(controller) {
  if (!controller) return false;
  var value = controller.value;
  var tableSelection = controller.query('hasTableSelection');

  if (tableSelection) {
    // 单元格被选中
    return false;
  }

  var selection = value.selection;
  var isCollapsedAtEdge = selection.isCollapsedAtEdge;

  try {
    return !isCollapsedAtEdge && !isSelectionInTableCell(value, {
      excludeColumns: true
    }) && !controller.query('isSelectionInLink') && !controller.query('isSelectionInMention');
  } catch (e) {
    return true;
  }
}
//# sourceMappingURL=canInsertTable.js.map