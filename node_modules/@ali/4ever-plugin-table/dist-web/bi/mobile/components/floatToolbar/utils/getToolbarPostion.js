import { TOOLBAR_ITEM_SIZE_MOBILE } from "../../../../constants";
var MIN_SPACE = 6;
var MIN_TOP_SPACE = 42; // toolbar 和表格距离（垂直方向）

var SPACE_BETWEEN_TOOLBAR_TABLE = 11; // 按钮宽 56，toolbar 左右 padding 4

var TOOLBAR_WIDTH = 56 * 5 + 4 * 2; // 按钮高 54，toolbar 上下 paading 8，divider 高 9

var TOOLBAR_HEIGHT = 54 * 2 + 8 * 2 + 9;
export var getToolbarPosition = function getToolbarPosition(params) {
  var targetRect = params.targetRect,
      toolbarType = params.toolbarType;
  var x = 0; // 将 selectionRect 纠正为表格内部工具栏 Rect

  if (toolbarType === 'row') {
    x = targetRect.left;
  } else {
    x = targetRect.left + targetRect.width / 2 - TOOLBAR_WIDTH / 2;

    if (x + TOOLBAR_WIDTH > window.innerWidth) {
      x = window.innerWidth - MIN_SPACE - TOOLBAR_WIDTH;
    }
  }

  x = Math.max(MIN_SPACE, x); // toolbar 距离顶部至少 MIN_TOP_SPACE

  var targetTop = toolbarType === 'row' ? targetRect.top : targetRect.top - TOOLBAR_ITEM_SIZE_MOBILE;
  var y = targetTop - TOOLBAR_HEIGHT - SPACE_BETWEEN_TOOLBAR_TABLE;
  var targetHeight = toolbarType === 'row' ? targetRect.height : TOOLBAR_ITEM_SIZE_MOBILE;

  if (y < MIN_TOP_SPACE) {
    y = Math.max(MIN_TOP_SPACE, targetTop + targetHeight + SPACE_BETWEEN_TOOLBAR_TABLE);
  }

  return {
    x: x,
    y: y
  };
};
//# sourceMappingURL=getToolbarPostion.js.map