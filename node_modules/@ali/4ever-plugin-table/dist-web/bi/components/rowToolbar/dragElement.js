/* eslint-disable react/no-find-dom-node */
import * as React from 'react';
var _createElement = /*#__PURE__*/React.createElement;
import styled from 'styled-components';
import { THEME, MIN_ROW_HEIGHT, TOOLBAR_ITEM_SIZE, MIN_COL_WIDTH } from "../../constants";
var HEADER_WIDTH = TOOLBAR_ITEM_SIZE;
var BackgroundLayer = /*#__PURE__*/styled.div(["position:absolute;display:", ";width:", "px;min-width:", "px;max-width:", "px;height:", "px;max-height:48px;min-height:", "px;will-change:left,top;transform:translate(-", "px,-50%);z-index:999;cursor:move;background-color:rgba(255,255,255,0.9);user-select:none;"], function (p) {
  return p.visible ? 'block' : 'none';
}, function (p) {
  return p.width;
}, MIN_COL_WIDTH + HEADER_WIDTH, 160 + HEADER_WIDTH, function (p) {
  return p.height;
}, MIN_ROW_HEIGHT, HEADER_WIDTH);
var DragWrapper = /*#__PURE__*/styled.div(["position:absolute;left:0;top:0;width:100%;height:100%;background:", ";border:1px solid ", ";"], THEME.dragBlue1, THEME.dragBlue1);
var DragHeader = /*#__PURE__*/styled.div(["height:100%;width:", "px;background-color:", ";opacity:0.5;"], HEADER_WIDTH, THEME.dragBlue0);

var _ref = /*#__PURE__*/_createElement(DragWrapper, null, /*#__PURE__*/_createElement(DragHeader, null));

var DragElement = function DragElement(props, ref) {
  var _props$visible = props.visible,
      visible = _props$visible === void 0 ? false : _props$visible,
      _props$height = props.height,
      height = _props$height === void 0 ? 0 : _props$height,
      _props$width = props.width,
      width = _props$width === void 0 ? 0 : _props$width;
  var renderHeight = visible ? height : 0; // PERF: width 是表格宽度，自适应表格宽度可能高频变化。
  // 所以在组件不渲染时，将 render width 置为常量，避免动态 styled-components

  var renderWidth = visible ? width : 0;
  return /*#__PURE__*/_createElement(BackgroundLayer, {
    ref: ref,
    visible: visible,
    height: renderHeight,
    width: renderWidth,
    "data-testid": "table-row-drag-placeholder",
    "data-visible": visible
  }, _ref);
};

export default /*#__PURE__*/React.forwardRef(DragElement);
//# sourceMappingURL=dragElement.js.map