{"version":3,"sources":["../../../../../src/bi/components/quickInsertPanel/index.tsx"],"names":["React","styled","TablePanel","getClosestContainerBlock","getInnerWidth","insertTable","Wrapper","div","props","cellSize","QuickInsertPanel","controller","close","from","handleChange","useCallback","row","col","containerBlock","value","containerWidth","run"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,wBAAT,EAAmCC,aAAnC,QAAwD,kBAAxD;AACA,SAASC,WAAT;AAOA,IAAMC,OAAO,gBAAGL,MAAM,CAACM,GAAV,qGAOA,UAAAC,KAAK;AAAA,SAAOA,KAAK,CAACC,QAAb;AAAA,CAPL,EAQC,UAAAD,KAAK;AAAA,SAAOA,KAAK,CAACC,QAAb;AAAA,CARN,CAAb;;AAYA,IAAMC,gBAA4C,GAAG,SAA/CA,gBAA+C,CAAAF,KAAK,EAAI;AAAA,MACpDG,UADoD,GACxBH,KADwB,CACpDG,UADoD;AAAA,MACxCC,KADwC,GACxBJ,KADwB,CACxCI,KADwC;AAAA,MACjCC,IADiC,GACxBL,KADwB,CACjCK,IADiC;AAG5D,MAAMC,YAAY,GAAGd,KAAK,CAACe,WAAN,CACnB,UAACC,GAAD,EAAcC,GAAd,EAA8B;AAC5B,QAAMC,cAAc,GAAGf,wBAAwB,CAACQ,UAAU,CAACQ,KAAZ,CAA/C;AACA,QAAMC,cAAc,GAAGhB,aAAa,CAACc,cAAD,CAApC;AACAN,IAAAA,KAAK;AACL,WAAOD,UAAU,CAACU,GAAX,CAAe,UAAf,EAA2BhB,WAAW,CAACW,GAAD,EAAMC,GAAN,EAAWG,cAAX,CAAtC,CAAP;AACD,GANkB,EAOnB,CAACT,UAAD,EAAaC,KAAb,CAPmB,CAArB;AAUA,sBACE,eAAC,OAAD;AAAS,IAAA,QAAQ,EAAEC,IAAI,KAAK,SAAT,GAAqB,EAArB,GAA0B;AAA7C,kBACE,eAAC,UAAD;AAAY,IAAA,GAAG,EAAE,EAAjB;AAAqB,IAAA,GAAG,EAAE,EAA1B;AAA8B,IAAA,MAAM,EAAEC;AAAtC,IADF,CADF;AAKD,CAlBD;;AAoBA,eAAeJ,gBAAf","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { TablePanel } from '@ali/we-design';\nimport { getClosestContainerBlock, getInnerWidth } from '@ali/4ever-utils';\nimport { insertTable } from '../../actions';\nimport type { PanelRenderProps } from '@ali/4ever-plugin-quickinsert';\n\ninterface WrapperProps {\n  cellSize: number;\n}\n\nconst Wrapper = styled.div<WrapperProps>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n\n  td {\n    width: ${props => `${props.cellSize}px`};\n    height: ${props => `${props.cellSize}px`};\n  }\n`;\n\nconst QuickInsertPanel: React.FC<PanelRenderProps> = props => {\n  const { controller, close, from } = props;\n\n  const handleChange = React.useCallback(\n    (row: number, col: number) => {\n      const containerBlock = getClosestContainerBlock(controller.value);\n      const containerWidth = getInnerWidth(containerBlock);\n      close();\n      return controller.run('onAction', insertTable(row, col, containerWidth));\n    },\n    [controller, close],\n  );\n\n  return (\n    <Wrapper cellSize={from === 'toolbar' ? 10 : 25}>\n      <TablePanel row={10} col={10} onPick={handleChange} />\n    </Wrapper>\n  );\n};\n\nexport default QuickInsertPanel;\n"],"file":"index.js"}