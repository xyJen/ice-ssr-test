{"version":3,"sources":["../../../../../../src/bi/components/toolbarButtons/next/tableBorderSet.tsx"],"names":["React","useCallback","TableRole","PluginRoles","setTableBorder","getTable","getTableSelection","BorderSet","lineMap","TableBorderButton","props","controller","locale","rest","value","table","selection","setBorder","layout","color","style","val","lineType","sz","size","run","tableBorder"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;qBAC4B,a;AAC5B,SAASC,SAAS,IAAIC,WAAtB;AACA,SAASC,cAAT;AACA,OAAOC,QAAP;AACA,OAAOC,iBAAP;AACA,SAA+BC,SAA/B,QAAgD,sBAAhD;AACA,SAASC,OAAT;AAQA,eAAe,SAASC,iBAAT,CAA2BC,KAA3B,EAA0D;AAAA,MAC/DC,UAD+D,GAC/BD,KAD+B,CAC/DC,UAD+D;AAAA,MACnDC,MADmD,GAC/BF,KAD+B,CACnDE,MADmD;AAAA,MACxCC,IADwC,iCAC/BH,KAD+B;;AAAA,MAE/DI,KAF+D,GAErDH,UAFqD,CAE/DG,KAF+D;AAGvE,MAAMC,KAAK,GAAGV,QAAQ,CAACS,KAAD,CAAtB;AACA,MAAME,SAAS,GAAGV,iBAAiB,CAACK,UAAD,CAAnC;AAEA,MAAMM,SAAS,GAAGhB,WAAW,CAAC,gBAA8B;AAAA,QAA3BiB,MAA2B,QAA3BA,MAA2B;AAAA,QAAnBC,KAAmB,QAAnBA,KAAmB;AAAA,QAAZC,KAAY,QAAZA,KAAY;AAC1D,QAAMC,GAAG,GAAGb,OAAO,CAACY,KAAD,CAAP,CAAeE,QAA3B;AACA,QAAMC,EAAE,GAAGf,OAAO,CAACY,KAAD,CAAP,CAAeI,IAA1B;;AACA,QAAIT,KAAJ,EAAW;AACTJ,MAAAA,UAAU,CAACc,GAAX,CAAe,UAAf,EAA2BrB,cAAc,CAACW,KAAD,EAAiBC,SAAjB,EAA4BE,MAA5B,EAAoCC,KAApC,EAA2CI,EAA3C,EAA+CF,GAA/C,CAAzC;AACD;AACF,GAN4B,EAM1B,CAACV,UAAD,EAAaI,KAAb,EAAoBC,SAApB,CAN0B,CAA7B;AASA,sBACE,eAAC,SAAD;AACE,IAAA,QAAQ,EAAEC,SADZ;AAEE,IAAA,WAAW,EAAEA,SAFf;AAGE,IAAA,IAAI,EAAEd,WAAW,CAACuB;AAHpB,KAIMb,IAJN,EADF;AAQD","sourcesContent":["import React, { useCallback } from 'react';\nimport { Block, Controller } from '@ali/4ever-cangjie';\nimport { TableRole as PluginRoles } from '../../../../utils/role';\nimport { setTableBorder } from '../../../actions';\nimport getTable from '../../../utils/getTable';\nimport getTableSelection from '../../../utils/getTableSelection';\nimport { IToolbarButtonConfig, BorderSet } from '@ali/4ever-component';\nimport { lineMap } from '../../../../utils/constants';\n\nexport interface TableBorderButtonProps extends IToolbarButtonConfig {\n  controller: Controller;\n  locale?: Record<string, string>;\n}\n\n\nexport default function TableBorderButton(props: TableBorderButtonProps) {\n  const { controller, locale, ...rest } = props;\n  const { value } = controller;\n  const table = getTable(value);\n  const selection = getTableSelection(controller);\n\n  const setBorder = useCallback(({ layout, color, style }) => {\n    const val = lineMap[style].lineType;\n    const sz = lineMap[style].size;\n    if (table) {\n      controller.run('onAction', setTableBorder(table as Block, selection, layout, color, sz, val));\n    }\n  }, [controller, table, selection]);\n\n\n  return (\n    <BorderSet\n      onChange={setBorder}\n      onLeftClick={setBorder}\n      role={PluginRoles.tableBorder}\n      {...rest}\n    />\n  );\n}\n\n\n\n"],"file":"tableBorderSet.js"}