{"version":3,"sources":["../../../../../src/bi/components/toolbarButtons/createVAlignButton.tsx"],"names":["React","IconButton","capitalize","ToolbarVerticalAlignBottomNormal","ToolbarVerticalAlignMiddleNormal","ToolbarVerticalAlignTopNormal","TableRole","PluginRoles","getVAlign","getTable","setTableCellVAlign","getTableSelection","createVAlignButton","type","VAlignButton","props","controller","locale","selection","isActive","handleMouseDown","useCallback","table","value","run","title","Button","vAlignMiddle","vAlignTop","vAlignBottom","tableVAlign"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAC5B,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,UAAT,QAA2B,WAA3B;AACA,SACEC,gCADF,EAEEC,gCAFF,EAGEC,6BAHF,QAIO,cAJP;AAKA,SAASC,SAAS,IAAIC,WAAtB;AACA,OAAOC,SAAP;AAEA,OAAOC,QAAP;AACA,SAASC,kBAAT;AACA,OAAOC,iBAAP;AAOA,eAAe,SAASC,kBAAT,CAA4BC,IAA5B,EAAiD;AAC9D,SAAO,SAASC,YAAT,CAAsBC,KAAtB,EAAqD;AAAA,QAClDC,UADkD,GAC3BD,KAD2B,CAClDC,UADkD;AAAA,QACtCC,MADsC,GAC3BF,KAD2B,CACtCE,MADsC;AAE1D,QAAMC,SAAS,GAAGP,iBAAiB,CAACK,UAAD,CAAnC;AACA,QAAMG,QAAQ,GAAGX,SAAS,CAACQ,UAAD,CAAT,KAA0BH,IAA3C;AAEA,QAAMO,eAAe,GAAGpB,KAAK,CAACqB,WAAN,CAAkB,YAAM;AAC9C,UAAMC,KAAK,GAAGb,QAAQ,CAACO,UAAU,CAACO,KAAZ,CAAtB;AACAP,MAAAA,UAAU,CAACQ,GAAX,CAAe,UAAf,EAA2Bd,kBAAkB,CAACY,KAAD,EAAQJ,SAAR,EAAmBL,IAAnB,CAA7C;AACD,KAHuB,EAGrB,CAACG,UAAD,EAAaE,SAAb,CAHqB,CAAxB;AAKA,QAAIO,KAAyB,GAAG,EAAhC;AACA,QAAIC,MAAJ;;AACA,YAAQb,IAAR;AACE,WAAK,QAAL;AACEa,QAAAA,MAAM,GAAGtB,gCAAT;AACAqB,QAAAA,KAAK,GAAGR,MAAH,oBAAGA,MAAM,CAAEU,YAAhB;AACA;;AACF,WAAK,KAAL;AACED,QAAAA,MAAM,GAAGrB,6BAAT;AACAoB,QAAAA,KAAK,GAAGR,MAAH,oBAAGA,MAAM,CAAEW,SAAhB;AACA;;AACF,WAAK,QAAL;AACEF,QAAAA,MAAM,GAAGvB,gCAAT;AACAsB,QAAAA,KAAK,GAAGR,MAAH,oBAAGA,MAAM,CAAEY,YAAhB;AACA;;AACF;AACEH,QAAAA,MAAM,GAAGrB,6BAAT;AACA;AAfJ;;AAiBA,wBACE,eAAC,UAAD;AACE,MAAA,MAAM,EAAEc,QADV;AAEE,MAAA,IAAI,eAAE,eAAC,MAAD,OAFR;AAGE,MAAA,KAAK,EAAEM,KAHT;AAIE,MAAA,OAAO,EAAEA,KAJX;AAKE,MAAA,MAAM,EAAC,yBALT;AAME,MAAA,IAAI,OAAKlB,WAAW,CAACuB,WAAjB,GAA+B5B,UAAU,CAACW,IAAD,CAN/C;AAOE,MAAA,OAAO,EAAEO;AAPX,MADF;AAWD,GAxCD;AAyCD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { IconButton } from '@ali/we-toolbar';\nimport { capitalize } from 'lodash-es';\nimport {\n  ToolbarVerticalAlignBottomNormal,\n  ToolbarVerticalAlignMiddleNormal,\n  ToolbarVerticalAlignTopNormal,\n} from '@ali/we-icon';\nimport { TableRole as PluginRoles } from '../../../utils/role';\nimport getVAlign from '../../utils/getVAlign';\nimport { TableLocale, VerticalAlign } from '../../types';\nimport getTable from '../../utils/getTable';\nimport { setTableCellVAlign } from '../../actions';\nimport getTableSelection from '../../utils/getTableSelection';\n\nexport interface TableVAlignButtonProps {\n  controller: Controller;\n  locale?: TableLocale;\n}\n\nexport default function createVAlignButton(type: VerticalAlign) {\n  return function VAlignButton(props: TableVAlignButtonProps) {\n    const { controller, locale } = props;\n    const selection = getTableSelection(controller);\n    const isActive = getVAlign(controller) === type;\n\n    const handleMouseDown = React.useCallback(() => {\n      const table = getTable(controller.value);\n      controller.run('onAction', setTableCellVAlign(table, selection, type));\n    }, [controller, selection]);\n\n    let title: string | undefined = '';\n    let Button: React.FC;\n    switch (type) {\n      case 'middle':\n        Button = ToolbarVerticalAlignMiddleNormal;\n        title = locale?.vAlignMiddle;\n        break;\n      case 'top':\n        Button = ToolbarVerticalAlignTopNormal;\n        title = locale?.vAlignTop;\n        break;\n      case 'bottom':\n        Button = ToolbarVerticalAlignBottomNormal;\n        title = locale?.vAlignBottom;\n        break;\n      default:\n        Button = ToolbarVerticalAlignTopNormal;\n        break;\n    }\n    return (\n      <IconButton\n        active={isActive}\n        icon={<Button />}\n        title={title}\n        tooltip={title}\n        testid=\"bi-toolbar-table-valign\"\n        role={`${PluginRoles.tableVAlign}${capitalize(type)}`}\n        onClick={handleMouseDown}\n      />\n    );\n  };\n}\n"],"file":"createVAlignButton.js"}