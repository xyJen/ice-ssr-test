import React from 'react';
var _createElement = /*#__PURE__*/React.createElement;
import TableWidthFitContainerButton from "../cornerToolbar/tableWidthFitContainerButton";
import { resizeTableWidthFitContainer } from "../../actions";
import getTableSelection from "../../utils/getTableSelection";
import { isTable } from "../../types";
export default function TableFitWidthButton(props) {
  var controller = props.controller,
      locale = props.locale;
  var selection = getTableSelection(controller);
  if (!selection) return null;
  var node = controller.value.document.getNode(selection.key);
  if (!(node && isTable(node))) return null;

  var handleMenuEvent = function handleMenuEvent() {
    controller.run('onAction', resizeTableWidthFitContainer(node));
  };

  if (controller.query('isSelectWholeTable', {
    node: node
  })) {
    return /*#__PURE__*/_createElement(TableWidthFitContainerButton, {
      locale: locale,
      onMenuEvent: handleMenuEvent
    });
  }

  return null;
}

TableFitWidthButton.needRender = function (controller) {
  var selection = getTableSelection(controller);
  if (!selection) return false;
  var node = controller.value.document.getNode(selection.key);
  if (!(node && isTable(node))) return false;
  return controller.query('isSelectWholeTable', {
    node: node
  });
};
//# sourceMappingURL=tableFitWidthButton.js.map