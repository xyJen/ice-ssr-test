{"version":3,"sources":["../../../../src/bi/components/dragButtonIcon.tsx"],"names":["React","styled","MODECONFIG","col","height","width","row","DragIconMode","CircleIcon","span","DragButtonIconWrapper","div","DragButtonIcon","props","ref","scale","mode","isShow","circleNumber","config","Col","circles","useMemo","result","i","style","push","flexDirection","opacity","forwardRef"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,OAAOC,MAAP,MAAmB,mBAAnB,C,CAEA;;AACA,IAAMC,UAAU,GAAG;AACjBC,EAAAA,GAAG,EAAE;AACHC,IAAAA,MAAM,EAAE,CADL;AAEHC,IAAAA,KAAK,EAAE;AAFJ,GADY;AAKjBC,EAAAA,GAAG,EAAE;AACHF,IAAAA,MAAM,EAAE,EADL;AAEHC,IAAAA,KAAK,EAAE;AAFJ;AALY,CAAnB,C,CAWA;;AACA,WAAYE,YAAZ;;WAAYA,Y;AAAAA,EAAAA,Y;AAAAA,EAAAA,Y;GAAAA,Y,KAAAA,Y;;AAKZ,IAAMC,UAAU,gBAAGP,MAAM,CAACQ,IAAV,sFAAhB;AAQA,IAAMC,qBAAqB,gBAAGT,MAAM,CAACU,GAAV,wGAA3B;;AAcA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CACrBC,KADqB,EAErBC,GAFqB,EAGlB;AAAA,MACKC,KADL,GACsDF,KADtD,CACKE,KADL;AAAA,MACYC,IADZ,GACsDH,KADtD,CACYG,IADZ;AAAA,sBACsDH,KADtD,CACkBI,MADlB;AAAA,MACkBA,MADlB,8BAC2B,IAD3B;AAAA,4BACsDJ,KADtD,CACiCK,YADjC;AAAA,MACiCA,YADjC,oCACgD,CADhD;AAGH,MAAMC,MAAM,GAAGH,IAAI,KAAKT,YAAY,CAACa,GAAtB,GAA4BlB,UAAU,CAACC,GAAvC,GAA6CD,UAAU,CAACI,GAAvE;AACA,MAAMe,OAAO,GAAGrB,KAAK,CAACsB,OAAN,CAAc,YAAM;AAClC,QAAMC,MAA6B,GAAG,EAAtC;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,YAApB,EAAkCM,CAAC,EAAnC,EAAuC;AACrC,UAAMC,MAAK,GAAG;AACZpB,QAAAA,KAAK,EAAK,IAAIU,KAAT,OADO;AAEZX,QAAAA,MAAM,EAAK,IAAIW,KAAT;AAFM,OAAd;AAIAQ,MAAAA,MAAM,CAACG,IAAP,eAAY,eAAC,UAAD;AAAY,QAAA,GAAG,EAAEF,CAAjB;AAAoB,QAAA,KAAK,EAAEC;AAA3B,QAAZ;AACD;;AACD,WAAOF,MAAP;AACD,GAVe,EAUb,CAACL,YAAD,EAAeH,KAAf,CAVa,CAAhB;AAYA,MAAMU,KAA0B,GAAGzB,KAAK,CAACsB,OAAN,CAAc,YAAM;AACrD,WAAO;AACLK,MAAAA,aAAa,EAAEX,IAAI,KAAKT,YAAY,CAACa,GAAtB,GAA4B,KAA5B,GAAoC,QAD9C;AAELQ,MAAAA,OAAO,EAAEX,MAAM,GAAG,CAAH,GAAO,CAFjB;AAGLb,MAAAA,MAAM,EAAKe,MAAM,CAACf,MAAP,GAAgBW,KAArB,OAHD;AAILV,MAAAA,KAAK,EAAKc,MAAM,CAACd,KAAP,GAAeU,KAApB;AAJA,KAAP;AAMD,GAPkC,EAOhC,CAACI,MAAM,CAACf,MAAR,EAAgBe,MAAM,CAACd,KAAvB,EAA8BY,MAA9B,EAAsCD,IAAtC,EAA4CD,KAA5C,CAPgC,CAAnC;AASA,sBACE,eAAC,qBAAD;AACE,IAAA,GAAG,EAAED,GADP;AAEE,IAAA,KAAK,EAAEW;AAFT,KAIGJ,OAJH,CADF;AAQD,CApCD;;AAsCA,4BAAerB,KAAK,CAAC6B,UAAN,CAAiBjB,cAAjB,CAAf","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\n\n// icon不同模式下的配置，比如宽高\nconst MODECONFIG = {\n  col: {\n    height: 9,\n    width: 14,\n  },\n  row: {\n    height: 14,\n    width: 9,\n  },\n};\n\n// row、col分别对应行列拖拽工具栏下的模式\nexport enum DragIconMode {\n  Row = 'row',\n  Col = 'col',\n}\n\nconst CircleIcon = styled.span`\n  display: inline-block;\n  width: 2px;\n  height: 2px;\n  background: #FFFFFF;\n  border-radius: 100%;\n`;\n\nconst DragButtonIconWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: opacity ease-in-out .25s;\n`;\n\ninterface IconProps {\n  scale: number;\n  mode: DragIconMode; // icon展示模式\n  circleNumber?: number; // 圆点数量\n  isShow?: boolean;\n}\n\nconst DragButtonIcon = (\n  props: IconProps,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const { scale, mode, isShow = true, circleNumber = 3 } = props;\n\n  const config = mode === DragIconMode.Col ? MODECONFIG.col : MODECONFIG.row;\n  const circles = React.useMemo(() => {\n    const result: React.ReactElement [] = [];\n    for (let i = 0; i < circleNumber; i++) {\n      const style = {\n        width: `${2 / scale}px`,\n        height: `${2 / scale}px`,\n      };\n      result.push(<CircleIcon key={i} style={style} />);\n    }\n    return result;\n  }, [circleNumber, scale]);\n\n  const style: React.CSSProperties = React.useMemo(() => {\n    return {\n      flexDirection: mode === DragIconMode.Col ? 'row' : 'column',\n      opacity: isShow ? 1 : 0,\n      height: `${config.height / scale}px`,\n      width: `${config.width / scale}px`,\n    };\n  }, [config.height, config.width, isShow, mode, scale]);\n\n  return (\n    <DragButtonIconWrapper\n      ref={ref}\n      style={style}\n    >\n      {circles}\n    </DragButtonIconWrapper>\n  );\n};\n\nexport default React.forwardRef(DragButtonIcon);\n"],"file":"dragButtonIcon.js"}