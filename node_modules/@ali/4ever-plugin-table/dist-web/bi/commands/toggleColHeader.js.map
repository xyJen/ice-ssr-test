{"version":3,"sources":["../../../../src/bi/commands/toggleColHeader.ts"],"names":["Commands","updateTableStyle","toggleColHeader","controller","table","tablePath","value","document","getPath","key","tableData","data","command","setNodeByPath","isColumnHeader","newTable","getNode"],"mappings":";AAAA,SAASA,QAAT,QAAqC,oBAArC;AAEA,OAAOC,gBAAP;AAEA,eAAe,SAASC,eAAT,CAAyBC,UAAzB,EAAiDC,KAAjD,EAA+D;AAC5E,MAAMC,SAAS,GAAGF,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0BC,OAA1B,CAAkCJ,KAAK,CAACK,GAAxC,CAAlB;AACA,MAAI,CAACJ,SAAL,EAAgB,OAAOF,UAAP;AAEhB,MAAMO,SAAS,GAAGN,KAAK,CAACO,IAAN,IAAc,EAAhC;AAEAR,EAAAA,UAAU,CAACS,OAAX,CAAmBZ,QAAQ,CAACa,aAA5B,EAA2CR,SAA3C,EAAsD;AACpDM,IAAAA,IAAI,eACCD,SADD;AAEFI,MAAAA,cAAc,EAAE,CAACJ,SAAS,CAACI;AAFzB;AADgD,GAAtD;AAMA,MAAMC,QAAQ,GAAGZ,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0BS,OAA1B,CAAkCZ,KAAK,CAACK,GAAxC,CAAjB;AACA,SAAOR,gBAAgB,CAACE,UAAD,EAAaY,QAAb,CAAvB;AACD","sourcesContent":["import { Commands, Controller } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport updateTableStyle from './updateTableStyle';\n\nexport default function toggleColHeader(controller: Controller, table: Table) {\n  const tablePath = controller.value.document.getPath(table.key);\n  if (!tablePath) return controller;\n\n  const tableData = table.data || {};\n\n  controller.command(Commands.setNodeByPath, tablePath, {\n    data: {\n      ...tableData,\n      isColumnHeader: !tableData.isColumnHeader,\n    },\n  });\n  const newTable = controller.value.document.getNode(table.key) as Table;\n  return updateTableStyle(controller, newTable);\n}\n"],"file":"toggleColHeader.js"}