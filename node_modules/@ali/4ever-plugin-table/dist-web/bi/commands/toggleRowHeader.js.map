{"version":3,"sources":["../../../../src/bi/commands/toggleRowHeader.ts"],"names":["Commands","updateTableStyle","toggleRowHeader","controller","table","tablePath","value","document","getPath","key","firstRow","nodes","rowData","data","command","setNodeByPath","isTblHeader","newTable","getNode"],"mappings":";AAAA,SAASA,QAAT,QAAqC,oBAArC;AAEA,OAAOC,gBAAP;AAEA,eAAe,SAASC,eAAT,CAAyBC,UAAzB,EAAiDC,KAAjD,EAA+D;AAC5E,MAAMC,SAAS,GAAGF,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0BC,OAA1B,CAAkCJ,KAAK,CAACK,GAAxC,CAAlB;AACA,MAAI,CAACJ,SAAL,EAAgB,OAAOF,UAAP;AAEhB,MAAMO,QAAQ,GAAGN,KAAK,CAACO,KAAN,CAAY,CAAZ,CAAjB;AAEA,MAAI,CAACD,QAAL,EAAe,OAAOP,UAAP;AAEf,MAAMS,OAAO,GAAGF,QAAQ,CAACG,IAAT,IAAiB,EAAjC;AAEAV,EAAAA,UAAU,CAACW,OAAX,CAAmBd,QAAQ,CAACe,aAA5B,YAA+CV,SAA/C,GAA0D,CAA1D,IAA8D;AAC5DQ,IAAAA,IAAI,eACCD,OADD;AAEFI,MAAAA,WAAW,EAAE,CAACJ,OAAO,CAACI;AAFpB;AADwD,GAA9D;AAOA,MAAMC,QAAQ,GAAGd,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0BW,OAA1B,CAAkCd,KAAK,CAACK,GAAxC,CAAjB;AACA,SAAOR,gBAAgB,CAACE,UAAD,EAAac,QAAb,CAAvB;AACD","sourcesContent":["import { Commands, Controller } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport updateTableStyle from './updateTableStyle';\n\nexport default function toggleRowHeader(controller: Controller, table: Table) {\n  const tablePath = controller.value.document.getPath(table.key);\n  if (!tablePath) return controller;\n\n  const firstRow = table.nodes[0];\n\n  if (!firstRow) return controller;\n\n  const rowData = firstRow.data || {};\n\n  controller.command(Commands.setNodeByPath, [...tablePath, 0], {\n    data: {\n      ...rowData,\n      isTblHeader: !rowData.isTblHeader,\n    },\n  });\n\n  const newTable = controller.value.document.getNode(table.key) as Table;\n  return updateTableStyle(controller, newTable);\n}\n"],"file":"toggleRowHeader.js"}