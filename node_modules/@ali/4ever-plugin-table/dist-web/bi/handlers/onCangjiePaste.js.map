{"version":3,"sources":["../../../../src/bi/handlers/onCangjiePaste.ts"],"names":["handleCangjiePaste","PasteMode","createOnCangjiePaste","clipboard","tableConfig","onCangjiePaste","event","controller","next","clipboardData","query","fragment","getFragment","text","mode"],"mappings":"AACA,SAASA,kBAAT;AAEA,SAAgCC,SAAhC,QAAiD,6BAAjD;AAEA,eAAe,SAASC,oBAAT,CACbC,SADa,EAEbC,WAFa,EAGa;AAC1B,SAAO,SAASC,cAAT,CAAwBC,KAAxB,EAA+BC,UAA/B,EAAuDC,IAAvD,EAA6D;AAClE,QAAMC,aAAa,GAAGF,UAAU,CAACG,KAAX,CAAiB,kBAAjB,EAAqCJ,KAArC,CAAtB;AAEA,QAAMK,QAAQ,GAAGF,aAAH,oBAAGA,aAAa,CAAEG,WAAf,EAAjB;AACA,QAAI,CAACD,QAAD,IAAaV,SAAS,CAACY,IAAV,KAAmBV,SAAS,CAACW,IAA9C,EAAoD,OAAON,IAAI,EAAX;AAEpD,WAAOR,kBAAkB,CACvBO,UADuB,EAEvB;AACEI,MAAAA,QAAQ,EAARA,QADF;AAEEP,MAAAA,WAAW,EAAXA;AAFF,KAFuB,EAMvBI,IANuB,CAAzB;AAQD,GAdD;AAeD","sourcesContent":["import { Controller, Plugin } from '@ali/4ever-cangjie';\nimport { handleCangjiePaste } from '../utils';\nimport { TableConfig } from '../types';\nimport { ClipboardPluginConfig, PasteMode } from '@ali/4ever-plugin-clipboard';\n\nexport default function createOnCangjiePaste(\n  clipboard: Partial<ClipboardPluginConfig>,\n  tableConfig: TableConfig,\n): Plugin['onCangjiePaste'] {\n  return function onCangjiePaste(event, controller: Controller, next) {\n    const clipboardData = controller.query('getClipboardData', event);\n\n    const fragment = clipboardData?.getFragment();\n    if (!fragment || PasteMode.text === clipboard.mode) return next();\n\n    return handleCangjiePaste(\n      controller,\n      {\n        fragment,\n        tableConfig,\n      },\n      next,\n    );\n  };\n}\n"],"file":"onCangjiePaste.js"}