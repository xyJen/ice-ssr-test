{"version":3,"sources":["../../../../src/bi/utils/scrollContainer.ts"],"names":["throttle","AUTO_SCROLL_THRESHOLD","AUTO_SCROLL_HEIGHT","AUTO_SCROLL_WIDTH","VERTICAL_THRESHOLD","HORIZOTAL_THRESHOLD","scrollVertical","y","container","undefined","Window","getBoundingClientRect","top","bottom","window","innerHeight","scrollTop","scrollVerticalContainer","leading","scrollHorizontal","x","left","right","innerWidth","scrollLeft","scrollHorizontalContainer"],"mappings":"AAAA,SAASA,QAAT,QAAyB,WAAzB;AAEA,IAAMC,qBAAqB,GAAG,IAA9B;AACA,IAAMC,kBAAkB,GAAG,EAA3B;AACA,IAAMC,iBAAiB,GAAG,EAA1B;AAEA,IAAMC,kBAAkB,GAAG,EAA3B;AAEA,IAAMC,mBAAmB,GAAG,EAA5B;;AAEA,SAASC,cAAT,CACEC,CADF,EAEEC,SAFF,EAGE;AACA;AACA,MACED,CAAC,KAAKE,SAAN,IACA,CAACD,SADD,IAEAA,SAAS,YAAYE,MAFrB,IAGA,CAACF,SAAS,CAACG,qBAJb,EAKE;AACA;AACD;;AATD,8BAWwBH,SAAS,CAACG,qBAAV,EAXxB;AAAA,MAWQC,GAXR,yBAWQA,GAXR;AAAA,MAWaC,MAXb,yBAWaA,MAXb;;AAaA,MACEN,CAAC,GAAGK,GAAG,GAAGR,kBAAV,IACAG,CAAC,GAAGO,MAAM,CAACC,WAAP,GAAqBd,qBAF3B,EAEkD;AAChD;AACAO,IAAAA,SAAS,CAACQ,SAAV,IAAuBd,kBAAvB;AACD,GALD,MAKO,IACLK,CAAC,GAAGM,MAAM,GAAGT,kBAAb,IACAG,CAAC,GAAGO,MAAM,CAACC,WAAP,IAAsB,IAAId,qBAA1B,CAFC,EAGL;AACA;AACAO,IAAAA,SAAS,CAACQ,SAAV,IAAuBd,kBAAvB;AACD;AACF;;AAED,OAAO,IAAMe,uBAAuB,GAClCjB,QAAQ,CAACM,cAAD,EAAiB,GAAjB,EAAsB;AAAEY,EAAAA,OAAO,EAAE;AAAX,CAAtB,CADH;AAGP,OAAO,SAASC,gBAAT,CACLC,CADK,EAELZ,SAFK,EAGL;AACA,MACEY,CAAC,KAAKX,SAAN,IACA,CAACD,SADD,IAEAA,SAAS,YAAYE,MAFrB,IAGA,CAACF,SAAS,CAACG,qBAJb,EAKE;AACA;AACD;;AARD,+BAUwBH,SAAS,CAACG,qBAAV,EAVxB;AAAA,MAUQU,IAVR,0BAUQA,IAVR;AAAA,MAUcC,KAVd,0BAUcA,KAVd;;AAWA,MACEF,CAAC,GAAGC,IAAI,GAAGhB,mBAAX,IACAe,CAAC,GAAGN,MAAM,CAACS,UAAP,GAAoBtB,qBAF1B,EAGE;AACAO,IAAAA,SAAS,CAACgB,UAAV,IAAwBrB,iBAAxB;AACD,GALD,MAKO,IACLiB,CAAC,GAAGE,KAAK,GAAGjB,mBAAZ,IACAe,CAAC,GAAGN,MAAM,CAACS,UAAP,IAAqB,IAAItB,qBAAzB,CAFC,EAGL;AACAO,IAAAA,SAAS,CAACgB,UAAV,IAAwBrB,iBAAxB;AACD;AACF;AAED,OAAO,IAAMsB,yBAAyB,GACpCzB,QAAQ,CAACmB,gBAAD,EAAmB,GAAnB,EAAwB;AAAED,EAAAA,OAAO,EAAE;AAAX,CAAxB,CADH","sourcesContent":["import { throttle } from 'lodash-es';\n\nconst AUTO_SCROLL_THRESHOLD = 0.05;\nconst AUTO_SCROLL_HEIGHT = 20;\nconst AUTO_SCROLL_WIDTH = 20;\n\nconst VERTICAL_THRESHOLD = 20;\n\nconst HORIZOTAL_THRESHOLD = 20;\n\nfunction scrollVertical(\n  y: number | undefined,\n  container?: Window | HTMLElement | null,\n) {\n  // @ts-ignore\n  if (\n    y === undefined ||\n    !container ||\n    container instanceof Window ||\n    !container.getBoundingClientRect\n  ) {\n    return;\n  }\n\n  const { top, bottom } = container.getBoundingClientRect();\n\n  if (\n    y < top + VERTICAL_THRESHOLD ||\n    y < window.innerHeight * AUTO_SCROLL_THRESHOLD) {\n    // @ts-ignore\n    container.scrollTop -= AUTO_SCROLL_HEIGHT;\n  } else if (\n    y > bottom - VERTICAL_THRESHOLD ||\n    y > window.innerHeight * (1 - AUTO_SCROLL_THRESHOLD)\n  ) {\n    // @ts-ignore\n    container.scrollTop += AUTO_SCROLL_HEIGHT;\n  }\n}\n\nexport const scrollVerticalContainer =\n  throttle(scrollVertical, 100, { leading: true });\n\nexport function scrollHorizontal(\n  x: number,\n  container: Window | HTMLElement | null,\n) {\n  if (\n    x === undefined ||\n    !container ||\n    container instanceof Window ||\n    !container.getBoundingClientRect\n  ) {\n    return;\n  }\n\n  const { left, right } = container.getBoundingClientRect();\n  if (\n    x < left + HORIZOTAL_THRESHOLD ||\n    x < window.innerWidth * AUTO_SCROLL_THRESHOLD\n  ) {\n    container.scrollLeft -= AUTO_SCROLL_WIDTH;\n  } else if (\n    x > right - HORIZOTAL_THRESHOLD ||\n    x > window.innerWidth * (1 - AUTO_SCROLL_THRESHOLD)\n  ) {\n    container.scrollLeft += AUTO_SCROLL_WIDTH;\n  }\n}\n\nexport const scrollHorizontalContainer =\n  throttle(scrollHorizontal, 100, { leading: true });\n"],"file":"scrollContainer.js"}