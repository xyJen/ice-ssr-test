{"version":3,"sources":["../../../../src/bi/utils/traverseAffectedColCells.ts"],"names":["traverseAffectedColCells","table","targetColIndex","callback","rowIndex","nodes","length","row","colIndex","cell","hidden","data","colSpan"],"mappings":"AAGA,eAAe,SAASA,wBAAT,CACbC,KADa,EAEbC,cAFa,EAGbC,QAHa,EAIb;AACA,OAAK,IAAIC,SAAQ,GAAG,CAApB,EAAuBA,SAAQ,GAAGH,KAAK,CAACI,KAAN,CAAYC,MAA9C,EAAsDF,SAAQ,IAAI,CAAlE,EAAqE;AACnE,QAAMG,GAAG,GAAGN,KAAK,CAACI,KAAN,CAAYD,SAAZ,CAAZ;;AACA,SAAK,IAAII,SAAQ,GAAG,CAApB,EAAuBA,SAAQ,GAAGN,cAAlC,EAAkDM,SAAQ,IAAI,CAA9D,EAAiE;AAC/D,UAAMC,KAAI,GAAGF,GAAG,CAACF,KAAJ,CAAUG,SAAV,CAAb;;AACA,UAAIC,KAAJ,EAAU;AAAE;AACV,YAAMC,MAAM,GAAGD,KAAI,CAACE,IAAL,CAAUD,MAAV,IAAoB,KAAnC;AACA,YAAME,OAAO,GAAGH,KAAI,CAACE,IAAL,CAAUC,OAAV,IAAqB,CAArC;;AACA,YAAI,CAACF,MAAD,IAAWF,SAAQ,GAAGI,OAAX,GAAqB,CAArB,IAA0BV,cAAzC,EAAyD;AACvDC,UAAAA,QAAQ,CAACC,SAAD,EAAWI,SAAX,EAAqBC,KAArB,CAAR;AACD;AACF;AACF;AACF;AACF","sourcesContent":["import Table from '../../mo/models';\nimport TableCell from '../../mo/models/tableCell';\n\nexport default function traverseAffectedColCells(\n  table: Table,\n  targetColIndex: number,\n  callback: (rowIndex: number, colIndex: number, cell: TableCell) => void,\n) {\n  for (let rowIndex = 0; rowIndex < table.nodes.length; rowIndex += 1) {\n    const row = table.nodes[rowIndex];\n    for (let colIndex = 0; colIndex < targetColIndex; colIndex += 1) {\n      const cell = row.nodes[colIndex];\n      if (cell) { // 判断cell是否存在\n        const hidden = cell.data.hidden || false;\n        const colSpan = cell.data.colSpan || 1;\n        if (!hidden && colIndex + colSpan - 1 >= targetColIndex) {\n          callback(rowIndex, colIndex, cell);\n        }\n      }\n    }\n  }\n}\n"],"file":"traverseAffectedColCells.js"}