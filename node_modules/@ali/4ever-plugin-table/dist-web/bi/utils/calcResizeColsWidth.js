import { MIN_COL_WIDTH } from "../constants";
import resizeTable from "../utils/resizeTable";
export default function calcResizeColsWidth(controller, table, delta, maxWidth) {
  var colsWidth = [].concat(table.data.colsWidth || []);
  var originalTotalWidth = colsWidth.reduce(function (acc, curr) {
    return acc + curr;
  }, 0);
  var expectTotalWidth = Math.min(originalTotalWidth + delta, maxWidth || Infinity);
  var limitColWidths = colsWidth.map(function (_, i) {
    if (delta >= 0) {
      return MIN_COL_WIDTH;
    }

    var _ref = controller.query('calcMinTableColWidth', {
      node: table,
      colIndex: i
    }) || {},
        limitWidth = _ref.width;

    return typeof limitWidth === 'number' ? limitWidth : MIN_COL_WIDTH;
  });
  var resultColsWidth = resizeTable(colsWidth, expectTotalWidth, limitColWidths);
  return resultColsWidth;
}
//# sourceMappingURL=calcResizeColsWidth.js.map