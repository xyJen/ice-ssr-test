{"version":3,"sources":["../../../../src/bi/utils/getVAlign.ts"],"names":["Block","DEFAULT_TABLE_ALIGNMENT","getTable","getTableSelection","getVAlign","controller","value","table","selection","vAlign","startRowIndex","startColIndex","tablePath","document","getPath","key","cellPath","cell","getNodeByPath","isBlock","payload","data"],"mappings":"AAAA,SAASA,KAAT,QAAkC,oBAAlC;AACA,SAASC,uBAAT;AACA,OAAOC,QAAP;AACA,OAAOC,iBAAP;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,UAAD,EAA4B;AAAA,MACpCC,KADoC,GAC1BD,UAD0B,CACpCC,KADoC;AAE5C,MAAMC,KAAK,GAAGL,QAAQ,CAACI,KAAD,CAAtB;AACA,MAAME,SAAS,GAAGL,iBAAiB,CAACE,UAAD,CAAnC;AACA,MAAII,MAAM,GAAGR,uBAAb;;AACA,MAAIO,SAAS,IAAID,KAAjB,EAAwB;AAAA,QACdG,aADc,GACmBF,SADnB,CACdE,aADc;AAAA,QACCC,aADD,GACmBH,SADnB,CACCG,aADD;AAGtB,QAAMC,SAAS,GAAGN,KAAK,CAACO,QAAN,CAAeC,OAAf,CAAuBP,KAAK,CAACQ,GAA7B,CAAlB;AACA,QAAMC,QAAQ,aAAOJ,SAAP,GAAkBF,aAAlB,EAAiCC,aAAjC,EAAd;AACA,QAAMM,IAAI,GAAGX,KAAK,CAACO,QAAN,CAAeK,aAAf,CAA6BF,QAA7B,CAAb;;AACA,QAAIhB,KAAK,CAACmB,OAAN,CAAcF,IAAd,CAAJ,EAAyB;AACvB,UAAMG,OAAO,GAAGH,IAAI,CAACI,IAArB;;AACA,UAAID,OAAO,IAAIA,OAAO,CAACX,MAAvB,EAA+B;AAC7BA,QAAAA,MAAM,GAAGW,OAAO,CAACX,MAAjB;AACD;AACF;AACF;;AACD,SAAOA,MAAP;AACD,CAnBD;;AAqBA,eAAeL,SAAf","sourcesContent":["import { Block, Controller } from '@ali/4ever-cangjie';\nimport { DEFAULT_TABLE_ALIGNMENT } from '../constants';\nimport getTable from './getTable';\nimport getTableSelection from './getTableSelection';\n\nconst getVAlign = (controller: Controller) => {\n  const { value } = controller;\n  const table = getTable(value);\n  const selection = getTableSelection(controller);\n  let vAlign = DEFAULT_TABLE_ALIGNMENT;\n  if (selection && table) {\n    const { startRowIndex, startColIndex } = selection;\n\n    const tablePath = value.document.getPath(table.key)!;\n    const cellPath = [...tablePath, startRowIndex, startColIndex];\n    const cell = value.document.getNodeByPath(cellPath);\n    if (Block.isBlock(cell)) {\n      const payload = cell.data;\n      if (payload && payload.vAlign) {\n        vAlign = payload.vAlign;\n      }\n    }\n  }\n  return vAlign;\n};\n\nexport default getVAlign;\n"],"file":"getVAlign.js"}