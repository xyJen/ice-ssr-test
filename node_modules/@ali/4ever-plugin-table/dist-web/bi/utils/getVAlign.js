import { Block } from '@ali/4ever-cangjie';
import { DEFAULT_TABLE_ALIGNMENT } from "../constants";
import getTable from "./getTable";
import getTableSelection from "./getTableSelection";

var getVAlign = function getVAlign(controller) {
  var value = controller.value;
  var table = getTable(value);
  var selection = getTableSelection(controller);
  var vAlign = DEFAULT_TABLE_ALIGNMENT;

  if (selection && table) {
    var startRowIndex = selection.startRowIndex,
        startColIndex = selection.startColIndex;
    var tablePath = value.document.getPath(table.key);
    var cellPath = [].concat(tablePath, [startRowIndex, startColIndex]);
    var cell = value.document.getNodeByPath(cellPath);

    if (Block.isBlock(cell)) {
      var payload = cell.data;

      if (payload && payload.vAlign) {
        vAlign = payload.vAlign;
      }
    }
  }

  return vAlign;
};

export default getVAlign;
//# sourceMappingURL=getVAlign.js.map