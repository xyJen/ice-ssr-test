{"version":3,"sources":["../../../../src/bi/utils/isSelectionInTable.ts"],"names":["isTable","isSelectionInTable","value","configs","document","selection","start","getStart","table","getClosest","key","excludeColumns","data","sr"],"mappings":"AAEA,SAASA,OAAT;AAMA,eAAe,SAASC,kBAAT,CAA4BC,KAA5B,EAA0CC,OAA1C,EAA6D;AAAA,MAClEC,QADkE,GAC1CF,KAD0C,CAClEE,QADkE;AAAA,MACxDC,SADwD,GAC1CH,KAD0C,CACxDG,SADwD;;AAE1E,MAAI,CAACA,SAAL,EAAgB;AACd,WAAO,KAAP;AACD;;AACD,MAAMC,KAAK,GAAGD,SAAS,CAACE,QAAV,CAAmBH,QAAnB,CAAd;AACA,MAAMI,KAAK,GAAGJ,QAAQ,CAACK,UAAT,CAAoBH,KAAK,CAACI,GAA1B,EAA+BV,OAA/B,CAAd;;AACA,MAAI,CAACQ,KAAL,EAAY;AACV,WAAO,KAAP;AACD;;AACD,MAAIA,KAAK,IAAIL,OAAJ,YAAIA,OAAO,CAAEQ,cAAlB,IAAoCH,KAAK,CAACI,IAAN,CAAWC,EAAnD,EAAuD;AACrD,WAAO,KAAP;AACD;;AACD,SAAO,IAAP;AACD","sourcesContent":["import { Value } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport { isTable } from '../types';\n\nexport type Configs = {\n  excludeColumns: boolean;\n};\n\nexport default function isSelectionInTable(value: Value, configs?: Configs) {\n  const { document, selection } = value;\n  if (!selection) {\n    return false;\n  }\n  const start = selection.getStart(document);\n  const table = document.getClosest(start.key, isTable) as Table | undefined;\n  if (!table) {\n    return false;\n  }\n  if (table && configs?.excludeColumns && table.data.sr) {\n    return false;\n  }\n  return true;\n}\n"],"file":"isSelectionInTable.js"}