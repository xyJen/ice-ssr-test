"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.visibleUtil = exports.VisibleUtil = void 0;
const VISIBLE_MAP = {};

class VisibleUtil {
  constructor() {
    this.callbackMap = {};
  }

  setVisible(key, visible) {
    const fns = this.callbackMap[key];
    VISIBLE_MAP[key] = visible;

    if (fns) {
      fns.forEach(fn => fn(visible));
    }
  }

  getVisible(key) {
    return VISIBLE_MAP[key] || false;
  }

  registerVisibleChange(key, callback) {
    if (!this.callbackMap[key]) {
      this.callbackMap[key] = [callback];
    } else {
      this.callbackMap[key].push(callback);
    }
  }

  unregisterVisibleChange(key, callback) {
    const fns = this.callbackMap[key];

    if (fns) {
      for (let i = 0; i < fns.length; i++) {
        if (fns[i] === callback) {
          fns.splice(i, 1);
        }
      }
    }
  }

}

exports.VisibleUtil = VisibleUtil;
const visibleUtil = new VisibleUtil();
exports.visibleUtil = visibleUtil;
//# sourceMappingURL=visibleUtil.js.map