{"version":3,"sources":["../../../../src/utils/utils/getTableCellWidth.ts"],"names":["getTableCellWidth","cell","table","Array","isArray","data","colsWidth","row","getParent","key","colIndex","nodes","findIndex","c","colNum","colSpan","parseInt","slice","reduce","acc","v"],"mappings":";;;;;;;AAGA;AACA;AACA;AACe,SAASA,iBAAT,CAA2BC,IAA3B,EAA4CC,KAA5C,EAA0D;AACvE,MAAI,CAACA,KAAD,IAAU,CAACC,KAAK,CAACC,OAAN,CAAcF,KAAK,EAAEG,IAAP,EAAaC,SAA3B,CAAf,EAAsD;AACpD,WAAO,IAAP;AACD;;AAED,QAAMC,GAAG,GAAGL,KAAK,CAACM,SAAN,CAAgBP,IAAI,CAACQ,GAArB,CAAZ;AACA,MAAI,CAACF,GAAL,EAAU,OAAO,IAAP;AAEV,QAAMG,QAAQ,GAAGH,GAAG,CAACI,KAAJ,CAAUC,SAAV,CAAqBC,CAAD,IAAOA,CAAC,CAACJ,GAAF,KAAUR,IAAI,CAACQ,GAA1C,CAAjB;AACA,MAAIC,QAAQ,KAAK,CAAC,CAAlB,EAAqB,OAAO,IAAP;AACrB,QAAMI,MAAM,GAAGb,IAAI,CAACI,IAAL,EAAWU,OAAX,IAAsB,CAArC;AACA,QAAMA,OAAO,GAAG,CAAC,OAAOD,MAAP,KAAkB,QAAlB,GAA6BA,MAA7B,GAAsCE,QAAQ,CAACF,MAAD,EAAS,EAAT,CAA/C,KAAgE,CAAhF;AACA,SAAOZ,KAAK,CAACG,IAAN,CAAWC,SAAX,CACJW,KADI,CACEP,QADF,EACYA,QAAQ,GAAGK,OADvB,EAEJG,MAFI,CAEG,CAACC,GAAD,EAAMC,CAAN,KAAYD,GAAG,GAAGC,CAFrB,EAEwB,CAFxB,CAAP;AAGD","sourcesContent":["import Table from '../../mo/models';\nimport TableCell from '../../mo/models/tableCell';\n\n/**\n * 获取 TableCell 数据模型对应的 width（百分比或绝对宽度）\n */\nexport default function getTableCellWidth(cell: TableCell, table: Table) {\n  if (!table || !Array.isArray(table?.data?.colsWidth)) {\n    return null;\n  }\n\n  const row = table.getParent(cell.key);\n  if (!row) return null;\n\n  const colIndex = row.nodes.findIndex((c) => c.key === cell.key);\n  if (colIndex === -1) return null;\n  const colNum = cell.data?.colSpan || 1;\n  const colSpan = (typeof colNum === 'number' ? colNum : parseInt(colNum, 10)) || 1;\n  return table.data.colsWidth\n    .slice(colIndex, colIndex + colSpan)\n    .reduce((acc, v) => acc + v, 0);\n}\n"],"file":"getTableCellWidth.js"}