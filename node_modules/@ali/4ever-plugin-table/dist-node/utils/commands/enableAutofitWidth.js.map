{"version":3,"sources":["../../../../src/utils/commands/enableAutofitWidth.ts"],"names":["enableAutofitWidth","controller","table","enable","isAutofit","Table","isAutofitWidth","data","tblW","w","DEFAULT_PCT_WIDTH","type","command","Commands","setNodeByKey","key"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEe,SAASA,kBAAT,CACbC,UADa,EAEbC,KAFa,EAGbC,MAAM,GAAG,IAHI,EAIb;AACA,QAAMC,SAAS,GAAGC,gBAAMC,cAAN,CAAqBJ,KAArB,CAAlB;;AAEA,MAAIC,MAAM,KAAKC,SAAf,EAA0B,OAAOH,UAAP;AAE1B,QAAMM,IAAI,GAAG,EAAE,GAAGL,KAAK,CAACK;AAAX,GAAb;;AAEA,MAAIJ,MAAJ,EAAY;AACVI,IAAAA,IAAI,CAACC,IAAL,GAAY;AACVC,MAAAA,CAAC,EAAEC,4BADO;AAEVC,MAAAA,IAAI,EAAE;AAFI,KAAZ;AAID,GALD,MAKO;AACL,WAAOJ,IAAI,CAACC,IAAZ;AACD;;AAED,SAAOP,UAAU,CAACW,OAAX,CAAmBC,sBAASC,YAA5B,EAA0CZ,KAAK,CAACa,GAAhD,EAAqD;AAC1DR,IAAAA,IAAI,EAAE,8BAAgBA,IAAhB;AADoD,GAArD,CAAP;AAGD","sourcesContent":["import { Commands, Controller } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport filterValidData from '../utils/filterValidData';\nimport { DEFAULT_PCT_WIDTH } from '../constants';\n\nexport default function enableAutofitWidth(\n  controller: Controller,\n  table: Table,\n  enable = true,\n) {\n  const isAutofit = Table.isAutofitWidth(table);\n\n  if (enable === isAutofit) return controller;\n\n  const data = { ...table.data };\n\n  if (enable) {\n    data.tblW = {\n      w: DEFAULT_PCT_WIDTH,\n      type: 'pct',\n    };\n  } else {\n    delete data.tblW;\n  }\n\n  return controller.command(Commands.setNodeByKey, table.key, {\n    data: filterValidData(data),\n  });\n}\n"],"file":"enableAutofitWidth.js"}