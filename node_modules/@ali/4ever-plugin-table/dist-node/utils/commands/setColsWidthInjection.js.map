{"version":3,"sources":["../../../../src/utils/commands/setColsWidthInjection.ts"],"names":["setColsWidthInjection","controller","node","colsWidth","injections","value","curInjection","find","inj","key","injection","Injection","create","data","setInjections","filter"],"mappings":";;;;;;;AAAA;;AAEe,SAASA,qBAAT,CAA+BC,UAA/B,EAAuDC,IAAvD,EAAmEC,SAAnE,EAAwF;AACrG,QAAM;AAAEC,IAAAA;AAAF,MAAiBH,UAAU,CAACI,KAAlC;AACA,QAAMC,YAAY,GAAGF,UAAU,CAACG,IAAX,CAAgBC,GAAG,IAAIA,GAAG,CAACC,GAAJ,KAAYP,IAAI,CAACO,GAAxC,KAAgD,EAArE;;AACA,QAAMC,SAAS,GAAGC,uBAAUC,MAAV,CAAiB;AACjCH,IAAAA,GAAG,EAAEP,IAAI,CAACO,GADuB;AAEjCI,IAAAA,IAAI,EAAE,EACJ,IAAIP,YAAY,CAACO,IAAb,IAAqB,EAAzB,CADI;AAEJV,MAAAA;AAFI;AAF2B,GAAjB,CAAlB;;AAQA,SAAOF,UAAU,CAACa,aAAX,CAAyB,CAC9B,GAAGV,UAAU,CAACW,MAAX,CAAkBP,GAAG,IAAIA,GAAG,CAACC,GAAJ,KAAYP,IAAI,CAACO,GAA1C,CAD2B,EAE9BC,SAF8B,CAAzB,CAAP;AAID;;AAAA","sourcesContent":["import { Injection, Controller, Node } from '@ali/4ever-cangjie';\n\nexport default function setColsWidthInjection(controller: Controller, node: Node, colsWidth: number[]) {\n  const { injections } = controller.value;\n  const curInjection = injections.find(inj => inj.key === node.key) || {} as Injection;\n  const injection = Injection.create({\n    key: node.key,\n    data: {\n      ...(curInjection.data || {}),\n      colsWidth,\n    },\n  });\n\n  return controller.setInjections([\n    ...injections.filter(inj => inj.key !== node.key),\n    injection,\n  ]);\n};\n"],"file":"setColsWidthInjection.js"}