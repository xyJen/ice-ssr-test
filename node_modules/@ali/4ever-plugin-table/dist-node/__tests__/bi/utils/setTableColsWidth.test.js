"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _everCangjie = require("@ali/4ever-cangjie");

var _helpers = require("../helpers");

var _setTableColsWidth = _interopRequireDefault(require("../../../bi/utils/setTableColsWidth"));

var _constants = require("../../../utils/constants");

describe('table/utils/setTableColsWidth', () => {
  const cases = [{
    description: 'valid originColsWidth, valid colsWidth',
    colsWidth: [200, 100],
    originColsWidth: [100, 100],
    resultColsWidth: [200, 100]
  }, {
    description: 'valid originColsWidth, colsWidth is not Array',
    colsWidth: null,
    originColsWidth: [100, 100],
    resultColsWidth: [100, 100]
  }, {
    description: 'invalid originColsWidth, colsWidth is not Array',
    colsWidth: null,
    originColsWidth: null,
    resultColsWidth: [_constants.MIN_COL_WIDTH, _constants.MIN_COL_WIDTH]
  }, {
    description: 'invalid originColsWidth, invalid colsWidth element',
    colsWidth: [null, 100],
    originColsWidth: null,
    resultColsWidth: [_constants.MIN_COL_WIDTH, 100]
  }, {
    description: 'invalid originColsWidth element, invalid colsWidth element',
    colsWidth: [null, 100],
    originColsWidth: [null, 100],
    resultColsWidth: [_constants.MIN_COL_WIDTH, 100]
  }];
  cases.forEach(({
    description,
    colsWidth,
    originColsWidth,
    resultColsWidth
  }) => {
    it(description, () => {
      const value = _everCangjie.Value.create({
        document: _everCangjie.Document.create({
          nodes: [(0, _helpers.createTableInstance)({
            colsWidth: originColsWidth
          })]
        })
      });

      const controller = _everCangjie.Controller.create({
        value
      });

      const table = (0, _helpers.getTableFromController)(controller);
      (0, _setTableColsWidth.default)(controller, table, colsWidth);
      const {
        colsWidth: actualColsWidth
      } = (0, _helpers.getTableFromController)(controller).data;
      expect(actualColsWidth).toEqual(resultColsWidth);
    });
  });
});
//# sourceMappingURL=setTableColsWidth.test.js.map