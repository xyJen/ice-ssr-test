{"version":3,"sources":["../../../src/bi/index.tsx"],"names":["contextMenu","biFactory","configs","tableConfig","table","clipboard","toolbar","renderToolbar","menubar","renderNode","shouldNodeComponentUpdate","commands","actions","isActions","onAction","onCangjieInput","onKeyDown","onCangjieCopy","onCangjieSelect","event","_","next","selectionTrigger","set","detail","trigger","onCangjieCut","onCangjiePaste","onMouseDown","quickInsert","queries","getNodeStyle","models","klass","type"],"mappings":";;;;;;;;;;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAIA;;AAFA,MAAMA,WAAW,GAAG,iCAApB;;AAIO,MAAMC,SAAoB,GAAIC,OAAD,IAAa;AAC/C,QAAMC,WAAW,GAAGD,OAAO,CAACE,KAAR,IAAiB,EAArC;AACA,QAAM;AAAEC,IAAAA,SAAS,GAAG;AAAd,MAAqBH,OAA3B;AAEA,SAAO,EACL,GAAG,mBAAU,EAAV,CADE;AAELI,IAAAA,OAAO,EAAE,sBAAQH,WAAR,CAFJ;AAGLI,IAAAA,aAAa,EAAE,kCAAoBJ,WAApB,CAHV;AAILK,IAAAA,OAAO,EAAE,uBAJJ;AAKLC,IAAAA,UAAU,EAAE,+BAAiBP,OAAjB,CALP;AAMLQ,IAAAA,yBAAyB,EAAzBA,kCANK;AAOLC,IAAAA,QAPK;AAQLC,IAAAA,OAAO,EAAPA,gBARK;AASLC,IAAAA,SAAS,EAATA,kBATK;AAULC,IAAAA,QAAQ,EAAE,6BAAeX,WAAf,CAVL;AAWLY,IAAAA,cAAc,EAAdA,uBAXK;AAYLC,IAAAA,SAAS,EAAE,8BAAgBb,WAAhB,CAZN;AAaLc,IAAAA,aAAa,EAAE,mCAbV;AAcLC,IAAAA,eAAe,EAAE,CAACC,KAAD,EAA4BC,CAA5B,EAA2CC,IAA3C,KAAoD;AACnEC,gCAAiBC,GAAjB,CAAqBJ,KAAK,CAACK,MAAN,CAAaC,OAAlC;;AACA,aAAOJ,IAAI,EAAX;AACD,KAjBI;AAkBLK,IAAAA,YAAY,EAAE,kCAlBT;AAmBLC,IAAAA,cAAc,EAAE,6BAAetB,SAAf,EAAmDF,WAAnD,CAnBX;AAoBLyB,IAAAA,WAAW,EAAXA,oBApBK;AAqBLC,IAAAA,WAAW,EAAXA,0BArBK;AAsBLC,IAAAA,OAAO,EAAPA,gBAtBK;AAuBLC,IAAAA,YAAY,EAAZA,qBAvBK;AAwBL/B,IAAAA,WAAW,EAAEA,WAAW,CAACG,WAAD,CAxBnB;AAyBL6B,IAAAA,MAAM,EAAE,CACN;AACEC,MAAAA,KAAK,EAAE,OADT;AAEEC,MAAAA,IAAI,EAAE;AAFR,KADM,EAKN;AACED,MAAAA,KAAK,EAAE,OADT;AAEEC,MAAAA,IAAI,EAAE;AAFR,KALM,EASN;AACED,MAAAA,KAAK,EAAE,OADT;AAEEC,MAAAA,IAAI,EAAE;AAFR,KATM;AAzBH,GAAP;AAwCD,CA5CM","sourcesContent":["import type { BiFactory } from '@ali/4ever-cangjie';\nimport { Controller, CangjieSelectEvent } from '@ali/4ever-cangjie';\nimport { ClipboardPluginConfig } from '@ali/4ever-plugin-clipboard';\nimport toolbar from './toolbar';\nimport menubar from './menubar';\nimport createOnAction from './handlers/createOnAction';\nimport onCangjieInput from './handlers/onCangjieInput';\nimport createOnKeyDown from './handlers/createOnKeyDown';\nimport onCangjiePaste from './handlers/onCangjiePaste';\nimport quickInsert from './quickInsertConfig';\nimport queries from './queries';\nimport createOnCangjieCopy from './handlers/createOnCangjieCopy';\nimport createOnCangjieCut from './handlers/createOnCangjieCut';\nimport onMouseDown from './handlers/onMouseDown';\nimport createContextMenu from './createContextMenu';\nimport createRenderNode from './createRenderNode';\nimport createRenderToolbar from './createRenderToolbar';\nimport shouldNodeComponentUpdate from '../common/handlers/shouldNodeComponentUpdate';\nimport selectionTrigger from '../utils/utils/selectionTrigger';\nimport getNodeStyle from '../common/handlers/getNodeStyle';\nimport { moFactory } from '../mo';\nimport { actions, isActions } from './actions';\nimport * as commands from './commands';\n\nconst contextMenu = createContextMenu();\n\nexport { mobileBiFactory } from './mobile';\n\nexport const biFactory: BiFactory = (configs) => {\n  const tableConfig = configs.table || {};\n  const { clipboard = {} } = configs;\n\n  return {\n    ...moFactory({}),\n    toolbar: toolbar(tableConfig),\n    renderToolbar: createRenderToolbar(tableConfig),\n    menubar: menubar(),\n    renderNode: createRenderNode(configs),\n    shouldNodeComponentUpdate,\n    commands,\n    actions,\n    isActions,\n    onAction: createOnAction(tableConfig),\n    onCangjieInput,\n    onKeyDown: createOnKeyDown(tableConfig),\n    onCangjieCopy: createOnCangjieCopy(),\n    onCangjieSelect: (event: CangjieSelectEvent, _: Controller, next) => {\n      selectionTrigger.set(event.detail.trigger);\n      return next();\n    },\n    onCangjieCut: createOnCangjieCut(),\n    onCangjiePaste: onCangjiePaste(clipboard as ClipboardPluginConfig, tableConfig),\n    onMouseDown,\n    quickInsert,\n    queries,\n    getNodeStyle,\n    contextMenu: contextMenu(tableConfig),\n    models: [\n      {\n        klass: 'block',\n        type: 'table',\n      },\n      {\n        klass: 'block',\n        type: 'table-cell',\n      },\n      {\n        klass: 'block',\n        type: 'table-row',\n      },\n    ],\n  };\n}\n"],"file":"index.js"}