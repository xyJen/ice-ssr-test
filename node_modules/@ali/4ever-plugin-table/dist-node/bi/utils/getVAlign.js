"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _everCangjie = require("@ali/4ever-cangjie");

var _constants = require("../constants");

var _getTable = _interopRequireDefault(require("./getTable"));

var _getTableSelection = _interopRequireDefault(require("./getTableSelection"));

const getVAlign = controller => {
  const {
    value
  } = controller;
  const table = (0, _getTable.default)(value);
  const selection = (0, _getTableSelection.default)(controller);
  let vAlign = _constants.DEFAULT_TABLE_ALIGNMENT;

  if (selection && table) {
    const {
      startRowIndex,
      startColIndex
    } = selection;
    const tablePath = value.document.getPath(table.key);
    const cellPath = [...tablePath, startRowIndex, startColIndex];
    const cell = value.document.getNodeByPath(cellPath);

    if (_everCangjie.Block.isBlock(cell)) {
      const payload = cell.data;

      if (payload && payload.vAlign) {
        vAlign = payload.vAlign;
      }
    }
  }

  return vAlign;
};

var _default = getVAlign;
exports.default = _default;
//# sourceMappingURL=getVAlign.js.map