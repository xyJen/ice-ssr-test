{"version":3,"sources":["../../../../src/bi/utils/getVAlign.ts"],"names":["getVAlign","controller","value","table","selection","vAlign","DEFAULT_TABLE_ALIGNMENT","startRowIndex","startColIndex","tablePath","document","getPath","key","cellPath","cell","getNodeByPath","Block","isBlock","payload","data"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,MAAMA,SAAS,GAAIC,UAAD,IAA4B;AAC5C,QAAM;AAAEC,IAAAA;AAAF,MAAYD,UAAlB;AACA,QAAME,KAAK,GAAG,uBAASD,KAAT,CAAd;AACA,QAAME,SAAS,GAAG,gCAAkBH,UAAlB,CAAlB;AACA,MAAII,MAAM,GAAGC,kCAAb;;AACA,MAAIF,SAAS,IAAID,KAAjB,EAAwB;AACtB,UAAM;AAAEI,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,QAAmCJ,SAAzC;AAEA,UAAMK,SAAS,GAAGP,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBR,KAAK,CAACS,GAA7B,CAAlB;AACA,UAAMC,QAAQ,GAAG,CAAC,GAAGJ,SAAJ,EAAeF,aAAf,EAA8BC,aAA9B,CAAjB;AACA,UAAMM,IAAI,GAAGZ,KAAK,CAACQ,QAAN,CAAeK,aAAf,CAA6BF,QAA7B,CAAb;;AACA,QAAIG,mBAAMC,OAAN,CAAcH,IAAd,CAAJ,EAAyB;AACvB,YAAMI,OAAO,GAAGJ,IAAI,CAACK,IAArB;;AACA,UAAID,OAAO,IAAIA,OAAO,CAACb,MAAvB,EAA+B;AAC7BA,QAAAA,MAAM,GAAGa,OAAO,CAACb,MAAjB;AACD;AACF;AACF;;AACD,SAAOA,MAAP;AACD,CAnBD;;eAqBeL,S","sourcesContent":["import { Block, Controller } from '@ali/4ever-cangjie';\nimport { DEFAULT_TABLE_ALIGNMENT } from '../constants';\nimport getTable from './getTable';\nimport getTableSelection from './getTableSelection';\n\nconst getVAlign = (controller: Controller) => {\n  const { value } = controller;\n  const table = getTable(value);\n  const selection = getTableSelection(controller);\n  let vAlign = DEFAULT_TABLE_ALIGNMENT;\n  if (selection && table) {\n    const { startRowIndex, startColIndex } = selection;\n\n    const tablePath = value.document.getPath(table.key)!;\n    const cellPath = [...tablePath, startRowIndex, startColIndex];\n    const cell = value.document.getNodeByPath(cellPath);\n    if (Block.isBlock(cell)) {\n      const payload = cell.data;\n      if (payload && payload.vAlign) {\n        vAlign = payload.vAlign;\n      }\n    }\n  }\n  return vAlign;\n};\n\nexport default getVAlign;\n"],"file":"getVAlign.js"}