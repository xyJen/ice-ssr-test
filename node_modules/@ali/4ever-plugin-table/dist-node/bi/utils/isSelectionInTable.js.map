{"version":3,"sources":["../../../../src/bi/utils/isSelectionInTable.ts"],"names":["isSelectionInTable","value","configs","document","selection","start","getStart","table","getClosest","key","isTable","excludeColumns","data","sr"],"mappings":";;;;;;;AAEA;;AAMe,SAASA,kBAAT,CAA4BC,KAA5B,EAA0CC,OAA1C,EAA6D;AAC1E,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA0BH,KAAhC;;AACA,MAAI,CAACG,SAAL,EAAgB;AACd,WAAO,KAAP;AACD;;AACD,QAAMC,KAAK,GAAGD,SAAS,CAACE,QAAV,CAAmBH,QAAnB,CAAd;AACA,QAAMI,KAAK,GAAGJ,QAAQ,CAACK,UAAT,CAAoBH,KAAK,CAACI,GAA1B,EAA+BC,cAA/B,CAAd;;AACA,MAAI,CAACH,KAAL,EAAY;AACV,WAAO,KAAP;AACD;;AACD,MAAIA,KAAK,IAAIL,OAAO,EAAES,cAAlB,IAAoCJ,KAAK,CAACK,IAAN,CAAWC,EAAnD,EAAuD;AACrD,WAAO,KAAP;AACD;;AACD,SAAO,IAAP;AACD","sourcesContent":["import { Value } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport { isTable } from '../types';\n\nexport type Configs = {\n  excludeColumns: boolean;\n};\n\nexport default function isSelectionInTable(value: Value, configs?: Configs) {\n  const { document, selection } = value;\n  if (!selection) {\n    return false;\n  }\n  const start = selection.getStart(document);\n  const table = document.getClosest(start.key, isTable) as Table | undefined;\n  if (!table) {\n    return false;\n  }\n  if (table && configs?.excludeColumns && table.data.sr) {\n    return false;\n  }\n  return true;\n}\n"],"file":"isSelectionInTable.js"}