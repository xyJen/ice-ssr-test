{"version":3,"sources":["../../../../src/bi/utils/scrollContainer.ts"],"names":["AUTO_SCROLL_THRESHOLD","AUTO_SCROLL_HEIGHT","AUTO_SCROLL_WIDTH","VERTICAL_THRESHOLD","HORIZOTAL_THRESHOLD","scrollVertical","y","container","undefined","Window","getBoundingClientRect","top","bottom","window","innerHeight","scrollTop","scrollVerticalContainer","leading","scrollHorizontal","x","left","right","innerWidth","scrollLeft","scrollHorizontalContainer"],"mappings":";;;;;;;;AAAA;;AAEA,MAAMA,qBAAqB,GAAG,IAA9B;AACA,MAAMC,kBAAkB,GAAG,EAA3B;AACA,MAAMC,iBAAiB,GAAG,EAA1B;AAEA,MAAMC,kBAAkB,GAAG,EAA3B;AAEA,MAAMC,mBAAmB,GAAG,EAA5B;;AAEA,SAASC,cAAT,CACEC,CADF,EAEEC,SAFF,EAGE;AACA;AACA,MACED,CAAC,KAAKE,SAAN,IACA,CAACD,SADD,IAEAA,SAAS,YAAYE,MAFrB,IAGA,CAACF,SAAS,CAACG,qBAJb,EAKE;AACA;AACD;;AAED,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAkBL,SAAS,CAACG,qBAAV,EAAxB;;AAEA,MACEJ,CAAC,GAAGK,GAAG,GAAGR,kBAAV,IACAG,CAAC,GAAGO,MAAM,CAACC,WAAP,GAAqBd,qBAF3B,EAEkD;AAChD;AACAO,IAAAA,SAAS,CAACQ,SAAV,IAAuBd,kBAAvB;AACD,GALD,MAKO,IACLK,CAAC,GAAGM,MAAM,GAAGT,kBAAb,IACAG,CAAC,GAAGO,MAAM,CAACC,WAAP,IAAsB,IAAId,qBAA1B,CAFC,EAGL;AACA;AACAO,IAAAA,SAAS,CAACQ,SAAV,IAAuBd,kBAAvB;AACD;AACF;;AAEM,MAAMe,uBAAuB,GAClC,sBAASX,cAAT,EAAyB,GAAzB,EAA8B;AAAEY,EAAAA,OAAO,EAAE;AAAX,CAA9B,CADK;;;AAGA,SAASC,gBAAT,CACLC,CADK,EAELZ,SAFK,EAGL;AACA,MACEY,CAAC,KAAKX,SAAN,IACA,CAACD,SADD,IAEAA,SAAS,YAAYE,MAFrB,IAGA,CAACF,SAAS,CAACG,qBAJb,EAKE;AACA;AACD;;AAED,QAAM;AAAEU,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkBd,SAAS,CAACG,qBAAV,EAAxB;;AACA,MACES,CAAC,GAAGC,IAAI,GAAGhB,mBAAX,IACAe,CAAC,GAAGN,MAAM,CAACS,UAAP,GAAoBtB,qBAF1B,EAGE;AACAO,IAAAA,SAAS,CAACgB,UAAV,IAAwBrB,iBAAxB;AACD,GALD,MAKO,IACLiB,CAAC,GAAGE,KAAK,GAAGjB,mBAAZ,IACAe,CAAC,GAAGN,MAAM,CAACS,UAAP,IAAqB,IAAItB,qBAAzB,CAFC,EAGL;AACAO,IAAAA,SAAS,CAACgB,UAAV,IAAwBrB,iBAAxB;AACD;AACF;;AAEM,MAAMsB,yBAAyB,GACpC,sBAASN,gBAAT,EAA2B,GAA3B,EAAgC;AAAED,EAAAA,OAAO,EAAE;AAAX,CAAhC,CADK","sourcesContent":["import { throttle } from 'lodash-es';\n\nconst AUTO_SCROLL_THRESHOLD = 0.05;\nconst AUTO_SCROLL_HEIGHT = 20;\nconst AUTO_SCROLL_WIDTH = 20;\n\nconst VERTICAL_THRESHOLD = 20;\n\nconst HORIZOTAL_THRESHOLD = 20;\n\nfunction scrollVertical(\n  y: number | undefined,\n  container?: Window | HTMLElement | null,\n) {\n  // @ts-ignore\n  if (\n    y === undefined ||\n    !container ||\n    container instanceof Window ||\n    !container.getBoundingClientRect\n  ) {\n    return;\n  }\n\n  const { top, bottom } = container.getBoundingClientRect();\n\n  if (\n    y < top + VERTICAL_THRESHOLD ||\n    y < window.innerHeight * AUTO_SCROLL_THRESHOLD) {\n    // @ts-ignore\n    container.scrollTop -= AUTO_SCROLL_HEIGHT;\n  } else if (\n    y > bottom - VERTICAL_THRESHOLD ||\n    y > window.innerHeight * (1 - AUTO_SCROLL_THRESHOLD)\n  ) {\n    // @ts-ignore\n    container.scrollTop += AUTO_SCROLL_HEIGHT;\n  }\n}\n\nexport const scrollVerticalContainer =\n  throttle(scrollVertical, 100, { leading: true });\n\nexport function scrollHorizontal(\n  x: number,\n  container: Window | HTMLElement | null,\n) {\n  if (\n    x === undefined ||\n    !container ||\n    container instanceof Window ||\n    !container.getBoundingClientRect\n  ) {\n    return;\n  }\n\n  const { left, right } = container.getBoundingClientRect();\n  if (\n    x < left + HORIZOTAL_THRESHOLD ||\n    x < window.innerWidth * AUTO_SCROLL_THRESHOLD\n  ) {\n    container.scrollLeft -= AUTO_SCROLL_WIDTH;\n  } else if (\n    x > right - HORIZOTAL_THRESHOLD ||\n    x > window.innerWidth * (1 - AUTO_SCROLL_THRESHOLD)\n  ) {\n    container.scrollLeft += AUTO_SCROLL_WIDTH;\n  }\n}\n\nexport const scrollHorizontalContainer =\n  throttle(scrollHorizontal, 100, { leading: true });\n"],"file":"scrollContainer.js"}