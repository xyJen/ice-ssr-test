{"version":3,"sources":["../../../../src/bi/commands/toggleRowHeader.ts"],"names":["toggleRowHeader","controller","table","tablePath","value","document","getPath","key","firstRow","nodes","rowData","data","command","Commands","setNodeByPath","isTblHeader","newTable","getNode"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEe,SAASA,eAAT,CAAyBC,UAAzB,EAAiDC,KAAjD,EAA+D;AAC5E,QAAMC,SAAS,GAAGF,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0BC,OAA1B,CAAkCJ,KAAK,CAACK,GAAxC,CAAlB;AACA,MAAI,CAACJ,SAAL,EAAgB,OAAOF,UAAP;AAEhB,QAAMO,QAAQ,GAAGN,KAAK,CAACO,KAAN,CAAY,CAAZ,CAAjB;AAEA,MAAI,CAACD,QAAL,EAAe,OAAOP,UAAP;AAEf,QAAMS,OAAO,GAAGF,QAAQ,CAACG,IAAT,IAAiB,EAAjC;AAEAV,EAAAA,UAAU,CAACW,OAAX,CAAmBC,sBAASC,aAA5B,EAA2C,CAAC,GAAGX,SAAJ,EAAe,CAAf,CAA3C,EAA8D;AAC5DQ,IAAAA,IAAI,EAAE,EACJ,GAAGD,OADC;AAEJK,MAAAA,WAAW,EAAE,CAACL,OAAO,CAACK;AAFlB;AADsD,GAA9D;AAOA,QAAMC,QAAQ,GAAGf,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0BY,OAA1B,CAAkCf,KAAK,CAACK,GAAxC,CAAjB;AACA,SAAO,+BAAiBN,UAAjB,EAA6Be,QAA7B,CAAP;AACD","sourcesContent":["import { Commands, Controller } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport updateTableStyle from './updateTableStyle';\n\nexport default function toggleRowHeader(controller: Controller, table: Table) {\n  const tablePath = controller.value.document.getPath(table.key);\n  if (!tablePath) return controller;\n\n  const firstRow = table.nodes[0];\n\n  if (!firstRow) return controller;\n\n  const rowData = firstRow.data || {};\n\n  controller.command(Commands.setNodeByPath, [...tablePath, 0], {\n    data: {\n      ...rowData,\n      isTblHeader: !rowData.isTblHeader,\n    },\n  });\n\n  const newTable = controller.value.document.getNode(table.key) as Table;\n  return updateTableStyle(controller, newTable);\n}\n"],"file":"toggleRowHeader.js"}