{"version":3,"sources":["../../../../src/bi/commands/toggleColHeader.ts"],"names":["toggleColHeader","controller","table","tablePath","value","document","getPath","key","tableData","data","command","Commands","setNodeByPath","isColumnHeader","newTable","getNode"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEe,SAASA,eAAT,CAAyBC,UAAzB,EAAiDC,KAAjD,EAA+D;AAC5E,QAAMC,SAAS,GAAGF,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0BC,OAA1B,CAAkCJ,KAAK,CAACK,GAAxC,CAAlB;AACA,MAAI,CAACJ,SAAL,EAAgB,OAAOF,UAAP;AAEhB,QAAMO,SAAS,GAAGN,KAAK,CAACO,IAAN,IAAc,EAAhC;AAEAR,EAAAA,UAAU,CAACS,OAAX,CAAmBC,sBAASC,aAA5B,EAA2CT,SAA3C,EAAsD;AACpDM,IAAAA,IAAI,EAAE,EACJ,GAAGD,SADC;AAEJK,MAAAA,cAAc,EAAE,CAACL,SAAS,CAACK;AAFvB;AAD8C,GAAtD;AAMA,QAAMC,QAAQ,GAAGb,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0BU,OAA1B,CAAkCb,KAAK,CAACK,GAAxC,CAAjB;AACA,SAAO,+BAAiBN,UAAjB,EAA6Ba,QAA7B,CAAP;AACD","sourcesContent":["import { Commands, Controller } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport updateTableStyle from './updateTableStyle';\n\nexport default function toggleColHeader(controller: Controller, table: Table) {\n  const tablePath = controller.value.document.getPath(table.key);\n  if (!tablePath) return controller;\n\n  const tableData = table.data || {};\n\n  controller.command(Commands.setNodeByPath, tablePath, {\n    data: {\n      ...tableData,\n      isColumnHeader: !tableData.isColumnHeader,\n    },\n  });\n  const newTable = controller.value.document.getNode(table.key) as Table;\n  return updateTableStyle(controller, newTable);\n}\n"],"file":"toggleColHeader.js"}