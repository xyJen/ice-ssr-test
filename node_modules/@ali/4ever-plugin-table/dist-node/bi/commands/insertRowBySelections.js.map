{"version":3,"sources":["../../../../src/bi/commands/insertRowBySelections.ts"],"names":["insertRowBaseOnSelection","controller","table","type","tableSelection","value","startRowIndex","endRowIndex","targetRow","nodes"],"mappings":";;;;;;;;;AAEA;;AACA;;AACA;;AAEe,SAASA,wBAAT,CAAkCC,UAAlC,EAA0DC,KAA1D,EAAwEC,IAAxE,EAAsF;AACnG,QAAMC,cAAc,GAAG,2CAA6BH,UAA7B,EAAyCC,KAAzC,KACrB,iDAAmCD,UAAU,CAACI,KAA9C,EAAqDH,KAArD,CADF;;AAEA,MAAI,CAACE,cAAL,EAAqB;AACnB,WAAOH,UAAP;AACD;;AACD,QAAM;AAAEK,IAAAA,aAAF;AAAiBC,IAAAA;AAAjB,MAAiCH,cAAvC;AACA,MAAII,SAAJ;;AACA,MAAIL,IAAI,KAAK,kBAAb,EAAiC;AAC/BK,IAAAA,SAAS,GAAGN,KAAK,CAACO,KAAN,CAAYH,aAAZ,CAAZ;AACD,GAFD,MAEO,IAAIH,IAAI,KAAK,kBAAb,EAAiC;AACtCK,IAAAA,SAAS,GAAGN,KAAK,CAACO,KAAN,CAAYF,WAAZ,CAAZ;AACD;;AACD,MAAI,CAACC,SAAL,EAAgB,OAAOP,UAAP;AAChB,SAAO,wBAAUA,UAAV,EAAsBO,SAAtB,EAAiCL,IAAjC,CAAP;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport Table from '../../mo/models';\nimport insertRow from './insertRow';\nimport createTableSelectionForFocusedCell from '../utils/createTableSelectionForFocusedCell';\nimport getDataTableSelectionByTable from '../utils/getDataTableSelectionByTable';\n\nexport default function insertRowBaseOnSelection(controller: Controller, table: Table, type: string) {\n  const tableSelection = getDataTableSelectionByTable(controller, table) ||\n    createTableSelectionForFocusedCell(controller.value, table);\n  if (!tableSelection) {\n    return controller;\n  }\n  const { startRowIndex, endRowIndex } = tableSelection;\n  let targetRow;\n  if (type === 'insert-row-above') {\n    targetRow = table.nodes[startRowIndex];\n  } else if (type === 'insert-row-below') {\n    targetRow = table.nodes[endRowIndex];\n  }\n  if (!targetRow) return controller;\n  return insertRow(controller, targetRow, type);\n}\n"],"file":"insertRowBySelections.js"}