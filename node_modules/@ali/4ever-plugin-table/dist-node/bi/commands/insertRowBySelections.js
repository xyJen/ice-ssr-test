"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = insertRowBaseOnSelection;

var _insertRow = _interopRequireDefault(require("./insertRow"));

var _createTableSelectionForFocusedCell = _interopRequireDefault(require("../utils/createTableSelectionForFocusedCell"));

var _getDataTableSelectionByTable = _interopRequireDefault(require("../utils/getDataTableSelectionByTable"));

function insertRowBaseOnSelection(controller, table, type) {
  const tableSelection = (0, _getDataTableSelectionByTable.default)(controller, table) || (0, _createTableSelectionForFocusedCell.default)(controller.value, table);

  if (!tableSelection) {
    return controller;
  }

  const {
    startRowIndex,
    endRowIndex
  } = tableSelection;
  let targetRow;

  if (type === 'insert-row-above') {
    targetRow = table.nodes[startRowIndex];
  } else if (type === 'insert-row-below') {
    targetRow = table.nodes[endRowIndex];
  }

  if (!targetRow) return controller;
  return (0, _insertRow.default)(controller, targetRow, type);
}
//# sourceMappingURL=insertRowBySelections.js.map