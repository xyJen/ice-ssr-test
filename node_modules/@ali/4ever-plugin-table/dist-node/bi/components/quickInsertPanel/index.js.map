{"version":3,"sources":["../../../../../src/bi/components/quickInsertPanel/index.tsx"],"names":["Wrapper","styled","div","props","cellSize","QuickInsertPanel","controller","close","from","handleChange","React","useCallback","row","col","containerBlock","value","containerWidth","run"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;uBAH4B,a;;AAU5B,MAAMA,OAAO,gBAAGC,0BAAOC,GAAV,qGAOAC,KAAK,IAAK,GAAEA,KAAK,CAACC,QAAS,IAP3B,EAQCD,KAAK,IAAK,GAAEA,KAAK,CAACC,QAAS,IAR5B,CAAb;;AAYA,MAAMC,gBAA4C,GAAGF,KAAK,IAAI;AAC5D,QAAM;AAAEG,IAAAA,UAAF;AAAcC,IAAAA,KAAd;AAAqBC,IAAAA;AAArB,MAA8BL,KAApC;AAEA,QAAMM,YAAY,GAAGC,KAAK,CAACC,WAAN,CACnB,CAACC,GAAD,EAAcC,GAAd,KAA8B;AAC5B,UAAMC,cAAc,GAAG,yCAAyBR,UAAU,CAACS,KAApC,CAAvB;AACA,UAAMC,cAAc,GAAG,8BAAcF,cAAd,CAAvB;AACAP,IAAAA,KAAK;AACL,WAAOD,UAAU,CAACW,GAAX,CAAe,UAAf,EAA2B,0BAAYL,GAAZ,EAAiBC,GAAjB,EAAsBG,cAAtB,CAA3B,CAAP;AACD,GANkB,EAOnB,CAACV,UAAD,EAAaC,KAAb,CAPmB,CAArB;AAUA,sBACE,eAAC,OAAD;AAAS,IAAA,QAAQ,EAAEC,IAAI,KAAK,SAAT,GAAqB,EAArB,GAA0B;AAA7C,kBACE,eAAC,oBAAD;AAAY,IAAA,GAAG,EAAE,EAAjB;AAAqB,IAAA,GAAG,EAAE,EAA1B;AAA8B,IAAA,MAAM,EAAEC;AAAtC,IADF,CADF;AAKD,CAlBD;;eAoBeJ,gB","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { TablePanel } from '@ali/we-design';\nimport { getClosestContainerBlock, getInnerWidth } from '@ali/4ever-utils';\nimport { insertTable } from '../../actions';\nimport type { PanelRenderProps } from '@ali/4ever-plugin-quickinsert';\n\ninterface WrapperProps {\n  cellSize: number;\n}\n\nconst Wrapper = styled.div<WrapperProps>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n\n  td {\n    width: ${props => `${props.cellSize}px`};\n    height: ${props => `${props.cellSize}px`};\n  }\n`;\n\nconst QuickInsertPanel: React.FC<PanelRenderProps> = props => {\n  const { controller, close, from } = props;\n\n  const handleChange = React.useCallback(\n    (row: number, col: number) => {\n      const containerBlock = getClosestContainerBlock(controller.value);\n      const containerWidth = getInnerWidth(containerBlock);\n      close();\n      return controller.run('onAction', insertTable(row, col, containerWidth));\n    },\n    [controller, close],\n  );\n\n  return (\n    <Wrapper cellSize={from === 'toolbar' ? 10 : 25}>\n      <TablePanel row={10} col={10} onPick={handleChange} />\n    </Wrapper>\n  );\n};\n\nexport default QuickInsertPanel;\n"],"file":"index.js"}