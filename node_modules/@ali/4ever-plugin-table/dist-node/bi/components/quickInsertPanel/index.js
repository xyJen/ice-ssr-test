"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _weDesign = require("@ali/we-design");

var _everUtils = require("@ali/4ever-utils");

var _actions = require("../../actions");

const _createElement = /*#__PURE__*/React.createElement;

const Wrapper = /*#__PURE__*/_styledComponents.default.div(["display:flex;align-items:center;justify-content:center;height:100%;td{width:", ";height:", ";}"], props => `${props.cellSize}px`, props => `${props.cellSize}px`);

const QuickInsertPanel = props => {
  const {
    controller,
    close,
    from
  } = props;
  const handleChange = React.useCallback((row, col) => {
    const containerBlock = (0, _everUtils.getClosestContainerBlock)(controller.value);
    const containerWidth = (0, _everUtils.getInnerWidth)(containerBlock);
    close();
    return controller.run('onAction', (0, _actions.insertTable)(row, col, containerWidth));
  }, [controller, close]);
  return /*#__PURE__*/_createElement(Wrapper, {
    cellSize: from === 'toolbar' ? 10 : 25
  }, /*#__PURE__*/_createElement(_weDesign.TablePanel, {
    row: 10,
    col: 10,
    onPick: handleChange
  }));
};

var _default = QuickInsertPanel;
exports.default = _default;
//# sourceMappingURL=index.js.map