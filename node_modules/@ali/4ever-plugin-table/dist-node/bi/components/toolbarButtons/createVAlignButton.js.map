{"version":3,"sources":["../../../../../src/bi/components/toolbarButtons/createVAlignButton.tsx"],"names":["createVAlignButton","type","VAlignButton","props","controller","locale","selection","isActive","handleMouseDown","React","useCallback","table","value","run","title","Button","ToolbarVerticalAlignMiddleNormal","vAlignMiddle","ToolbarVerticalAlignTopNormal","vAlignTop","ToolbarVerticalAlignBottomNormal","vAlignBottom","PluginRoles","tableVAlign"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AAKA;;AACA;;AAEA;;AACA;;AACA;;uBAb4B,a;;AAoBb,SAASA,kBAAT,CAA4BC,IAA5B,EAAiD;AAC9D,SAAO,SAASC,YAAT,CAAsBC,KAAtB,EAAqD;AAC1D,UAAM;AAAEC,MAAAA,UAAF;AAAcC,MAAAA;AAAd,QAAyBF,KAA/B;AACA,UAAMG,SAAS,GAAG,gCAAkBF,UAAlB,CAAlB;AACA,UAAMG,QAAQ,GAAG,wBAAUH,UAAV,MAA0BH,IAA3C;AAEA,UAAMO,eAAe,GAAGC,KAAK,CAACC,WAAN,CAAkB,MAAM;AAC9C,YAAMC,KAAK,GAAG,uBAASP,UAAU,CAACQ,KAApB,CAAd;AACAR,MAAAA,UAAU,CAACS,GAAX,CAAe,UAAf,EAA2B,iCAAmBF,KAAnB,EAA0BL,SAA1B,EAAqCL,IAArC,CAA3B;AACD,KAHuB,EAGrB,CAACG,UAAD,EAAaE,SAAb,CAHqB,CAAxB;AAKA,QAAIQ,KAAyB,GAAG,EAAhC;AACA,QAAIC,MAAJ;;AACA,YAAQd,IAAR;AACE,WAAK,QAAL;AACEc,QAAAA,MAAM,GAAGC,wCAAT;AACAF,QAAAA,KAAK,GAAGT,MAAM,EAAEY,YAAhB;AACA;;AACF,WAAK,KAAL;AACEF,QAAAA,MAAM,GAAGG,qCAAT;AACAJ,QAAAA,KAAK,GAAGT,MAAM,EAAEc,SAAhB;AACA;;AACF,WAAK,QAAL;AACEJ,QAAAA,MAAM,GAAGK,wCAAT;AACAN,QAAAA,KAAK,GAAGT,MAAM,EAAEgB,YAAhB;AACA;;AACF;AACEN,QAAAA,MAAM,GAAGG,qCAAT;AACA;AAfJ;;AAiBA,wBACE,eAAC,qBAAD;AACE,MAAA,MAAM,EAAEX,QADV;AAEE,MAAA,IAAI,eAAE,eAAC,MAAD,OAFR;AAGE,MAAA,KAAK,EAAEO,KAHT;AAIE,MAAA,OAAO,EAAEA,KAJX;AAKE,MAAA,MAAM,EAAC,yBALT;AAME,MAAA,IAAI,EAAG,GAAEQ,gBAAYC,WAAY,GAAE,wBAAWtB,IAAX,CAAiB,EANtD;AAOE,MAAA,OAAO,EAAEO;AAPX,MADF;AAWD,GAxCD;AAyCD","sourcesContent":["import * as React from 'react';\nimport { Controller } from '@ali/4ever-cangjie';\nimport { IconButton } from '@ali/we-toolbar';\nimport { capitalize } from 'lodash-es';\nimport {\n  ToolbarVerticalAlignBottomNormal,\n  ToolbarVerticalAlignMiddleNormal,\n  ToolbarVerticalAlignTopNormal,\n} from '@ali/we-icon';\nimport { TableRole as PluginRoles } from '../../../utils/role';\nimport getVAlign from '../../utils/getVAlign';\nimport { TableLocale, VerticalAlign } from '../../types';\nimport getTable from '../../utils/getTable';\nimport { setTableCellVAlign } from '../../actions';\nimport getTableSelection from '../../utils/getTableSelection';\n\nexport interface TableVAlignButtonProps {\n  controller: Controller;\n  locale?: TableLocale;\n}\n\nexport default function createVAlignButton(type: VerticalAlign) {\n  return function VAlignButton(props: TableVAlignButtonProps) {\n    const { controller, locale } = props;\n    const selection = getTableSelection(controller);\n    const isActive = getVAlign(controller) === type;\n\n    const handleMouseDown = React.useCallback(() => {\n      const table = getTable(controller.value);\n      controller.run('onAction', setTableCellVAlign(table, selection, type));\n    }, [controller, selection]);\n\n    let title: string | undefined = '';\n    let Button: React.FC;\n    switch (type) {\n      case 'middle':\n        Button = ToolbarVerticalAlignMiddleNormal;\n        title = locale?.vAlignMiddle;\n        break;\n      case 'top':\n        Button = ToolbarVerticalAlignTopNormal;\n        title = locale?.vAlignTop;\n        break;\n      case 'bottom':\n        Button = ToolbarVerticalAlignBottomNormal;\n        title = locale?.vAlignBottom;\n        break;\n      default:\n        Button = ToolbarVerticalAlignTopNormal;\n        break;\n    }\n    return (\n      <IconButton\n        active={isActive}\n        icon={<Button />}\n        title={title}\n        tooltip={title}\n        testid=\"bi-toolbar-table-valign\"\n        role={`${PluginRoles.tableVAlign}${capitalize(type)}`}\n        onClick={handleMouseDown}\n      />\n    );\n  };\n}\n"],"file":"createVAlignButton.js"}