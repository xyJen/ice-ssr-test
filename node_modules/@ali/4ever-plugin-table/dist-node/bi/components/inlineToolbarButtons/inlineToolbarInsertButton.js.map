{"version":3,"sources":["../../../../../src/bi/components/inlineToolbarButtons/inlineToolbarInsertButton.tsx"],"names":["InsertOuterWrapper","ButtonWrapper","p","isShow","InlineToolbarInsertButton","React","Component","handleMouseDown","e","preventDefault","stopPropagation","onInsert","props","componentWillUnmount","onShowIndicatorVisible","render","mode","locale","scale","insertIndex","placement","tip","toolbarInsertRow","toolbarInsertCol"],"mappings":";;;;;;;;;;;AACA;;AACA;;AAEA;;AACA;;AACA;;AANA;uBAC4B,a;AAO5B,MAAMA,kBAAkB,gBAAG,+BAAOC,qBAAP,CAAH,+GAEFC,CAAD,IAAQA,CAAC,CAACC,MAAF,GAAW,CAAX,GAAe,GAFpB,CAAxB;;AAwBe,MAAMC,yBAAN,SAAwCC,KAAK,CAACC,SAA9C,CAA0E;AAAA;AAAA;;AAAA,SACvFC,eADuF,GACpEC,CAAD,IAA4C;AAC5DA,MAAAA,CAAC,CAACC,cAAF;AACAD,MAAAA,CAAC,CAACE,eAAF;AACA,YAAM;AAAEC,QAAAA;AAAF,UAAe,KAAKC,KAA1B;AACAD,MAAAA,QAAQ;AACT,KANsF;AAAA;;AAQvFE,EAAAA,oBAAoB,GAAG;AACrB,UAAM;AAAEC,MAAAA;AAAF,QAA6B,KAAKF,KAAxC;AACAE,IAAAA,sBAAsB,CAAC,KAAD,CAAtB;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,MAAR;AAAgBC,MAAAA,KAAhB;AAAuBC,MAAAA;AAAvB,QAAuC,KAAKP,KAAlD;AACA,UAAMQ,SAAS,GAAGJ,IAAI,KAAK,KAAT,GAAiB,MAAjB,GAA0B,KAA5C;AACA,UAAMK,GAAG,GAAGL,IAAI,KAAK,KAAT,GAAiBC,MAAM,CAACK,gBAAxB,GAA2CL,MAAM,CAACM,gBAA9D;AACA,UAAMpB,MAAM,GAAGgB,WAAW,KAAK,CAAC,CAAhC;AACA,wBACE,eAAC,kBAAD;AACE,MAAA,KAAK,EAAED,KADT;AAEE,MAAA,MAAM,EAAEf,MAFV;AAGE,MAAA,WAAW,EAAE,KAAKI,eAHpB;AAIE,MAAA,UAAU,EAAE,KAAKA,eAJnB;AAKE,qBAAc,gBAAeS,IAAK;AALpC,oBAOE,eAAC,iBAAD;AACE,MAAA,SAAS,EAAEI,SADb;AAEE,MAAA,KAAK,EAAEC;AAFT,oBAIE,eAAC,mBAAD,qBACE,eAAC,aAAD;AAAwB,MAAA,KAAK,EAAEH;AAA/B,MADF,CAJF,CAPF,CADF;AAkBD;;AApCsF","sourcesContent":["/* eslint-disable react/no-find-dom-node */\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport Table from '../../../mo/models';\nimport { Tooltip } from '@ali/we-design';\nimport { ButtonWrapper, IconWrapper } from '../styled';\nimport ToolbarTablePlusNormal from './plus';\n\nconst InsertOuterWrapper = styled(ButtonWrapper)`\n  position: relative;\n  transform: scale(${(p) => (p.isShow ? 1 : 0.8)});\n  color: white;\n  border: none;\n  background-color: #0089FF;\n  cursor: default;\n`;\n\ninterface ToolbarMenuProps {\n  mode: string;\n  selection: any;\n  insertIndex: number;\n  scale: number;\n  locale: any;\n  onInsert: () => void;\n  onShowIndicatorVisible: (isVisible: boolean) => void;\n  table?: Table;\n  tableRef?: React.RefObject<HTMLTableElement>;\n  zoomContainer?: HTMLDivElement;\n  getAllColsNodes?: () => HTMLDivElement[];\n  rowIndicatorRef?: React.RefObject<HTMLTableElement | null>;\n}\n\nexport default class InlineToolbarInsertButton extends React.Component<ToolbarMenuProps> {\n  handleMouseDown = (e: React.MouseEvent | React.TouchEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const { onInsert } = this.props;\n    onInsert();\n  };\n\n  componentWillUnmount() {\n    const { onShowIndicatorVisible } = this.props;\n    onShowIndicatorVisible(false);\n  }\n\n  render() {\n    const { mode, locale, scale, insertIndex } = this.props;\n    const placement = mode === 'row' ? 'left' : 'top';\n    const tip = mode === 'row' ? locale.toolbarInsertRow : locale.toolbarInsertCol;\n    const isShow = insertIndex !== -1;\n    return (\n      <InsertOuterWrapper\n        scale={scale}\n        isShow={isShow}\n        onMouseDown={this.handleMouseDown}\n        onTouchEnd={this.handleMouseDown}\n        data-testid={`table-insert-${mode}-button`}\n      >\n        <Tooltip\n          placement={placement}\n          title={tip}\n        >\n          <IconWrapper>\n            <ToolbarTablePlusNormal scale={scale} />\n          </IconWrapper>\n        </Tooltip>\n      </InsertOuterWrapper>\n    );\n  }\n}\n"],"file":"inlineToolbarInsertButton.js"}