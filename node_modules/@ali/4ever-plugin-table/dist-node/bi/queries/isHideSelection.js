"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _models = _interopRequireDefault(require("../../mo/models"));

var _tableCell = _interopRequireDefault(require("../../mo/models/tableCell"));

const isHideSelection = (controller, {
  selection
} = {}) => {
  const {
    document,
    selection: valueSelection
  } = controller.value;
  const sel = selection || valueSelection;
  const {
    anchor,
    focus,
    data
  } = sel;
  const {
    isByTable
  } = data;
  const startCell = document.getClosest(anchor.key, _tableCell.default.isTableCell);

  if (!startCell) {
    return false;
  }

  const startTable = document.getClosest(startCell.key, _models.default.isTable);

  if (!startTable) {
    return false;
  }

  const endCell = document.getClosest(focus.key, _tableCell.default.isTableCell);

  if (!endCell || !isByTable && startCell.key === endCell.key) {
    return undefined;
  }

  const endTable = document.getClosest(endCell.key, _models.default.isTable);

  if (!endTable) {
    return false;
  }

  return startTable.key === endTable.key;
};

var _default = isHideSelection;
exports.default = _default;
//# sourceMappingURL=isHideSelection.js.map