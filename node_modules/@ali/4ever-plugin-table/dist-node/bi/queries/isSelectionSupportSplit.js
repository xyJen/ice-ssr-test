"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isSelectionSupportSplit;

var _isMoreThanNCell = _interopRequireDefault(require("../utils/isMoreThanNCell"));

var _createTableSelectionForFocusedCell = _interopRequireDefault(require("../utils/createTableSelectionForFocusedCell"));

var _getDataTableSelectionByTable = _interopRequireDefault(require("../utils/getDataTableSelectionByTable"));

function isSelectionSupportSplit(controller, {
  node: table,
  visible
}) {
  if (!table) {
    return false;
  }

  const tableSelection = (0, _getDataTableSelectionByTable.default)(controller, table) || (0, _createTableSelectionForFocusedCell.default)(controller.value, table);

  if (!tableSelection) {
    return false;
  }

  const has1HiddenCell = (0, _isMoreThanNCell.default)(1, 'hidden', {
    visible,
    table,
    selection: tableSelection
  });

  if (!has1HiddenCell) {
    return false;
  }

  const canSplit = controller.query('isAllSelectedCellsComplete', {
    node: table,
    tableSelection
  });
  return canSplit;
}
//# sourceMappingURL=isSelectionSupportSplit.js.map