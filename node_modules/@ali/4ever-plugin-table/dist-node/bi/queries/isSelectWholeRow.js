"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isSelectWholeRow;

/**
 * 是否选中整行（不包括全选）
 */
function isSelectWholeRow(controller, {
  node
}) {
  const tableSelection = controller.query('tableSelection');

  if (!tableSelection || tableSelection.key !== node.key) {
    return false;
  }

  const isSelectWholeTable = controller.query('isSelectWholeTable', {
    node
  });

  if (isSelectWholeTable) {
    return false;
  }

  const tableNodes = node.nodes[0].nodes;
  const tableRow = node.nodes[tableSelection.startRowIndex];
  const endColTableCell = tableRow.nodes[tableSelection.endColIndex];

  if (!endColTableCell) {
    return true;
  }

  const {
    colSpan = 1
  } = endColTableCell?.data || {};
  const isSelecedAllColTableCells = Number(tableSelection.endColIndex) + Number(colSpan) === tableNodes.length;
  return tableSelection.startColIndex === 0 && isSelecedAllColTableCells;
}
//# sourceMappingURL=isSelectWholeRow.js.map