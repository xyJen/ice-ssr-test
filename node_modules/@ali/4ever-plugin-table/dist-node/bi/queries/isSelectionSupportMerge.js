"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isSelectionSupportMerge;

var _isMoreThanNCell = _interopRequireDefault(require("../utils/isMoreThanNCell"));

var _createTableSelectionForFocusedCell = _interopRequireDefault(require("../utils/createTableSelectionForFocusedCell"));

var _getDataTableSelectionByTable = _interopRequireDefault(require("../utils/getDataTableSelectionByTable"));

function isSelectionSupportMerge(controller, {
  node: table,
  visible
}) {
  if (!table) {
    return false;
  }

  const tableSelection = (0, _getDataTableSelectionByTable.default)(controller, table) || (0, _createTableSelectionForFocusedCell.default)(controller.value, table);

  if (!tableSelection) {
    return false;
  }

  const has2VisibleCell = (0, _isMoreThanNCell.default)(2, 'visible', {
    visible,
    table,
    selection: tableSelection
  });

  if (!has2VisibleCell) {
    return false;
  }

  const canMerge = controller.query('isAllSelectedCellsComplete', {
    node: table,
    tableSelection
  });
  return canMerge;
}
//# sourceMappingURL=isSelectionSupportMerge.js.map