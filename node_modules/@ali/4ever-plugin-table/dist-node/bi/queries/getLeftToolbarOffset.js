"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _models = _interopRequireDefault(require("../../mo/models"));

var _tableRow = _interopRequireDefault(require("../../mo/models/tableRow"));

var _tableCell = _interopRequireDefault(require("../../mo/models/tableCell"));

function _default(controller, data) {
  const {
    node
  } = data;

  if (!node) {
    return undefined;
  }

  const {
    document,
    startBlock
  } = controller.value;
  const cell = document.getParent(node.key);
  const row = document.getParent(cell.key);
  const table = _tableRow.default.isTableRow(row) && document.getParent(row.key);
  const isColumns = _models.default.isTable(table) && !!table.data.sr;

  if (cell && _tableCell.default.isTableCell(cell) && !isColumns) {
    const tb = document.getParent(document.getParent(cell.key).key);
    const path = document.getPath(cell.key);

    if (tb && path) {
      const index = path[path.length - 1];
      const moreMargin = index === 0 && tb.contains(startBlock);
      return {
        x: moreMargin ? -20 : -6,
        y: 0
      };
    }
  }

  return undefined;
}
//# sourceMappingURL=getLeftToolbarOffset.js.map