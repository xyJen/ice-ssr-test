"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const r=(new Date).valueOf();exports.getTimeDiffSinceStart=()=>{let t=0;try{t=(()=>{const r=window.performance.timing.fetchStart-window.performance.timing.navigationStart;return Math.round(window.performance.now()-r)})()}catch(e){t=r?(new Date).valueOf()-r:0}return t},exports.normalizeError=r=>{if(!r)return null;let t;if("object"!=typeof r)return t=new Error(String(r)),t;if(r instanceof Error){const e=r;t=new Error,t.message=e.message,t.stack=e.stack,t.name=e.name}else{t=new Error("");try{t.message=JSON.stringify(r)}catch(r){}}return t},exports.normalizeLog=(r,t=!1)=>{if(!r)return{};let e={type:"log"};if(r instanceof Error){const t=r;e.msg=String(t.message),e.stack=String(t.stack),e.type=String(t.name||"sys")}else if("object"!=typeof r)e.msg=String(r);else if(e={...r},t)for(const r in e)e[r]=String(e[r]);return e},exports.toString=r=>{if(!r)return"";if("object"!=typeof r)return String(r);if(r instanceof Error){const t=r;return(t.message||"")+"\nstack:\n"+(t.stack||"")}try{return JSON.stringify(r)}catch(r){}return""},exports.uuid=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=16*Math.random()|0;return("x"===r?t:3&t|8).toString(16)});
