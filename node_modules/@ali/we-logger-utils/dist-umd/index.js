!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self)["@ali/we-logger-utils"]={})}(this,(function(e){"use strict";var r=(new Date).valueOf();var t,n=function(e,r){return e(r={exports:{}},r.exports),r.exports}((function(e){function r(){return e.exports=r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,r.apply(this,arguments)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0})),o=(t=n)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;e.getTimeDiffSinceStart=function(){var e,t=0;try{e=window.performance.timing.fetchStart-window.performance.timing.navigationStart,t=Math.round(window.performance.now()-e)}catch(e){t=r?(new Date).valueOf()-r:0}return t},e.normalizeError=function(e){if(!e)return null;var r;if("object"!=typeof e)return r=new Error(String(e));if(e instanceof Error){var t=e;(r=new Error).message=t.message,r.stack=t.stack,r.name=t.name}else{r=new Error("");try{r.message=JSON.stringify(e)}catch(e){}}return r},e.normalizeLog=function(e,r){if(void 0===r&&(r=!1),!e)return{};var t={type:"log"};if(e instanceof Error){var n=e;t.msg=String(n.message),t.stack=String(n.stack),t.type=String(n.name||"sys")}else if("object"!=typeof e)t.msg=String(e);else if(t=o({},e),r)for(var i in t)t[i]=String(t[i]);return t},e.toString=function(e){if(!e)return"";if("object"!=typeof e)return String(e);if(e instanceof Error){var r=e;return(r.message||"")+"\nstack:\n"+(r.stack||"")}try{return JSON.stringify(e)}catch(e){}return""},e.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)}))},Object.defineProperty(e,"__esModule",{value:!0})}));
