{"version":3,"sources":["../../../../src/bi/handlers/onAction.ts"],"names":["onAction","action","controller","next","type","payload","COLOR_SET","color","COLOR_SET_AT_RANGE","range"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;AAEA,MAAMA,QAA4B,GAAG,CAACC,MAAD,EAASC,UAAT,EAAiCC,IAAjC,KAA0C;AAC7E,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBJ,MAA1B;;AACA,MAAIG,IAAI,KAAKE,kBAAb,EAAwB;AACtB,UAAM;AAAEC,MAAAA;AAAF,QAAYF,OAAlB;AACA,+BAAaH,UAAb,EAAyBK,KAAzB;AACD,GAHD,MAGO,IAAIH,IAAI,KAAKI,2BAAb,EAAiC;AACtC,UAAM;AAAEC,MAAAA,KAAF;AAASF,MAAAA;AAAT,QAAmBF,OAAzB;AACA,kCAAgBH,UAAhB,EAA4BO,KAA5B,EAAmCF,KAAnC;AACD;;AACD,SAAOJ,IAAI,EAAX;AACD,CAVD;;eAYeH,Q","sourcesContent":["import { Controller, Plugin } from '@ali/4ever-cangjie';\nimport { COLOR_SET, COLOR_SET_AT_RANGE } from '../actions';\nimport setColorAtRange from '../commands/setColorAtRange';\nimport setColorMark from '../commands/setColorMark';\n\nconst onAction: Plugin['onAction'] = (action, controller: Controller, next) => {\n  const { type, payload } = action;\n  if (type === COLOR_SET) {\n    const { color } = payload!;\n    setColorMark(controller, color);\n  } else if (type === COLOR_SET_AT_RANGE) {\n    const { range, color } = payload!;\n    setColorAtRange(controller, range, color);\n  }\n  return next();\n}\n\nexport default onAction;"],"file":"onAction.js"}