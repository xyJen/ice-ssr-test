{"version":3,"sources":["../../../../src/bi/queries/getColor.ts"],"names":["getColor","controller","symbolColor","query","colorMark","Color","TYPE","color","data","value","DEFAULT_COLOR"],"mappings":";;;;;;;AACA;;AACA;;AAEe,SAASA,QAAT,CAAkBC,UAAlB,EAA0C;AACvD,QAAMC,WAAW,GAAGD,UAAU,CAACE,KAAX,CAAiB,qBAAjB,EAAwC,OAAxC,CAApB;AACA,MAAID,WAAJ,EAAiB,OAAOA,WAAP;AAEjB,QAAME,SAAS,GAAGH,UAAU,CAACE,KAAX,CAAiB,eAAjB,EAAkCE,uBAAMC,IAAxC,CAAlB;AACA,QAAMC,KAAK,GAAGH,SAAS,IAAIA,SAAS,CAACI,IAAV,CAAeC,KAA1C;AACA,MAAIF,KAAK,KAAK,EAAd,EAAkB,OAAOA,KAAP;AAClB,SAAOA,KAAK,IAAIG,wBAAhB;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { Color } from '@ali/4ever-plugin-marks';\nimport { DEFAULT_COLOR } from '../constants';\n\nexport default function getColor(controller: Controller) {\n  const symbolColor = controller.query('getSymbolStyleByKey', 'color')\n  if (symbolColor) return symbolColor;\n\n  const colorMark = controller.query('getActiveMark', Color.TYPE);\n  const color = colorMark && colorMark.data.value;\n  if (color === '') return color;\n  return color || DEFAULT_COLOR;\n}\n"],"file":"getColor.js"}