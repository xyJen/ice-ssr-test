{"version":3,"sources":["../../../../src/bi/handlers/onAction.ts"],"names":["COLOR_SET","COLOR_SET_AT_RANGE","setColorAtRange","setColorMark","onAction","action","controller","next","type","payload","color","range"],"mappings":"AACA,SAASA,SAAT,EAAoBC,kBAApB;AACA,OAAOC,eAAP;AACA,OAAOC,YAAP;;AAEA,IAAMC,QAA4B,GAAG,SAA/BA,QAA+B,CAACC,MAAD,EAASC,UAAT,EAAiCC,IAAjC,EAA0C;AAAA,MACrEC,IADqE,GACnDH,MADmD,CACrEG,IADqE;AAAA,MAC/DC,OAD+D,GACnDJ,MADmD,CAC/DI,OAD+D;;AAE7E,MAAID,IAAI,KAAKR,SAAb,EAAwB;AAAA,eACJS,OADI;AAAA,QACdC,KADc,QACdA,KADc;AAEtBP,IAAAA,YAAY,CAACG,UAAD,EAAaI,KAAb,CAAZ;AACD,GAHD,MAGO,IAAIF,IAAI,KAAKP,kBAAb,EAAiC;AAAA,gBACbQ,OADa;AAAA,QAC9BE,KAD8B,SAC9BA,KAD8B;AAAA,QACvBD,MADuB,SACvBA,KADuB;AAEtCR,IAAAA,eAAe,CAACI,UAAD,EAAaK,KAAb,EAAoBD,MAApB,CAAf;AACD;;AACD,SAAOH,IAAI,EAAX;AACD,CAVD;;AAYA,eAAeH,QAAf","sourcesContent":["import { Controller, Plugin } from '@ali/4ever-cangjie';\nimport { COLOR_SET, COLOR_SET_AT_RANGE } from '../actions';\nimport setColorAtRange from '../commands/setColorAtRange';\nimport setColorMark from '../commands/setColorMark';\n\nconst onAction: Plugin['onAction'] = (action, controller: Controller, next) => {\n  const { type, payload } = action;\n  if (type === COLOR_SET) {\n    const { color } = payload!;\n    setColorMark(controller, color);\n  } else if (type === COLOR_SET_AT_RANGE) {\n    const { range, color } = payload!;\n    setColorAtRange(controller, range, color);\n  }\n  return next();\n}\n\nexport default onAction;"],"file":"onAction.js"}