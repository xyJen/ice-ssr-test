{"version":3,"sources":["../../../../src/bi/queries/getColor.ts"],"names":["Color","DEFAULT_COLOR","getColor","controller","symbolColor","query","colorMark","TYPE","color","data","value"],"mappings":"AACA,SAASA,KAAT,QAAsB,yBAAtB;AACA,SAASC,aAAT;AAEA,eAAe,SAASC,QAAT,CAAkBC,UAAlB,EAA0C;AACvD,MAAMC,WAAW,GAAGD,UAAU,CAACE,KAAX,CAAiB,qBAAjB,EAAwC,OAAxC,CAApB;AACA,MAAID,WAAJ,EAAiB,OAAOA,WAAP;AAEjB,MAAME,SAAS,GAAGH,UAAU,CAACE,KAAX,CAAiB,eAAjB,EAAkCL,KAAK,CAACO,IAAxC,CAAlB;AACA,MAAMC,KAAK,GAAGF,SAAS,IAAIA,SAAS,CAACG,IAAV,CAAeC,KAA1C;AACA,MAAIF,KAAK,KAAK,EAAd,EAAkB,OAAOA,KAAP;AAClB,SAAOA,KAAK,IAAIP,aAAhB;AACD","sourcesContent":["import { Controller } from '@ali/4ever-cangjie';\nimport { Color } from '@ali/4ever-plugin-marks';\nimport { DEFAULT_COLOR } from '../constants';\n\nexport default function getColor(controller: Controller) {\n  const symbolColor = controller.query('getSymbolStyleByKey', 'color')\n  if (symbolColor) return symbolColor;\n\n  const colorMark = controller.query('getActiveMark', Color.TYPE);\n  const color = colorMark && colorMark.data.value;\n  if (color === '') return color;\n  return color || DEFAULT_COLOR;\n}\n"],"file":"getColor.js"}