{"version":3,"sources":["../../../src/Toolbar/inlineToolbar.tsx"],"names":["React","Controller","useScrollableContent","Dropdown","ToolbarMode","Toolbar","usePlugins","InlineToolbar","props","controller","useController","plugins","triggerNode","visible","children","getDropdwonContainer","inlineLayout","customToolButtons","hiddenToolButtons","style","overlayStyle","overlayClassName","testid","rest","scrollableContent","getScrollableContent","useCallback","window","document","body","overlay","inline","undefined"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;qBAC4B,a;AAA5B,SAASC,UAAT,EAAqBC,oBAArB,QAAiD,oBAAjD;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAAmCC,WAAnC;AACA,OAAOC,OAAP;AACA,SAASC,UAAT;AAEA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,aAAiD,GAAG,SAApDA,aAAoD,CAACC,KAAD,EAAW;AAC1E,MAAMC,UAAU,GAAGR,UAAU,CAACS,aAAX,EAAnB;AACA,MAAMC,OAAO,GAAGL,UAAU,EAA1B;;AAF0E,MAIxEM,WAJwE,GAgBtEJ,KAhBsE,CAIxEI,WAJwE;AAAA,MAKxEC,OALwE,GAgBtEL,KAhBsE,CAKxEK,OALwE;AAAA,MAMxEC,QANwE,GAgBtEN,KAhBsE,CAMxEM,QANwE;AAAA,MAOxEC,oBAPwE,GAgBtEP,KAhBsE,CAOxEO,oBAPwE;AAAA,MAQxEC,YARwE,GAgBtER,KAhBsE,CAQxEQ,YARwE;AAAA,MASxEC,iBATwE,GAgBtET,KAhBsE,CASxES,iBATwE;AAAA,MAUxEC,iBAVwE,GAgBtEV,KAhBsE,CAUxEU,iBAVwE;AAAA,MAWxEC,KAXwE,GAgBtEX,KAhBsE,CAWxEW,KAXwE;AAAA,MAYxEC,YAZwE,GAgBtEZ,KAhBsE,CAYxEY,YAZwE;AAAA,MAaxEC,gBAbwE,GAgBtEb,KAhBsE,CAaxEa,gBAbwE;AAAA,MAcxEC,MAdwE,GAgBtEd,KAhBsE,CAcxEc,MAdwE;AAAA,MAerEC,IAfqE,iCAgBtEf,KAhBsE;;AAkB1E,MAAMgB,iBAAiB,GAAGtB,oBAAoB,EAA9C;AACA,MAAMuB,oBAAoB,GAAGzB,KAAK,CAAC0B,WAAN,CAAkB,YAAM;AACnD,WAAOF,iBAAiB,IAAIG,MAAM,CAACC,QAAP,CAAgBC,IAA5C;AACD,GAF4B,EAE1B,CAACL,iBAAD,CAF0B,CAA7B;AAIA,MAAMM,OAAO,GAAGjB,OAAO,gBACrB,eAAC,OAAD;AACE,IAAA,KAAK,EAAEM,KADT;AAEE,IAAA,UAAU,EAAEV,UAFd;AAGE,IAAA,OAAO,EAAEE,OAHX;AAIE,IAAA,WAAW,EAAEP,WAAW,CAAC2B,MAJ3B;AAKE,IAAA,YAAY,EAAEf,YALhB;AAME,IAAA,iBAAiB,EAAEC,iBANrB;AAOE,IAAA,iBAAiB,EAAEC,iBAPrB;AAQE,IAAA,MAAM,EAAEI,MAAM,uBAAqBA,MAArB,GAAgCU;AARhD,IADqB,GAWnB,IAXJ;AAaA,sBACE,eAAC,QAAD;AACE,IAAA,OAAO,EAAEnB,OADX;AAEE,IAAA,SAAS,EAAC,SAFZ;AAGE,IAAA,OAAO,EAAC,OAHV;AAIE,IAAA,OAAO,EAAE,CAAC,CAJZ;AAKE,IAAA,WAAW,EAAED,WALf;AAME,IAAA,YAAY,EAAEG,oBAAoB,IAAIU,oBANxC;AAOE,IAAA,YAAY,EAAEL,YAPhB;AAQE,IAAA,gBAAgB,EAAEC;AARpB,KASME,IATN;AAUE,IAAA,OAAO,EAAEO;AAVX,MAYGhB,QAZH,CADF;AAgBD,CApDM","sourcesContent":["import * as React from 'react';\nimport { Controller, useScrollableContent } from '@ali/4ever-cangjie';\nimport { Dropdown } from '@ali/we-design';\nimport { InlineToolbarRenderProps, ToolbarMode } from './interface';\nimport Toolbar from './toolbarRenderNext';\nimport { usePlugins } from '../PluginsContext';\n\n/**\n * 使用dropdown包装一层toolbar，防止toolbar被其它元素遮挡\n * @param props\n */\nexport const InlineToolbar: React.FC<InlineToolbarRenderProps> = (props) => {\n  const controller = Controller.useController();\n  const plugins = usePlugins();\n  const {\n    triggerNode,\n    visible,\n    children,\n    getDropdwonContainer,\n    inlineLayout,\n    customToolButtons,\n    hiddenToolButtons,\n    style,\n    overlayStyle,\n    overlayClassName,\n    testid,\n    ...rest\n  } = props;\n\n  const scrollableContent = useScrollableContent();\n  const getScrollableContent = React.useCallback(() => {\n    return scrollableContent || window.document.body;\n  }, [scrollableContent]);\n\n  const overlay = visible ? (\n    <Toolbar\n      style={style}\n      controller={controller}\n      plugins={plugins}\n      toolbarMode={ToolbarMode.inline}\n      inlineLayout={inlineLayout}\n      customToolButtons={customToolButtons}\n      hiddenToolButtons={hiddenToolButtons}\n      testid={testid ? `inline-toolbar-${testid}` : undefined}\n    />\n  ) : null;\n\n  return (\n    <Dropdown\n      visible={visible}\n      placement=\"topLeft\"\n      trigger=\"click\"\n      offsetY={-6}\n      triggerNode={triggerNode}\n      getContainer={getDropdwonContainer || getScrollableContent}\n      overlayStyle={overlayStyle}\n      overlayClassName={overlayClassName}\n      {...rest}\n      overlay={overlay}\n    >\n      {children}\n    </Dropdown>\n  );\n};\n\n"],"file":"inlineToolbar.js"}