{"version":3,"sources":["../../../../src/MobileToolbar/panels/header.tsx"],"names":["React","blockEvent","HeaderWrapper","IconWrapper","HeaderText","Header","onDragOffsetChange","onDragStatusChange","Title","title","Icon","ref","useRef","dragOffset","isDragging","handleTouchStart","useCallback","event","current","touchY","touches","clientY","handleTouchMove","handleTouchEnd","useEffect","domNode","undefined","addEventListener","passive","removeEventListener"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { blockEvent } from '../utils';\nimport { HeaderWrapper, IconWrapper, HeaderText } from './styled';\n\ninterface HeaderProps {\n  title: string | React.ComponentType;\n  onDragOffsetChange: (yOffset: number) => void;\n  onDragStatusChange: (isDragging: boolean) => void;\n  Icon?: React.ComponentType;\n}\n\nexport default function Header({\n  onDragOffsetChange,\n  onDragStatusChange,\n  title: Title,\n  Icon,\n}: HeaderProps) {\n  const ref = React.useRef<HTMLDivElement | null>(null);\n  const dragOffset = React.useRef(0);\n  const isDragging = React.useRef(false);\n  const handleTouchStart = React.useCallback((event: TouchEvent) => {\n    blockEvent(event);\n    isDragging.current = true;\n    onDragStatusChange(true);\n    const { clientY: touchY } = event.touches[0];\n    dragOffset.current = touchY;\n  }, []);\n  const handleTouchMove = React.useCallback((event: TouchEvent) => {\n    blockEvent(event);\n    if (!isDragging.current) {\n      return;\n    }\n    const { clientY: touchY } = event.touches[0];\n    onDragOffsetChange(touchY - dragOffset.current!);\n  }, []);\n  const handleTouchEnd = React.useCallback((event: TouchEvent) => {\n    blockEvent(event);\n    isDragging.current = false;\n    onDragStatusChange(false);\n  }, []);\n  React.useEffect(() => {\n    const domNode = ref.current;\n    if (!domNode) {\n      return undefined;\n    }\n\n    domNode.addEventListener('touchstart', handleTouchStart, {\n      passive: false,\n    });\n    domNode.addEventListener('touchmove', handleTouchMove, { passive: false });\n    domNode.addEventListener('touchend', handleTouchEnd, { passive: false });\n    domNode.addEventListener('touchcancel', handleTouchEnd, { passive: false });\n\n    return () => {\n      domNode.removeEventListener('touchstart', handleTouchStart);\n      domNode.removeEventListener('touchmove', handleTouchMove);\n      domNode.removeEventListener('touchend', handleTouchEnd);\n      domNode.removeEventListener('touchcancel', handleTouchEnd);\n    };\n  }, [handleTouchStart, handleTouchMove, handleTouchEnd]);\n  return (\n    <HeaderWrapper data-panel-header ref={ref}>\n      {typeof Title === 'string' ? (\n        <React.Fragment>\n          {!!Icon && (\n            <IconWrapper>\n              <Icon />\n            </IconWrapper>\n          )}\n          <HeaderText hasIcon={!!Icon}>{Title}</HeaderText>\n        </React.Fragment>\n      ) : (\n        <Title />\n      )}\n    </HeaderWrapper>\n  );\n}\n"],"file":"header.js"}