{"version":3,"sources":["../../../../src/MobileToolbar/hooks/useExternalClick.ts"],"names":["React","KEEP_TOOLBAR","useExternalClick","ref","callback","useEffect","handleClick","event","target","HTMLElement","isSelfClick","current","contains","closest","window","document","addEventListener","capture","removeEventListener"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,YAAY,GAAG,mBAArB;AAEP,OAAO,SAASC,gBAAT,CACLC,GADK,EAELC,QAFK,EAGL;AACAJ,EAAAA,KAAK,CAACK,SAAN,CAAgB,YAAM;AACpB,QAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAuB;AAAA;;AAAA,UACjCC,MADiC,GACtBD,KADsB,CACjCC,MADiC;;AAEzC,UAAI,EAAEA,MAAM,YAAYC,WAApB,CAAJ,EAAsC;AACpC;AACD;;AACD,UAAMC,WAAW,GACf,iBAAAP,GAAG,CAACQ,OAAJ,kCAAaC,QAAb,CAAsBJ,MAAtB,MACA,CAAC,CAACA,MAAM,CAACK,OAAP,OAAmBZ,YAAnB,YAAsCA,YAAtC,CAFJ;AAGA,OAACS,WAAD,IAAgBN,QAAQ,EAAxB;AACD,KATD;;AAUAU,IAAAA,MAAM,CAACC,QAAP,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0CV,WAA1C,EAAuD;AAAEW,MAAAA,OAAO,EAAE;AAAX,KAAvD;AACA,WAAO,YAAM;AACXH,MAAAA,MAAM,CAACC,QAAP,CAAgBG,mBAAhB,CAAoC,OAApC,EAA6CZ,WAA7C,EAA0D;AACxDW,QAAAA,OAAO,EAAE;AAD+C,OAA1D;AAGD,KAJD;AAKD,GAjBD,EAiBG,CAACd,GAAD,EAAMC,QAAN,CAjBH;AAkBD","sourcesContent":["import React from 'react';\n\nexport const KEEP_TOOLBAR = 'data-keep-toolbar';\n\nexport function useExternalClick(\n  ref: React.RefObject<HTMLDivElement | null>,\n  callback: Function,\n) {\n  React.useEffect(() => {\n    const handleClick = (event: MouseEvent) => {\n      const { target } = event;\n      if (!(target instanceof HTMLElement)) {\n        return;\n      }\n      const isSelfClick =\n        ref.current?.contains(target) ||\n        !!target.closest(`[${KEEP_TOOLBAR}], .${KEEP_TOOLBAR}`);\n      !isSelfClick && callback();\n    };\n    window.document.addEventListener('click', handleClick, { capture: true });\n    return () => {\n      window.document.removeEventListener('click', handleClick, {\n        capture: true,\n      });\n    };\n  }, [ref, callback]);\n}\n"],"file":"useExternalClick.js"}