import _inheritsLoose from "@babel/runtime/helpers/inheritsLoose";
import * as React from 'react';
import logger from '@ali/4ever-logger';
export var ErrorBoundary = /*#__PURE__*/function (_React$Component) {
  _inheritsLoose(ErrorBoundary, _React$Component);

  function ErrorBoundary(props) {
    var _this;

    _this = _React$Component.call(this, props) || this;
    _this.state = {
      hasError: false
    };
    return _this;
  }

  var _proto = ErrorBoundary.prototype;

  _proto.componentDidCatch = function componentDidCatch(e) {
    var errorTitle = this.props.errorTitle;
    logger.error(errorTitle, e);
    this.setState({
      hasError: true
    });
  };

  _proto.render = function render() {
    var _this$props = this.props,
        children = _this$props.children,
        fallback = _this$props.fallback;
    var hasError = this.state.hasError;
    if (hasError) return fallback;
    return children;
  };

  return ErrorBoundary;
}(React.Component);
//# sourceMappingURL=index.js.map