{"version":3,"sources":["../../../../../../src/ToolbarNext/basicComponents/buttons/borderSet/BorderSet.tsx"],"names":["React","useCallback","useMemo","useState","IconTableBorder","IconBorderBottom","IconBorderInner","IconBorderInnerHorizon","IconBorderInnerVertical","IconBorderLeft","IconBorderNone","IconBorderOuter","IconBorderRight","IconBorderTop","BorderSetWrapper","BorderPicker","SplitButton","DEFAULT_BORDER","layout","color","style","DEFAULT_PRESET","key","width","units","ICON_DEFAULT_COLOR","renderShowIcon","innerBorderType","stopEvent","e","stopPropagation","BorderSet","props","onChange","onLeftClick","rest","border","setBorder","pathColors","undefined","handleBorderChange","newBorder","handleClickLeft"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo, useState } from 'react';\nimport {\n  IconTableBorder,\n  IconBorderBottom,\n  IconBorderInner,\n  IconBorderInnerHorizon,\n  IconBorderInnerVertical,\n  IconBorderLeft,\n  IconBorderNone,\n  IconBorderOuter,\n  IconBorderRight,\n  IconBorderTop,\n} from '../../icons';\nimport {\n  BorderSetWrapper,\n} from './styled';\nimport { BorderPicker, SplitButton } from '../Basics';\n\n\ntype IBorder = NonNullable<React.ComponentProps<typeof BorderPicker>['border']>\ntype IBorderStylePreset = NonNullable<React.ComponentProps<typeof BorderPicker>['preset']>\n\nconst DEFAULT_BORDER: IBorder = {\n  layout: 'all',\n  color: '#000000',\n  style: 'Thin'\n};\n\nconst DEFAULT_PRESET: IBorderStylePreset = [\n  {\n    key: 'Thin', style: { width: 1, units: [1] },\n  },\n  {\n    key: 'Medium', style: { width: 2, units: [1] },\n  },\n  {\n    key: 'Thick', style: { width: 3, units: [1] },\n  },\n  {\n    key: 'Dashed', style: { width: 1, units: [3, 2] },\n  },\n  {\n    key: 'MediumDashed', style: { width: 2, units: [9, 3] },\n  },\n];\n\nexport interface IBorderSetProps extends Pick<Partial<React.ComponentProps<typeof SplitButton>>, 'onVisibleChange' | 'title' | 'tooltip' | 'icon' | 'disabled' | 'testid' | 'role'> {\n  /**\n   * 边框属性发生变化时的回调\n   * changeProps: 发生变化的属性值\n   * allProps: BorderSet相关的所有属性集\n   */\n  onChange?: (\n    allProps: Required<IBorder>,\n  ) => void;\n  /**\n   * 点击左侧按钮的回调\n   */\n  onLeftClick?: (allProps: Required<IBorder>) => void;\n}\n\n\n\nconst ICON_DEFAULT_COLOR = 'rgba(58, 60, 63, 1)';\n\nconst renderShowIcon = (innerBorderType: IBorder['layout'], color) => {\n\n  switch (innerBorderType) {\n    case 'outer':\n      return <IconBorderOuter color={color} />;\n    case 'inner':\n      return <IconBorderInner color={color} />;\n    case 'all':\n      return <IconTableBorder color={color} />;\n    case 'left':\n      return <IconBorderLeft color={color} />;\n    case 'right':\n      return <IconBorderRight color={color} />;\n    case 'top':\n      return <IconBorderTop color={color} />;\n    case 'bottom':\n      return <IconBorderBottom color={color} />;\n    case 'none':\n      return <IconBorderNone color={color} />;\n    case 'horizon':\n      return <IconBorderInnerHorizon color={color} />;\n    case 'vertical':\n      return <IconBorderInnerVertical color={color} />;\n    default:\n      return <IconBorderNone color={color} />;\n  }\n};\n\nconst stopEvent = (e: React.MouseEvent) => e.stopPropagation();\n\n\nexport const BorderSet: React.FC<IBorderSetProps> = (props) => {\n  const { onChange, onLeftClick, ...rest } = props;\n\n  const [border, setBorder] = useState<IBorder>(DEFAULT_BORDER);\n\n  const pathColors = useMemo(() => {\n    return border.layout === 'none'\n      ? undefined\n      : border.color || ICON_DEFAULT_COLOR;\n  }, [border])\n\n\n  const handleBorderChange = useCallback((newBorder: IBorder) => {\n    setBorder(newBorder);\n    onChange?.(newBorder);\n  }, [onChange]);\n\n  const handleClickLeft = useCallback(() => {\n    onLeftClick?.(border);\n  }, [border, onLeftClick]);\n\n\n\n  return (\n    <SplitButton\n      testid={'BorderSet'}\n      overlay={(\n        <BorderSetWrapper >\n          <BorderPicker\n            border={border}\n            onBorderChange={handleBorderChange}\n            preset={DEFAULT_PRESET}\n          />\n        </BorderSetWrapper>\n      )}\n      icon={renderShowIcon(border.layout, pathColors)}\n      onClick={handleClickLeft}\n      // style={splitButtonStyle}\n      {...rest}\n    />)\n}\n\n"],"file":"BorderSet.js"}