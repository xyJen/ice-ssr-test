{"version":3,"sources":["../../../src/Sidebar/Collapse.tsx"],"names":["React","styled","ArrowRightNormal","blockEvent","CollapseContent","CollapseWrapper","div","CommonContent","CollapseTitleWrapper","p","clickable","CollapseTitleContent","CollapseTitleFoldIconWrapper","fold","Collapse","props","renderTitle","defaultFold","useCollapse","useState","setFold","handleClickTitle","useCallback","e","stopPropagation","preventDefault","marginBottom","children"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;qBAC4B,a;AAA5B,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,gBAAT,QAAiC,cAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,eAAP;AASA,IAAMC,eAAe,gBAAGJ,MAAM,CAACK,GAAV,MAArB;AAEA,IAAMC,aAAa,gBAAGN,MAAM,CAACK,GAAV,yBAAnB;AAIA,IAAME,oBAAoB,gBAAGP,MAAM,CAACK,GAAV,4JAId,UAACG,CAAD;AAAA,SAAQA,CAAC,CAACC,SAAF,GAAc,SAAd,GAA0B,MAAlC;AAAA,CAJc,CAA1B;AAYA,IAAMC,oBAAoB,gBAAGV,MAAM,CAACK,GAAV,8BAA1B;AAKA,IAAMM,4BAA4B,gBAAGX,MAAM,CAACK,GAAV,0JAMjB,UAACG,CAAD;AAAA,SAAQ,CAACA,CAAC,CAACI,IAAH,GAAU,eAAV,GAA4B,MAApC;AAAA,CANiB,CAAlC;;wBA8Bc,eAAC,gBAAD;AAAkB,EAAA,SAAS,EAAC;AAA5B,E;;AAnBd,IAAMC,QAAkC,GAAG,SAArCA,QAAqC,CAACC,KAAD,EAAW;AAAA,MAC5CC,WAD4C,GACaD,KADb,CAC5CC,WAD4C;AAAA,2BACaD,KADb,CAC/BE,WAD+B;AAAA,MAC/BA,WAD+B,mCACjB,IADiB;AAAA,2BACaF,KADb,CACXG,WADW;AAAA,MACXA,WADW,mCACG,KADH;;AAAA,wBAE5BlB,KAAK,CAACmB,QAAN,CAAeD,WAAW,IAAID,WAA9B,CAF4B;AAAA,MAE7CJ,IAF6C;AAAA,MAEvCO,OAFuC;;AAIpD,MAAMC,gBAAgB,GAAGrB,KAAK,CAACsB,WAAN,CAAkB,UAACC,CAAD,EAAyB;AAClE,QAAI,CAACL,WAAL,EAAkB;AAChB;AACD;;AACDK,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;AACAL,IAAAA,OAAO,CAAC,CAACP,IAAF,CAAP;AACD,GAPwB,EAOtB,CAACA,IAAD,EAAOK,WAAP,CAPsB,CAAzB;AASA,sBACE,eAAC,eAAD,qBACE,eAAC,oBAAD;AAAsB,IAAA,OAAO,EAAEG,gBAA/B;AAAiD,IAAA,WAAW,EAAElB,UAA9D;AAA0E,IAAA,SAAS,EAAEe;AAArF,KAEIA,WAAW,iBACT,eAAC,4BAAD;AAA8B,IAAA,IAAI,EAAEL;AAApC,UAHN,eAQE,eAAC,oBAAD,QACGG,WAAW,EADd,CARF,CADF,EAcIE,WAAW,gBAEP,eAAC,eAAD;AACE,IAAA,IAAI,EAAEL,IADR;AAEE,IAAA,OAAO,MAFT;AAGE,IAAA,KAAK,EAAE;AACLa,MAAAA,YAAY,EAAE;AADT;AAHT,KAOGX,KAAK,CAACY,QAPT,CAFO,gBAaP,eAAC,aAAD,QACGZ,KAAK,CAACY,QADT,CA3BR,CADF;AAmCD,CAhDD;;AAkDA,eAAeb,QAAf","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { ArrowRightNormal } from '@ali/we-icon';\nimport { blockEvent } from '@ali/4ever-utils';\nimport CollapseContent from './CollapseContent';\n\nexport interface ICollapseProps{\n  renderTitle: () => React.ReactNode;\n  isDisabled?: () => boolean; // TODO： @淼淼 可以设置禁用\n  defaultFold?: boolean;\n  useCollapse?: boolean; // 折叠组件有性能问题，若使用需要优化后再使用\n}\n\nconst CollapseWrapper = styled.div``;\n\nconst CommonContent = styled.div`\n  margin-bottom: 12px;\n`;\n\nconst CollapseTitleWrapper = styled.div<{ clickable?: boolean }>`\n  position: relative;\n  display: flex;\n  align-items: center;\n  cursor: ${(p) => (p.clickable ? 'pointer' : 'auto')};\n  font-weight: 500;\n  font-size: 14px;\n  margin-bottom: 12px;\n  color: rgb(23, 26, 29);\n  user-select: none;\n`;\n\nconst CollapseTitleContent = styled.div`\n  flex: 1;\n  line-height: 22px;\n`;\n\nconst CollapseTitleFoldIconWrapper = styled.div<{ fold: boolean }>`\n  display: flex;\n  align-items: center;\n  margin-right: 6px;\n  .collapse-arrow-icon {\n    transform-origin: center center;\n    transform: ${(p) => (!p.fold ? 'rotate(90deg)' : 'none')};\n    transition: transform 0.3 ease;\n  }\n`;\n\nconst Collapse: React.FC<ICollapseProps> = (props) => {\n  const { renderTitle, defaultFold = true, useCollapse = false } = props;\n  const [fold, setFold] = React.useState(useCollapse && defaultFold);\n\n  const handleClickTitle = React.useCallback((e: React.MouseEvent) => {\n    if (!useCollapse) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    setFold(!fold);\n  }, [fold, useCollapse]);\n\n  return (\n    <CollapseWrapper>\n      <CollapseTitleWrapper onClick={handleClickTitle} onMouseDown={blockEvent} clickable={useCollapse}>\n        {\n          useCollapse && (\n            <CollapseTitleFoldIconWrapper fold={fold}>\n              <ArrowRightNormal className=\"collapse-arrow-icon\" />\n            </CollapseTitleFoldIconWrapper>\n          )\n        }\n        <CollapseTitleContent>\n          {renderTitle()}\n        </CollapseTitleContent>\n      </CollapseTitleWrapper>\n      {\n        useCollapse\n          ? (\n            <CollapseContent\n              fold={fold}\n              animate\n              style={{\n                marginBottom: 12,\n              }}\n            >\n              {props.children}\n            </CollapseContent>\n          )\n          : (\n            <CommonContent>\n              {props.children}\n            </CommonContent>\n          )\n      }\n    </CollapseWrapper>\n  );\n};\n\nexport default Collapse;\n"],"file":"Collapse.js"}