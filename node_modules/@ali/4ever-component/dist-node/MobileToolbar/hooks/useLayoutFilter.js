"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useResizer;

var _react = _interopRequireDefault(require("react"));

var _lodash = require("lodash");

function useResizer(allLayout) {
  const [width, setWidth] = _react.default.useState(Math.round(window.innerWidth));

  _react.default.useEffect(() => {
    const handleResize = (0, _lodash.debounce)(() => {
      const w = Math.round(window.innerWidth);
      setWidth(w);
    }, 100);
    window.addEventListener('resize', handleResize);
    return () => {
      handleResize.cancel();
      window.removeEventListener('resize', handleResize);
    };
  }, []);

  const layout = _react.default.useMemo(() => {
    const newLayout = allLayout.filter(({
      widthRange
    }) => {
      if (!widthRange) {
        return true;
      }

      const [start, end = Number.MAX_SAFE_INTEGER] = widthRange;

      if (width >= start && width < end) {
        return true;
      }

      return false;
    });
    return newLayout;
  }, [allLayout, width]);

  return layout;
}
//# sourceMappingURL=useLayoutFilter.js.map