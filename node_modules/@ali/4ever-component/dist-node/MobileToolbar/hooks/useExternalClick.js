"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useExternalClick = useExternalClick;
exports.KEEP_TOOLBAR = void 0;

var _react = _interopRequireDefault(require("react"));

const KEEP_TOOLBAR = 'data-keep-toolbar';
exports.KEEP_TOOLBAR = KEEP_TOOLBAR;

function useExternalClick(ref, callback) {
  _react.default.useEffect(() => {
    const handleClick = event => {
      const {
        target
      } = event;

      if (!(target instanceof HTMLElement)) {
        return;
      }

      const isSelfClick = ref.current?.contains(target) || !!target.closest(`[${KEEP_TOOLBAR}], .${KEEP_TOOLBAR}`);
      !isSelfClick && callback();
    };

    window.document.addEventListener('click', handleClick, {
      capture: true
    });
    return () => {
      window.document.removeEventListener('click', handleClick, {
        capture: true
      });
    };
  }, [ref, callback]);
}
//# sourceMappingURL=useExternalClick.js.map