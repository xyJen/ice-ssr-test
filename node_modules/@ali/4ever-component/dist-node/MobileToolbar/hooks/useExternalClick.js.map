{"version":3,"sources":["../../../../src/MobileToolbar/hooks/useExternalClick.ts"],"names":["KEEP_TOOLBAR","useExternalClick","ref","callback","React","useEffect","handleClick","event","target","HTMLElement","isSelfClick","current","contains","closest","window","document","addEventListener","capture","removeEventListener"],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAMA,YAAY,GAAG,mBAArB;;;AAEA,SAASC,gBAAT,CACLC,GADK,EAELC,QAFK,EAGL;AACAC,iBAAMC,SAAN,CAAgB,MAAM;AACpB,UAAMC,WAAW,GAAIC,KAAD,IAAuB;AACzC,YAAM;AAAEC,QAAAA;AAAF,UAAaD,KAAnB;;AACA,UAAI,EAAEC,MAAM,YAAYC,WAApB,CAAJ,EAAsC;AACpC;AACD;;AACD,YAAMC,WAAW,GACfR,GAAG,CAACS,OAAJ,EAAaC,QAAb,CAAsBJ,MAAtB,KACA,CAAC,CAACA,MAAM,CAACK,OAAP,CAAgB,IAAGb,YAAa,OAAMA,YAAa,EAAnD,CAFJ;AAGA,OAACU,WAAD,IAAgBP,QAAQ,EAAxB;AACD,KATD;;AAUAW,IAAAA,MAAM,CAACC,QAAP,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0CV,WAA1C,EAAuD;AAAEW,MAAAA,OAAO,EAAE;AAAX,KAAvD;AACA,WAAO,MAAM;AACXH,MAAAA,MAAM,CAACC,QAAP,CAAgBG,mBAAhB,CAAoC,OAApC,EAA6CZ,WAA7C,EAA0D;AACxDW,QAAAA,OAAO,EAAE;AAD+C,OAA1D;AAGD,KAJD;AAKD,GAjBD,EAiBG,CAACf,GAAD,EAAMC,QAAN,CAjBH;AAkBD","sourcesContent":["import React from 'react';\n\nexport const KEEP_TOOLBAR = 'data-keep-toolbar';\n\nexport function useExternalClick(\n  ref: React.RefObject<HTMLDivElement | null>,\n  callback: Function,\n) {\n  React.useEffect(() => {\n    const handleClick = (event: MouseEvent) => {\n      const { target } = event;\n      if (!(target instanceof HTMLElement)) {\n        return;\n      }\n      const isSelfClick =\n        ref.current?.contains(target) ||\n        !!target.closest(`[${KEEP_TOOLBAR}], .${KEEP_TOOLBAR}`);\n      !isSelfClick && callback();\n    };\n    window.document.addEventListener('click', handleClick, { capture: true });\n    return () => {\n      window.document.removeEventListener('click', handleClick, {\n        capture: true,\n      });\n    };\n  }, [ref, callback]);\n}\n"],"file":"useExternalClick.js"}