{"version":3,"sources":["../../../src/SelectionBar/context.tsx"],"names":["DEFAULT_COLOR","INITIAL_HIGHLIGHT","INITIAL_FILL","INITIAL_CAN_HIDE","SelectionBarContext","React","createContext","useSelectionBarContext","context","useContext","Error","SelectionBarProvider","props","state","dispatch","useReducer","selectionBarReducer","lastColor","lastHighlight","lastFill","canHide","actions","useMemo","updateLastColor","color","type","UPDATE_LAST_COLOR","payload","updateLastHighlight","highlight","UPDATE_LAST_HIGHLIGHT","updateLastFill","fill","UPDATE_LAST_FILL","updateCanHide","UPDATE_CAN_HIDE","contextValue","children"],"mappings":";;;;;;;;;;;;AAAA;;AACA;;uBAA4B,a;AAO5B,MAAM,CACJA,aADI,EAEJC,iBAFI,EAGJC,YAHI,EAIJC,gBAJI,IAKD,CACH,SADG,EAEH,SAFG,EAGH,SAHG,EAIH,IAJG,CALL;;AAoBO,MAAMC,mBAAmB,gBAAGC,eAAMC,aAAN,CAEjC,IAFiC,CAA5B;;;;AAIA,SAASC,sBAAT,GAAkC;AACvC,QAAMC,OAAO,GAAGH,eAAMI,UAAN,CAAiBL,mBAAjB,CAAhB;;AAEA,MAAI,CAACI,OAAL,EAAc;AACZ,UAAM,IAAIE,KAAJ,CAAU,gCAAV,CAAN;AACD;;AAED,SAAOF,OAAP;AACD;;AAEM,MAAMG,oBAAmC,GAAIC,KAAD,IAAW;AAC5D,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,eAAMU,UAAN,CAAiBC,gBAAjB,EAAsC;AAC9DC,IAAAA,SAAS,EAAEjB,aADmD;AAE9DkB,IAAAA,aAAa,EAAEjB,iBAF+C;AAG9DkB,IAAAA,QAAQ,EAAEjB,YAHoD;AAI9DkB,IAAAA,OAAO,EAAEjB;AAJqD,GAAtC,CAA1B;;AAOA,QAAMkB,OAA2B,GAAGhB,eAAMiB,OAAN,CAClC,OAAO;AACLC,IAAAA,eAAe,EAAGC,KAAD,IAAW;AAC1BV,MAAAA,QAAQ,CAAC;AAAEW,QAAAA,IAAI,EAAEC,0BAAR;AAA2BC,QAAAA,OAAO,EAAEH;AAApC,OAAD,CAAR;AACD,KAHI;AAILI,IAAAA,mBAAmB,EAAGC,SAAD,IAAe;AAClCf,MAAAA,QAAQ,CAAC;AAAEW,QAAAA,IAAI,EAAEK,8BAAR;AAA+BH,QAAAA,OAAO,EAAEE;AAAxC,OAAD,CAAR;AACD,KANI;AAOLE,IAAAA,cAAc,EAAGC,IAAD,IAAU;AACxBlB,MAAAA,QAAQ,CAAC;AAAEW,QAAAA,IAAI,EAAEQ,yBAAR;AAA0BN,QAAAA,OAAO,EAAEK;AAAnC,OAAD,CAAR;AACD,KATI;AAULE,IAAAA,aAAa,EAAGd,OAAD,IAAa;AAC1BN,MAAAA,QAAQ,CAAC;AAAEW,QAAAA,IAAI,EAAEU,wBAAR;AAAyBR,QAAAA,OAAO,EAAEP;AAAlC,OAAD,CAAR;AACD;AAZI,GAAP,CADkC,EAelC,EAfkC,CAApC;;AAkBA,QAAMgB,YAGL,GAAG/B,eAAMiB,OAAN,CAAc,MAAM,CAACT,KAAD,EAAQQ,OAAR,CAApB,EAAsC,CAACA,OAAD,EAAUR,KAAV,CAAtC,CAHJ;;AAKA,sBACE,eAAC,mBAAD,CAAqB,QAArB;AAA8B,IAAA,KAAK,EAAEuB;AAArC,KACGxB,KAAK,CAACyB,QADT,CADF;AAKD,CApCM","sourcesContent":["import React from 'react';\nimport selectionBarReducer, {\n  UPDATE_CAN_HIDE,\n  UPDATE_LAST_COLOR,\n  UPDATE_LAST_FILL,\n  UPDATE_LAST_HIGHLIGHT,\n} from './reducer';\nimport type { SelectionBarContextInterface } from './types';\nconst [\n  DEFAULT_COLOR,\n  INITIAL_HIGHLIGHT,\n  INITIAL_FILL,\n  INITIAL_CAN_HIDE,\n ] = [\n  '#404040',\n  '#FBF3DC',\n  '#FDBE3D',\n  true,\n ]\n\n\nexport interface SelectionBarAction {\n  updateLastColor: (color: string) => void;\n  updateLastHighlight: (highlight: string) => void;\n  updateLastFill: (fill: string) => void;\n  updateCanHide: (canHide: boolean) => void;\n}\n\nexport const SelectionBarContext = React.createContext<\n[SelectionBarContextInterface, SelectionBarAction] | null\n>(null);\n\nexport function useSelectionBarContext() {\n  const context = React.useContext(SelectionBarContext);\n\n  if (!context) {\n    throw new Error('SelectionBarContext not found.');\n  }\n\n  return context;\n}\n\nexport const SelectionBarProvider: React.FC<any> = (props) => {\n  const [state, dispatch] = React.useReducer(selectionBarReducer, {\n    lastColor: DEFAULT_COLOR,\n    lastHighlight: INITIAL_HIGHLIGHT,\n    lastFill: INITIAL_FILL,\n    canHide: INITIAL_CAN_HIDE,\n  });\n\n  const actions: SelectionBarAction = React.useMemo(\n    () => ({\n      updateLastColor: (color) => {\n        dispatch({ type: UPDATE_LAST_COLOR, payload: color });\n      },\n      updateLastHighlight: (highlight) => {\n        dispatch({ type: UPDATE_LAST_HIGHLIGHT, payload: highlight });\n      },\n      updateLastFill: (fill) => {\n        dispatch({ type: UPDATE_LAST_FILL, payload: fill });\n      },\n      updateCanHide: (canHide) => {\n        dispatch({ type: UPDATE_CAN_HIDE, payload: canHide });\n      },\n    }),\n    [],\n  );\n\n  const contextValue: [\n    SelectionBarContextInterface,\n    SelectionBarAction,\n  ] = React.useMemo(() => [state, actions], [actions, state]);\n\n  return (\n    <SelectionBarContext.Provider value={contextValue}>\n      {props.children}\n    </SelectionBarContext.Provider>\n  );\n};\n"],"file":"context.js"}