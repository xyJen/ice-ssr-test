{"version":3,"sources":["../../../src/Sidebar/Collapse.tsx"],"names":["CollapseWrapper","styled","div","CommonContent","CollapseTitleWrapper","p","clickable","CollapseTitleContent","CollapseTitleFoldIconWrapper","fold","Collapse","props","renderTitle","defaultFold","useCollapse","setFold","React","useState","handleClickTitle","useCallback","e","stopPropagation","preventDefault","blockEvent","marginBottom","children"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;uBAH4B,a;;AAY5B,MAAMA,eAAe,gBAAGC,0BAAOC,GAAV,MAArB;;AAEA,MAAMC,aAAa,gBAAGF,0BAAOC,GAAV,yBAAnB;;AAIA,MAAME,oBAAoB,gBAAGH,0BAAOC,GAAV,4JAIbG,CAAD,IAAQA,CAAC,CAACC,SAAF,GAAc,SAAd,GAA0B,MAJpB,CAA1B;;AAYA,MAAMC,oBAAoB,gBAAGN,0BAAOC,GAAV,8BAA1B;;AAKA,MAAMM,4BAA4B,gBAAGP,0BAAOC,GAAV,0JAMhBG,CAAD,IAAQ,CAACA,CAAC,CAACI,IAAH,GAAU,eAAV,GAA4B,MANnB,CAAlC;;wBA8Bc,eAAC,wBAAD;AAAkB,EAAA,SAAS,EAAC;AAA5B,E;;AAnBd,MAAMC,QAAkC,GAAIC,KAAD,IAAW;AACpD,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA,WAAW,GAAG,IAA7B;AAAmCC,IAAAA,WAAW,GAAG;AAAjD,MAA2DH,KAAjE;;AACA,QAAM,CAACF,IAAD,EAAOM,OAAP,IAAkBC,eAAMC,QAAN,CAAeH,WAAW,IAAID,WAA9B,CAAxB;;AAEA,QAAMK,gBAAgB,GAAGF,eAAMG,WAAN,CAAmBC,CAAD,IAAyB;AAClE,QAAI,CAACN,WAAL,EAAkB;AAChB;AACD;;AACDM,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;AACAP,IAAAA,OAAO,CAAC,CAACN,IAAF,CAAP;AACD,GAPwB,EAOtB,CAACA,IAAD,EAAOK,WAAP,CAPsB,CAAzB;;AASA,sBACE,eAAC,eAAD,qBACE,eAAC,oBAAD;AAAsB,IAAA,OAAO,EAAEI,gBAA/B;AAAiD,IAAA,WAAW,EAAEK,qBAA9D;AAA0E,IAAA,SAAS,EAAET;AAArF,KAEIA,WAAW,iBACT,eAAC,4BAAD;AAA8B,IAAA,IAAI,EAAEL;AAApC,UAHN,eAQE,eAAC,oBAAD,QACGG,WAAW,EADd,CARF,CADF,EAcIE,WAAW,gBAEP,eAAC,wBAAD;AACE,IAAA,IAAI,EAAEL,IADR;AAEE,IAAA,OAAO,MAFT;AAGE,IAAA,KAAK,EAAE;AACLe,MAAAA,YAAY,EAAE;AADT;AAHT,KAOGb,KAAK,CAACc,QAPT,CAFO,gBAaP,eAAC,aAAD,QACGd,KAAK,CAACc,QADT,CA3BR,CADF;AAmCD,CAhDD;;eAkDef,Q","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { ArrowRightNormal } from '@ali/we-icon';\nimport { blockEvent } from '@ali/4ever-utils';\nimport CollapseContent from './CollapseContent';\n\nexport interface ICollapseProps{\n  renderTitle: () => React.ReactNode;\n  isDisabled?: () => boolean; // TODO： @淼淼 可以设置禁用\n  defaultFold?: boolean;\n  useCollapse?: boolean; // 折叠组件有性能问题，若使用需要优化后再使用\n}\n\nconst CollapseWrapper = styled.div``;\n\nconst CommonContent = styled.div`\n  margin-bottom: 12px;\n`;\n\nconst CollapseTitleWrapper = styled.div<{ clickable?: boolean }>`\n  position: relative;\n  display: flex;\n  align-items: center;\n  cursor: ${(p) => (p.clickable ? 'pointer' : 'auto')};\n  font-weight: 500;\n  font-size: 14px;\n  margin-bottom: 12px;\n  color: rgb(23, 26, 29);\n  user-select: none;\n`;\n\nconst CollapseTitleContent = styled.div`\n  flex: 1;\n  line-height: 22px;\n`;\n\nconst CollapseTitleFoldIconWrapper = styled.div<{ fold: boolean }>`\n  display: flex;\n  align-items: center;\n  margin-right: 6px;\n  .collapse-arrow-icon {\n    transform-origin: center center;\n    transform: ${(p) => (!p.fold ? 'rotate(90deg)' : 'none')};\n    transition: transform 0.3 ease;\n  }\n`;\n\nconst Collapse: React.FC<ICollapseProps> = (props) => {\n  const { renderTitle, defaultFold = true, useCollapse = false } = props;\n  const [fold, setFold] = React.useState(useCollapse && defaultFold);\n\n  const handleClickTitle = React.useCallback((e: React.MouseEvent) => {\n    if (!useCollapse) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    setFold(!fold);\n  }, [fold, useCollapse]);\n\n  return (\n    <CollapseWrapper>\n      <CollapseTitleWrapper onClick={handleClickTitle} onMouseDown={blockEvent} clickable={useCollapse}>\n        {\n          useCollapse && (\n            <CollapseTitleFoldIconWrapper fold={fold}>\n              <ArrowRightNormal className=\"collapse-arrow-icon\" />\n            </CollapseTitleFoldIconWrapper>\n          )\n        }\n        <CollapseTitleContent>\n          {renderTitle()}\n        </CollapseTitleContent>\n      </CollapseTitleWrapper>\n      {\n        useCollapse\n          ? (\n            <CollapseContent\n              fold={fold}\n              animate\n              style={{\n                marginBottom: 12,\n              }}\n            >\n              {props.children}\n            </CollapseContent>\n          )\n          : (\n            <CommonContent>\n              {props.children}\n            </CommonContent>\n          )\n      }\n    </CollapseWrapper>\n  );\n};\n\nexport default Collapse;\n"],"file":"Collapse.js"}