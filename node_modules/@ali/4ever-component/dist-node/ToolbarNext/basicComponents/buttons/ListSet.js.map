{"version":3,"sources":["../../../../../src/ToolbarNext/basicComponents/buttons/ListSet.tsx"],"names":["DEFAULT_BULLET_LIST_ARRAY","DEFAULT_STICKER_LIST_ARRAY","DEFAULT_NUMBER_LIST_ARRAY","LIST_STYLE_MAP","SCIR_ECIR_SREC","SFDI_SRIG_SREC","EREC_EREC_EREC","SARR_SDIO_SCIR","SSTA_ECIR_SREC","SRIG_ECIR_SREC","VACATION_TEA_MILKTEA","RIGHT_NAIL_LOVE","FIRE_ROCKET_NAIL","DEC_LEN_LROM_P","DEC_LEN_LROM_H","DEC_DEC_DEC_P","UEN_LEN_LROM_P","UROM_UEN_DEC_P","DDEC_LEN_LROM_P","ZH_DEC_LEN_D","ZH_DEC_LEN_A","ZH_ZH_DEC_D","OverlayContent","styled","div","ListStyleItemWrap","ListStyleItem","img","getListRole","mode","key","prefix","StopEvent","event","stopPropagation","ListSet","props","defaultListStyle","onChange","onClick","disabled","icon","enableSticker","active","rest","listStyleArray","concat","value","setValue","overlayVisible","setOverlayVisible","handleChange","e","handleVisibleChange","visible","handleClickLeft","getOverlay","map","item","actived","renderTriggerIcon"],"mappings":"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","sourcesContent":["import React, { useMemo, useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { SplitButton } from './Basics';\nimport {\n  IconOrderList,\n  IconUnorderList,\n} from '../icons';\nimport classnames from 'classnames';\n\n\nexport type ListMode = 'ul' | 'ol';\n\nconst DEFAULT_BULLET_LIST_ARRAY = [\n  'SCIR_ECIR_SREC',\n  'SFDI_SRIG_SREC',\n  'EREC_EREC_EREC',\n  'SARR_SDIO_SCIR',\n  'SSTA_ECIR_SREC',\n  'SRIG_ECIR_SREC',\n];\n\nconst DEFAULT_STICKER_LIST_ARRAY = [\n  'VACATION_TEA_MILKTEA',\n  'RIGHT_NAIL_LOVE',\n  'FIRE_ROCKET_NAIL',\n];\n\nconst DEFAULT_NUMBER_LIST_ARRAY = [\n  'DEC_LEN_LROM_P',\n  'DEC_LEN_LROM_H',\n  'DEC_DEC_DEC_P',\n  'UEN_LEN_LROM_P',\n  'UROM_UEN_DEC_P',\n  'DDEC_LEN_LROM_P',\n  'ZH_DEC_LEN_D',\n  'ZH_DEC_LEN_A',\n  'ZH_ZH_DEC_D',\n];\n\nconst LIST_STYLE_MAP = {\n  SCIR_ECIR_SREC:\n    'https://img.alicdn.com/tfs/TB1mWdYbAcx_u4jSZFlXXXnUFXa-78-78.svg',\n  SFDI_SRIG_SREC:\n    'https://img.alicdn.com/tfs/TB1hpepOpP7gK0jSZFjXXc5aXXa-78-78.svg',\n  EREC_EREC_EREC:\n    'https://img.alicdn.com/tfs/TB1cJR4czMZ7e4jSZFOXXX7epXa-78-78.svg',\n  SARR_SDIO_SCIR:\n    'https://img.alicdn.com/tfs/TB1aaWcOEY1gK0jSZFMXXaWcVXa-78-78.svg',\n  SSTA_ECIR_SREC:\n    'https://img.alicdn.com/tfs/TB1VoX8OxD1gK0jSZFsXXbldVXa-78-78.svg',\n  SRIG_ECIR_SREC:\n    'https://img.alicdn.com/tfs/TB1cqp4OAL0gK0jSZFtXXXQCXXa-78-78.svg',\n  VACATION_TEA_MILKTEA:\n    'https://img.alicdn.com/imgextra/i4/O1CN01iGy3OC23bXk0A5V99_!!6000000007274-2-tps-240-240.png',\n  RIGHT_NAIL_LOVE:\n    'https://img.alicdn.com/imgextra/i4/O1CN01rYMRza1OM46kvi2Yx_!!6000000001690-2-tps-240-240.png',\n  FIRE_ROCKET_NAIL:\n    'https://img.alicdn.com/imgextra/i3/O1CN01QfDOFq1R49SyPKcpW_!!6000000002057-2-tps-240-240.png',\n  DEC_LEN_LROM_P:\n    'https://img.alicdn.com/tfs/TB19lt9OEz1gK0jSZLeXXb9kVXa-78-78.svg',\n  DEC_LEN_LROM_H:\n    'https://img.alicdn.com/tfs/TB18HydOAL0gK0jSZFAXXcA9pXa-78-78.svg',\n  DEC_DEC_DEC_P:\n    'https://img.alicdn.com/tfs/TB1gHycOqL7gK0jSZFBXXXZZpXa-78-78.svg',\n  UEN_LEN_LROM_P:\n    'https://img.alicdn.com/tfs/TB1VaOnOBr0gK0jSZFnXXbRRXXa-78-78.svg',\n  UROM_UEN_DEC_P:\n    'https://img.alicdn.com/tfs/TB1xcqhOAY2gK0jSZFgXXc5OFXa-78-78.svg',\n  DDEC_LEN_LROM_P:\n    'https://img.alicdn.com/tfs/TB1yjive8Bh1e4jSZFhXXcC9VXa-78-78.svg',\n  ZH_DEC_LEN_D:\n    'https://img.alicdn.com/tfs/TB1bFQZ0aL7gK0jSZFBXXXZZpXa-82-82.svg',\n  ZH_DEC_LEN_A:\n    'https://img.alicdn.com/tfs/TB11.iDj4vbeK8jSZPfXXariXXa-82-82.svg',\n  ZH_ZH_DEC_D:\n    'https://img.alicdn.com/imgextra/i4/O1CN01XYORsY1OjQIxXuZxz_!!6000000001741-55-tps-82-82.svg',\n};\n\nconst OverlayContent = styled.div`\n  width: 272px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  padding: 4px;\n`;\n\nconst ListStyleItemWrap = styled.div`\n  user-select: none;\n`;\n\nconst ListStyleItem = styled.img`\n  width: 80px;\n  height: 80px;\n  margin: 4px;\n  border: 1px solid rgba(17, 31, 44, 0.12);\n  border-radius: 2px;\n  cursor: pointer;\n  image-rendering: pixelated;\n\n  &:hover {\n    border: 1px solid #0089FF;\n  }\n\n  &.actived {\n    border: 2px solid #0089FF;\n  }\n`;\n\n\nexport interface IListSetProps extends\n  Pick<Partial<React.ComponentProps<typeof SplitButton>>, 'onVisibleChange' | 'title' | 'tooltip' | 'icon' | 'disabled' | 'testid' | 'role' | 'active'> {\n  onChange?: (item: string) => void;\n  onClick?: (item: string) => void;\n  enableSticker?: boolean;\n  mode?: ListMode,\n  defaultListStyle?: keyof typeof LIST_STYLE_MAP\n}\n\n\nfunction getListRole(mode: string, key: string): string {\n  const prefix = mode === 'ul' ? 'listUnordered' : 'listOrdered';\n  return `${prefix}_${key}`;\n}\n\nfunction StopEvent(event: React.MouseEvent) {\n  event.stopPropagation()\n}\n\nexport const ListSet: React.FC<IListSetProps> = (props) => {\n  const {\n    mode = 'ul',\n    defaultListStyle,\n    onChange,\n    onClick,\n    disabled,\n    icon,\n    enableSticker,\n    active,\n    ...rest\n  } = props;\n  const listStyleArray = useMemo(\n    () => {\n      if (mode !== 'ul') {\n        return DEFAULT_NUMBER_LIST_ARRAY;\n      } else {\n        return enableSticker\n          ? DEFAULT_BULLET_LIST_ARRAY.concat(DEFAULT_STICKER_LIST_ARRAY)\n          : DEFAULT_BULLET_LIST_ARRAY;\n      }\n    },\n    [mode],\n  );\n  const [value, setValue] = useState(\n    defaultListStyle || listStyleArray[0],\n  );\n  const [overlayVisible, setOverlayVisible] = useState(false);\n\n  const handleChange = useCallback(\n    (e: string) => {\n      if (onChange) {\n        onChange(e);\n      }\n      setValue(e);\n      setOverlayVisible(false);\n    },\n    [onChange, setValue],\n  );\n\n  const handleVisibleChange = useCallback((visible: boolean) => {\n    setOverlayVisible(visible);\n  }, []);\n\n  const handleClickLeft = useCallback(() => {\n    if (onClick) {\n      onClick(value!);\n    }\n  }, [onClick, value]);\n\n  const getOverlay = useMemo(() => {\n    return (\n      <OverlayContent data-testid=\"overlay-ListSet\" onClick={StopEvent}>\n        {listStyleArray.map((item) => {\n          return (\n            <ListStyleItemWrap\n              key={item}\n              onClick={() => handleChange(item)}\n              data-role={getListRole(mode, item)}\n              role=\"button\"\n            >\n              <ListStyleItem\n                src={LIST_STYLE_MAP[item]}\n                alt=\"list-style-item\"\n                className={classnames({ actived: item === value })}\n                data-testid={`option-${item}`}\n              />\n            </ListStyleItemWrap>\n          );\n        })}\n      </OverlayContent>\n    );\n  }, [value]);\n\n  const renderTriggerIcon = useMemo(\n    () => {\n      if (icon) {\n        return icon;\n      }\n      return mode === 'ul' ? <IconUnorderList /> : <IconOrderList />;\n    }, [mode, icon],\n  );\n\n  return (\n    <SplitButton\n      overlay={getOverlay}\n      disabled={disabled}\n      onClick={handleClickLeft}\n      overlayVisible={overlayVisible}\n      onVisibleChange={handleVisibleChange}\n      icon={renderTriggerIcon}\n      active={active || overlayVisible}\n      {...rest}\n    />\n  );\n};\n"],"file":"ListSet.js"}