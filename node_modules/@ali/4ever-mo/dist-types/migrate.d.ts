import { Document } from '@ali/4ever-cangjie';
import { JsonML } from '@ali/4ever-utils';
import { MigrateError, MigrateErrorCode, MigrateOptions, Migration } from './type';
export declare const MissingMigrationError: {
    code: MigrateErrorCode;
    message: string;
};
export declare function normalizeError(e: any): MigrateError;
/**
 * 校验是否拥有迁移脚本
 * @param migrations
 * @param targetVersion
 * @param isUpgrade
 */
export declare function assertHasMigrations(migrations: Pick<Migration, 'prevVersion' | 'nextVersion'>[], targetVersion: number, isUpgrade: boolean): void;
/**
 * Mo 模型升降级
 * @param options
 * @returns
 */
export default function migrate(options: MigrateOptions): JsonML | Document;
/**
 * 获得 `cp` 携带的版本号
 * @param cp
 * @returns
 */
export declare function getVersionFromCP(cp: JsonML): number;
/**
 * 获得内存模型的版本号
 * @param document
 */
export declare function getVersionFromDocument(document: Document): any;
