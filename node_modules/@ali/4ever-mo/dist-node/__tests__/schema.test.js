"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _everCangjie = require("@ali/4ever-cangjie");

var _schema = _interopRequireDefault(require("../schema"));

var _helper = require("./helper");

/** @jsx jsx */
const emptyValue = (0, _helper.createValueWithContent)([]);
describe('Mo.schema', () => {
  describe('isVoid', () => {
    test('link with link displayType is not void', () => {
      const textLink = _everCangjie.Inline.create({
        type: 'link'
      });

      const plugins = [{
        schema: _schema.default
      }];

      const controller = _everCangjie.Controller.create({
        value: emptyValue,
        plugins
      });

      expect(controller.query('isVoid', textLink)).toBe(false);
    });
    test('link with card displayType is void', () => {
      const cardLink = _everCangjie.Inline.create({
        type: 'link',
        data: {
          cardInfo: {
            displayType: 'card'
          }
        }
      });

      const plugins = [{
        schema: _schema.default
      }];

      const controller = _everCangjie.Controller.create({
        value: emptyValue,
        plugins
      });

      expect(controller.query('isVoid', cardLink)).toBe(true);
    });
  });
});
//# sourceMappingURL=schema.test.js.map