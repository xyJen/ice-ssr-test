"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var fs = _interopRequireWildcard(require("fs"));

var path = _interopRequireWildcard(require("path"));

var _jestFileSnapshot = require("jest-file-snapshot");

var _index = require("../../index");

expect.extend({
  toMatchFile: _jestFileSnapshot.toMatchFile
});
const fixturesPath = path.join(__dirname, 'fixtures');
const fixtures = fs.readdirSync(fixturesPath);
describe('Mo.htmlToMarkdown', () => {
  fixtures.forEach(async fixture => {
    const fixturePath = path.join(fixturesPath, fixture);
    if (fixturePath.endsWith('_skip')) return;
    const inputPath = path.join(fixturePath, 'input.json');
    const outputPath = path.join(fixturePath, 'output.md');
    const mo = (0, _index.Serializer)({
      plugins: (0, _index.createMoPlugins)()
    });
    const jsonml = JSON.parse(fs.readFileSync(inputPath).toString());
    it(fixture, async () => {
      const markdown = await mo.jsonMLToMarkdown(jsonml);
      expect(markdown).toMatchFile(outputPath);
    });
  });
});
//# sourceMappingURL=index.test.js.map