"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fse = require("fs-extra");
var html_minifier_1 = require("html-minifier");
var replaceHtmlContent = function (htmlFilePath, serverBundlePath) {
    var bundle = fse.readFileSync(serverBundlePath, 'utf-8');
    var html = fse.readFileSync(htmlFilePath, 'utf-8');
    var minifiedHtml = (0, html_minifier_1.minify)(html, { collapseWhitespace: true, quoteCharacter: '\'' }).replace(/`/g, '&#x60;');
    // `"` in the regulation expression is to be compatible with the minifier(such as terser)
    var newBundle = bundle.replace(/['"]global.__ICE_SERVER_HTML_TEMPLATE__['"]/, "`".concat(minifiedHtml, "`"));
    fse.writeFileSync(serverBundlePath, newBundle, 'utf-8');
};
exports.default = replaceHtmlContent;
//# sourceMappingURL=replaceHtmlContent.js.map